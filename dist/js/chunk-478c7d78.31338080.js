(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-478c7d78"],{"05ff":function(t,e,a){"use strict";a.r(e);var r=a("9b3d"),o=a("f3b9");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("8f72");var i=a("2877"),s=Object(i.a)(o.default,r.a,r.b,!1,null,"47e397a5",null);e.default=s.exports},3722:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("23f7"),o={groupStartEnd:function(t){return r.axios.post("/backend-api/we-chat-manage/group-status-config",t)},getAutoGroupList:function(t){return r.axios.post("/backend-api/we-chat-manage/group-config-list",t)}};e.default=o},6899:function(t,e,a){var r=a("9d56");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a("499e").default)("5be26f07",r,!0,{sourceMap:!1,shadowMode:!1})},"8f72":function(t,e,a){"use strict";a("6899")},"9b3d":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return o}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auto-group-wrap"},[a("el-breadcrumb",{staticClass:"bread-crumb-box",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[t._v("首页")])]),a("el-breadcrumb-item",[t._v("微信好友自动分组配置页")])],1),a("div",{staticClass:"v-box group-config"},[t._m(0),a("div",{staticClass:"bd"},[a("div",{staticClass:"add-config"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.total<11,expression:"total < 11"}],attrs:{type:"primary"},on:{click:function(e){return t.skipEdit(0)}}},[t._v(" +新增自动分组配置 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{label:"编号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!==e.$index?a("div",[t._v(" "+t._s(e.$index)+" ")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"group_name",label:"名称","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-input",{attrs:{size:"mini",placeholder:"输入名称搜索"},on:{blur:t.searchGroupList},model:{value:t.params.groupName,callback:function(e){t.$set(t.params,"groupName",e)},expression:"params.groupName"}})],1):a("div",[t._v(t._s(e.row.group_name))])]}}])}),a("el-table-column",{attrs:{prop:"key_word",label:"关键词","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-input",{attrs:{size:"mini",placeholder:"输入关键词搜索"},on:{blur:t.searchGroupList},model:{value:t.params.keyWord,callback:function(e){t.$set(t.params,"keyWord",e)},expression:"params.keyWord"}})],1):a("div",t._l(e.row.key_word,(function(e,r){return a("div",{key:r},[t._v(" "+t._s(e)+" ")])})),0)]}}])}),a("el-table-column",{attrs:{prop:"group",label:"自动分组","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},on:{change:t.searchGroupList},model:{value:t.params.autoGroup,callback:function(e){t.$set(t.params,"autoGroup",e)},expression:"params.autoGroup"}},t._l(t.groupOpts,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1):a("div",[t._v(t._s(e.row.group))])]}}])}),a("el-table-column",{attrs:{prop:"is_open",label:"是否启用","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},on:{change:t.searchGroupList},model:{value:t.params.isOpen,callback:function(e){t.$set(t.params,"isOpen",e)},expression:"params.isOpen"}},t._l(t.openOpts,(function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})})),1)],1):a("div",[t._v(t._s(1==e.row.is_open?"启用":"停用"))])]}}])}),a("el-table-column",{attrs:{prop:"priority",label:"优先级","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-input",{attrs:{size:"mini",placeholder:"输入优先级搜索"},on:{blur:t.searchGroupList},model:{value:t.params.priority,callback:function(e){t.$set(t.params,"priority",e)},expression:"params.priority"}})],1):a("div",[t._v(t._s(e.row.priority))])]}}])}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!==e.$index?a("div",[t._v(" "+t._s(e.row.create_time)+" ")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"creator",label:"创建人","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.$index?a("div",[a("el-autocomplete",{attrs:{"fetch-suggestions":t.searchCreator,placeholder:"输入创建人搜索",size:"mini"},on:{blur:t.searchGroupList},model:{value:t.params.creator,callback:function(e){t.$set(t.params,"creator",e)},expression:"params.creator"}})],1):a("div",[t._v(t._s(e.row.creator))])]}}])}),a("el-table-column",{attrs:{prop:"update_auth",label:"编辑","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!==e.$index?a("div",{staticClass:"edit-color"},[e.row.update_auth?a("span",{on:{click:function(a){return t.skipEdit(e.row.id)}}},[t._v(" 编辑 ")]):t._e(),a("span",{on:{click:function(a){return t.editDialog(e.row)}}},[t._v(" "+t._s(1==e.row.is_open?"停用":"启用")+" ")])]):t._e()]}}])})],1)],1)]),a("el-dialog",{staticClass:"start-dialog",attrs:{visible:t.dialogStatus,width:"400px"},on:{"update:visible":function(e){t.dialogStatus=e}}},[a("span",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s("1"==t.openStatus.state?"停用":"启用")+"自动分组 ")]),"1"==t.openStatus.state?a("span",[t._v(" 您确认要将"+t._s(t.openStatus.name)+"的自动分组配置为停用吗？停用后，本条策略不再生效，不会对咨询师的微信好友进行自动分组； ")]):a("span",[t._v(" 您确认要将"+t._s(t.openStatus.name)+"的自动分组配置为启用吗？启用后，本条策略将生效，会对咨询师的微信好友进行自动分组； ")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogStatus=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confrim}},[t._v(" 确 定 ")])],1)])],1)},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hd"},[e("h2",[this._v("微信好友自动分组配置页")])])}]},"9d56":function(t,e,a){(e=a("24fb")(!1)).push([t.i,".auto-group-wrap[data-v-47e397a5]{padding:0 20px 30px}.auto-group-wrap[data-v-47e397a5] .start-dialog .el-dialog__header{text-align:center}.auto-group-wrap[data-v-47e397a5] .start-dialog .el-dialog__header span{font-size:18px}.auto-group-wrap[data-v-47e397a5] .start-dialog .el-dialog__header .el-dialog__headerbtn{display:none}.auto-group-wrap[data-v-47e397a5] .start-dialog .el-dialog__body{padding:20px 20px}.auto-group-wrap[data-v-47e397a5] .el-table td,.auto-group-wrap[data-v-47e397a5] .el-table th,.auto-group-wrap[data-v-47e397a5] .start-dialog .el-dialog__footer{text-align:center}.auto-group-wrap[data-v-47e397a5] .el-table .edit-color{cursor:pointer;color:#409eff}.auto-group-wrap .add-config[data-v-47e397a5]{text-align:right;margin-bottom:10px}",""]),t.exports=e},b85c:function(t,e,a){"use strict";a("a4d3"),a("e01a"),a("d28b"),a("d3b7"),a("3ca3"),a("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=(0,o.default)(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){u=!0,i=t},f:function(){try{s||null==a.return||a.return()}finally{if(u)throw i}}}};var r,o=(r=a("06c5"))&&r.__esModule?r:{default:r}},bfca:function(t,e,a){"use strict";var r=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(a("b85c"));a("96cf");var n=r(a("1da1")),i=r(a("f946")),s=r(a("3722")),u={name:"autoGroupConfig",data:function(){return{total:0,firstFlag:!0,loading:!1,dialogStatus:!1,openStatus:{},statusData:{},params:{groupName:"",keyWord:"",autoGroup:"",isOpen:"",priority:"",creator:""},groupOpts:[],openOpts:[],tableData:[]}},created:function(){this.searchGroupList()},methods:{skipEdit:function(t){var e=this.$router.resolve({path:"/weChatAddressBook/editAutoGroup",query:{id:t}});window.open(e.href,"_blank")},confrim:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dialogStatus=!1,e.prev=1,a={is_open:1==t.openStatus.state?"2":"1",id:t.openStatus.configId},e.next=5,s.default.groupStartEnd(a);case 5:r=e.sent,0===r.data.code&&t.searchGroupList(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},editDialog:function(t){var e=this;return(0,n.default)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.openStatus={state:t.is_open,name:t.group_name,configId:t.id},e.dialogStatus=!0;case 2:case"end":return a.stop()}}),a)})))()},searchCreator:function(t,e){return(0,n.default)(regeneratorRuntime.mark((function a(){var r,n,s,u,l,d,c;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t){a.next=11;break}return r=[{}],n={q:t},a.next=6,i.default.getPageEmployee(n);case 6:if(s=a.sent,0===(u=s.data).code){l=(0,o.default)(u.data.list);try{for(l.s();!(d=l.n()).done;)(c=d.value).value=c.text}catch(t){l.e(t)}finally{l.f()}r=u.data.list,e(r)}a.next=13;break;case 11:e([]);case 13:a.next=18;break;case 15:a.prev=15,a.t0=a.catch(0),console.log(a.t0);case 18:case"end":return a.stop()}}),a,null,[[0,15]])})))()},searchGroupList:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,a={group_name:t.params.groupName,key_word:t.params.keyWord,group:t.params.autoGroup,priority:t.params.priority,creator:t.params.creator,is_open:t.params.isOpen},e.next=5,s.default.getAutoGroupList(a);case 5:r=e.sent,0===(o=r.data).code&&(t.tableData=o.data.list?o.data.list:[],t.tableData.unshift({}),t.openOpts=o.data.open_list?o.data.open_list:[],t.groupOpts=o.data.group_list?o.data.group_list:[],t.firstFlag&&(t.firstFlag=!1,t.total=t.tableData.length)),t.loading=!1,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),t.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))()}}};e.default=u},f3b9:function(t,e,a){"use strict";a.r(e);var r=a("bfca"),o=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e.default=o.a}}]);