(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9faba14e"],{"04e3":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"subscribe-list"},[a("el-breadcrumb",{staticClass:"bread-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[e._v("首页")])]),a("el-breadcrumb-item",[e._v("虚拟号管理")]),a("el-breadcrumb-item",[e._v("虚拟号绑定明细")])],1),a("el-form",{ref:"dealForm",staticClass:"deal-form",attrs:{model:e.dealForm,"label-width":"140px",inline:!0}},[a("el-form-item",{attrs:{prop:"city",label:"虚拟号归属城市："}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.dealForm.city,callback:function(t){e.$set(e.dealForm,"city",t)},expression:"dealForm.city"}},e._l(e.selectObj.cityOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),a("el-form-item",{attrs:{prop:"virtualNumType",label:"虚拟号类型："}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.dealForm.virtualNumType,callback:function(t){e.$set(e.dealForm,"virtualNumType",t)},expression:"dealForm.virtualNumType"}},e._l(e.selectObj.virtualNumTypeOps,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),a("el-form-item",{attrs:{prop:"virtualNum",label:"虚拟号号码:"}},[a("el-input",{attrs:{placeholder:"精确搜索"},model:{value:e.dealForm.virtualNum,callback:function(t){e.$set(e.dealForm,"virtualNum",t)},expression:"dealForm.virtualNum"}})],1),a("el-form-item",{attrs:{prop:"user",label:"使用业务方："}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.dealForm.user,callback:function(t){e.$set(e.dealForm,"user",t)},expression:"dealForm.user"}},e._l(e.selectObj.userOps,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),a("el-form-item",{attrs:{prop:"aBindNum",label:"A侧绑定号码:"}},[a("el-input",{attrs:{placeholder:"精确搜索"},model:{value:e.dealForm.aBindNum,callback:function(t){e.$set(e.dealForm,"aBindNum",t)},expression:"dealForm.aBindNum"}})],1),a("el-form-item",{attrs:{prop:"bBindNum",label:"B侧绑定号码:"}},[a("el-input",{attrs:{placeholder:"精确搜索"},model:{value:e.dealForm.bBindNum,callback:function(t){e.$set(e.dealForm,"bBindNum",t)},expression:"dealForm.bBindNum"}})],1),a("el-form-item",{attrs:{prop:"bindStatus",label:"绑定状态："}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.dealForm.bindStatus,callback:function(t){e.$set(e.dealForm,"bindStatus",t)},expression:"dealForm.bindStatus"}},e._l(e.selectObj.bindStatusOps,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),a("el-form-item",{staticClass:"form-item-center"},[a("el-button",{on:{click:e.resetForm}},[e._v(" 重置 ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getDataByOptions()}}},[e._v(" 搜索 ")])],1)],1),a("div",{staticClass:"table-list-wrap"},[a("div",{staticClass:"table-top-box"}),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"subscribe-table",attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"city_name",label:"虚拟号归属城市"}}),a("el-table-column",{attrs:{prop:"type",label:"虚拟号类型"}}),a("el-table-column",{attrs:{prop:"user_type",label:"使用业务方"}}),a("el-table-column",{attrs:{prop:"phone",label:"虚拟号号码"}}),a("el-table-column",{attrs:{prop:"a_phone",label:"A侧绑定号码"}}),a("el-table-column",{attrs:{prop:"b_phone",label:"B侧绑定号码"}}),a("el-table-column",{attrs:{prop:"status_text",label:"绑定状态"}}),a("el-table-column",{attrs:{prop:"bind_datetime",label:"绑定时间"}}),a("el-table-column",{attrs:{prop:"unbind_datetime",label:"解绑时间"}}),a("el-table-column",{attrs:{prop:"operateOptions",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.confirmUnbind(t.row.id)}}},[e._v(" 解绑 ")]):e._e()]}}])})],1),a("el-pagination",{staticClass:"page-wrap",attrs:{"current-page":e.pages.currentPage,"page-size":e.pages.pageSize,"hide-on-single-page":"",background:"",layout:"prev, pager, next, jumper",total:e.pages.total},on:{"update:currentPage":function(t){return e.$set(e.pages,"currentPage",t)},"update:current-page":function(t){return e.$set(e.pages,"currentPage",t)},"current-change":e.handleCurrentChange}})],1)],1)},n=[]},"0920":function(e,t,a){"use strict";a.r(t);var r=a("04e3"),n=a("d6e6");for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);a("ab85");var i=a("2877"),o=Object(i.a)(n.default,r.a,r.b,!1,null,"5b73fdc0",null);t.default=o.exports},3943:function(e,t,a){(t=a("24fb")(!1)).push([e.i,".subscribe-list[data-v-5b73fdc0]{padding:20px 30px 0}.deal-form[data-v-5b73fdc0]{margin-top:20px;padding:15px 20px;background-color:#fff}.deal-form .form-item-center[data-v-5b73fdc0]{width:100%;margin-bottom:0;text-align:center}.deal-form[data-v-5b73fdc0] .el-form-item .el-input{width:140px}.deal-form[data-v-5b73fdc0] .el-form-item .el-range-input,.table-list-wrap[data-v-5b73fdc0]{background-color:#fff}.table-list-wrap[data-v-5b73fdc0]{margin-top:15px;padding:15px}.table-top-box[data-v-5b73fdc0]{overflow:hidden;padding-bottom:10px}.table-top-box .add-btn[data-v-5b73fdc0]{float:right}.page-wrap[data-v-5b73fdc0]{margin:25px 0 10px}",""]),e.exports=t},"5c68e":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("23f7"),n={getBindDetailData:function(e){return r.axios.get("/backend-api/virtual-phone/bind-view",{params:e})},unbindVirtualDetail:function(e){return r.axios.post("/backend-api/virtual-phone/unbind",e)}};t.default=n},"60e1":function(e,t,a){var r=a("3943");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,a("499e").default)("07ab0df0",r,!0,{sourceMap:!1,shadowMode:!1})},"800f":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("23f7"),n={getConfigListData:function(e){return r.axios.post("/backend-api/virtual-phone/common-select",e)},getCityListData:function(e){return r.axios.get("/backend-api/common/get-all-city-list",{params:e})}};t.default=n},"9ee6":function(e,t,a){"use strict";var r=a("4ea4");a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var n=r(a("1da1")),l=r(a("5c68e")),i=r(a("800f")),o={name:"SubscribeList",data:function(){return{dealForm:{bindId:"",city:"",virtualNumType:"",virtualNum:"",user:"",aBindNum:"",bBindNum:"",bindStatus:""},selectObj:{cityOptions:[],virtualNumTypeOps:[],userOps:[],bindStatusOps:[]},loading:!1,tableData:[],pages:{pageSize:20,currentPage:1,total:0},isDoing:!1}},created:function(){this.initSelectOps(),this.getCityOps()},mounted:function(){this.dealForm.virtualNum=this.$route.query.phone||"",this.getDataByOptions()},methods:{initSelectOps:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var a,r,n,l,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=[1,2,3,4],t.next=4,i.default.getConfigListData({type:a});case 4:r=t.sent,n=r.data,l=n.code,o=n.data,s=n.msg,0===l?(e.selectObj.virtualNumTypeOps=o.virtual_type,e.selectObj.userOps=o.user_type,e.selectObj.bindStatusOps=o.bind_status):e.$message.error(s),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},getCityOps:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var a,r,n,l,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.default.getCityListData();case 3:a=t.sent,r=a.data,n=r.code,l=r.data,o=r.msg,0===n?e.selectObj.cityOptions=l:e.$message.error(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getDataByOptions:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var a,r,n,i,o,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,a=e.dealForm,r={page:e.pages.currentPage,page_size:e.pages.pageSize,city_id:a.city,type:a.virtualNumType,user_type:a.user,phone:a.virtualNum,a_phone:a.aBindNum,b_phone:a.bBindNum,status:a.bindStatus},t.prev=3,t.next=6,l.default.getBindDetailData(r);case 6:n=t.sent,i=n.data,o=i.code,s=i.data,u=i.msg,e.loading=!1,0===o?(e.tableData=s.list,e.pages.total=Number(s.total_count)):e.$message.error(u),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(3),e.loading=!1,console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[3,15]])})))()},confirmUnbind:function(e){var t=this;this.$confirm("是否确认解绑?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.unbindDetail(e)})).catch((function(e){console.log(e)}))},unbindDetail:function(e){var t=this;return(0,n.default)(regeneratorRuntime.mark((function a(){var r,n,i,o;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l.default.unbindVirtualDetail({id:e});case 3:r=a.sent,n=r.data,i=n.code,o=n.msg,t.$message.error(o),0===i&&t.getDataByOptions(),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()},handleCurrentChange:function(e){this.pages.currentPage=e,this.getDataByOptions()},resetForm:function(){this.$refs.dealForm.resetFields(),this.getDataByOptions()}}};t.default=o},ab85:function(e,t,a){"use strict";a("60e1")},d6e6:function(e,t,a){"use strict";a.r(t);var r=a("9ee6"),n=a.n(r);for(var l in r)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(l);t.default=n.a}}]);