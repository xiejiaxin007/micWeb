(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fe96bb68"],{"0401":function(e,t,a){"use strict";a.r(t);var i=a("f283"),r=a("0e1e");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var n=a("2877"),s=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);t.default=s.exports},"058c":function(e,t,a){var i=a("6c48");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("499e").default)("151eed7f",i,!0,{sourceMap:!1,shadowMode:!1})},"0928":function(e,t,a){"use strict";a.r(t);var i=a("e77b"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t.default=r.a},"0aab":function(e,t,a){"use strict";a.r(t);var i=a("e0d2"),r=a("68a9");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var n=a("2877"),s=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);t.default=s.exports},"0d00":function(e,t,a){"use strict";a.r(t);var i=a("cd1c"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t.default=r.a},"0e04":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"反馈是否准确",prop:"isRight"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.isRight,callback:function(t){e.$set(e.form,"isRight",t)},expression:"form.isRight"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"是否处理完成",prop:"isFinished"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.isFinished,callback:function(t){e.$set(e.form,"isFinished",t)},expression:"form.isFinished"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"处理结果",prop:"result"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入处理结果，最多300字，超出无法输入",maxlength:"300",rows:"3"},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1)],1)},r=[]},"0e1e":function(e,t,a){"use strict";a.r(t);var i=a("fa86"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t.default=r.a},"19cd":function(e,t,a){(t=a("24fb")(!1)).push([e.i,".v-box[data-v-837fee2e]{padding-top:20px}.v-box .my-form .el-form-item[data-v-837fee2e]{margin-bottom:0}.v-box .my-form .el-form-item.form-item-margin[data-v-837fee2e]{margin:10px 0 20px}.v-box .my-form .reason-width[data-v-837fee2e]{width:100%}.fix-buttons[data-v-837fee2e]{left:30px;right:30px;bottom:0;z-index:100;padding:10px;background:#fff;text-align:center;margin-top:-20px;margin-bottom:20px}.fix-buttons .el-button[data-v-837fee2e]{margin:0 20px}",""]),e.exports=t},2317:function(e,t,a){"use strict";var i=a("4ea4");a("4de4"),a("c975"),a("d81d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var r=i(a("1da1")),o=i(a("0aab")),n=i(a("bd4d")),s=i(a("0401")),l=i(a("5775")),u=a("2af9"),c=i(a("ab3a")),f={name:"BtnOpts",components:{ComplaintForm:o.default,FeedBackForm:n.default,PerformanceForm:s.default,AppealForm:l.default,ConfirmDialog:u.ConfirmDialog,RejectDialog:u.RejectDialog,AlertDialog:u.AlertDialog},props:{btns:{type:Array,default:function(){return[]}},isEdit:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},formInfo:{type:Object,default:function(){return{}}},updateTime:{type:String,default:""}},computed:{followBtns:function(){var e=["5","6","7","8"];return this.btns.filter((function(t){return-1!==e.indexOf(t.value)}))},optBtns:function(){var e=["5","6","7","8","9"];return this.btns.filter((function(t){return-1===e.indexOf(t.value)}))},activeBtns:function(){return this.btns.map((function(e){return e.value}))},editForm:function(){return{complaint_category:this.formInfo.reason[0]||"",one_cause:this.formInfo.reason[1]||"",two_cause:this.formInfo.reason[2]||"",three_cause:this.formInfo.reason[3]||"",is_many_order:this.formInfo.isOrderQuestion}}},data:function(){return{isAppeal:!1,id:this.$route.query.id,dialog:{visible:!1,title:"",content:"",confirmBtn:"",type:""},rejectVisible:!1,rejectType:"",updateMsgVisible:!1}},methods:{save:function(){this.$emit("save",!0)},showForm:function(e){return-1!==this.activeBtns.indexOf(e)},checkBtnColor:function(e){return-1!==["1","2","3","4","13"].indexOf(e)?"danger":"primary"},handleClick:function(e){switch(e){case"1":case"2":case"3":case"13":this.rejectVisible=!0,this.rejectType=e;break;case"4":this.dialog={visible:!0,title:"关闭任务",content:"您确认要关闭此任务吗？任务关闭后，无法重新开启，只能重新新建客诉任务！",confirmBtn:"关闭",type:e};break;case"10":this.dialog={visible:!0,title:"提示",content:"确认无误后，无法再针对品控绩效处理结果发起申诉，请谨慎操作",confirmBtn:"继续确认",type:e};break;case"11":case"14":this.handleFollow(e);break;case"5":this.$refs.complaintForm.validateForm(this.id,e);break;case"6":this.$refs.feedBackForm.validateForm(this.id,e);break;case"7":this.$emit("saveSuggest",!0);break;case"8":this.$refs.performanceForm.validateForm(this.id,e);break;case"9":this.$refs.appealForm.validateForm(this.id,e)}},confirmCloseTask:function(){this.handleFollow(this.dialog.type)},confirmReject:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var i,r,o,n,s,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i={complaints_id:t.id,follow_type:t.rejectType,update_datetime:t.updateTime,reason:e,yw_complaints:t.editForm},a.next=4,c.default.rejectTask(i);case 4:r=a.sent,o=r.data,n=o.code,s=o.msg,l=o.data,t.rejectVisible=!1,t.saveBack({code:n,msg:s,data:l},t.rejectType,"该任务已驳回成功，请悉知"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()},handleFollow:function(e){var t=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var i,r,o,n,s,l,u;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,i={complaints_id:t.id,follow_type:e,update_datetime:t.updateTime},a.next=4,c.default.commonFollow(i);case 4:r=a.sent,o=r.data,n=o.code,s=o.msg,l=o.data,u="4"===e?"任务关闭成功":"","4"!==e&&"10"!==e||(t.dialog.visible=!1),t.saveBack({code:n,msg:s,data:l},e,u),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})))()},saveBack:function(e,t,a){var i=e.code,r=e.msg;e.data;0===i?(this.$message({message:a||r,type:"success"}),this.isEdit?this.$router.push({path:"/complaint/followComplaint",query:{id:this.id}}):this.$emit("reload",!0)):-2===i?this.handleTaskUpdate():this.$message.error(r)},handleTaskUpdate:function(){this.updateMsgVisible=!0},reload:function(){this.updateMsgVisible=!1,this.$emit("reload",!0)}}};t.default=f},"2aa9":function(e,t,a){(t=a("24fb")(!1)).push([e.i,".img-list[data-v-3a9b1e4d]{height:auto;overflow:hidden}.img-list li[data-v-3a9b1e4d]{position:relative;float:left;width:100px;height:100px;text-align:center;margin-right:12px;margin-bottom:10px;border:1px solid #eee}.img-list li .img-item-box[data-v-3a9b1e4d]{width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.img-list li .img-item-box img[data-v-3a9b1e4d]{max-width:100%;max-height:100%}.audio-list li[data-v-3a9b1e4d]{height:auto;overflow:hidden;padding-bottom:8px}.audio-list li .audio-item-box[data-v-3a9b1e4d]{float:left}",""]),e.exports=t},"2cbf":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.list&&e.list.length>0?a("div",{staticClass:"v-box"},[a("div",{staticClass:"main-title"},[e._v("客诉跟进")]),a("div",{staticClass:"follow-list"},[a("el-timeline",e._l(e.list,(function(t,i){return a("el-timeline-item",{key:i,attrs:{timestamp:t.group,placement:"top"}},[a("ul",{staticClass:"follow-content"},e._l(t.data,(function(t,i){return a("li",{key:i},[a("div",{staticClass:"list-title"},[e._v(e._s(t.name)+"：")]),"1"===t.type?a("div",{staticClass:"list-content"},[e._v(e._s(t.value))]):e._e(),"2"===t.type?a("div",{staticClass:"list-content"},[a("show-material",{attrs:{imgList:t.value.pic,audioList:t.value.audio}})],1):e._e()])})),0)])})),1)],1)]):e._e()},r=[]},"2f77":function(e,t,a){"use strict";a("ba2d")},33910:function(e,t,a){"use strict";a.r(t);var i=a("ae78"),r=a("d03c");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("2f77");var n=a("2877"),s=Object(n.a)(r.default,i.a,i.b,!1,null,"837fee2e",null);t.default=s.exports},4490:function(e,t,a){"use strict";a("6cf7")},"44f6":function(e,t,a){"use strict";a.r(t);var i=a("2317"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t.default=r.a},"45fc":function(e,t,a){"use strict";var i=a("23e7"),r=a("b727").some,o=a("a640"),n=a("ae40"),s=o("some"),l=n("some");i({target:"Array",proto:!0,forced:!s||!l},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"514f":function(e,t,a){var i=a("de62");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("499e").default)("5a892b03",i,!0,{sourceMap:!1,shadowMode:!1})},"534d":function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var r=i(a("1da1")),o=i(a("ab3a")),n={name:"FeedBackForm",props:{formInfo:{type:Object,default:function(){return{}}},updateTime:{type:String,default:""}},data:function(){return{options:[{name:"是",value:"1"},{name:"否",value:"2"}],form:{isRight:"",isFinished:"",result:""},rules:{isRight:[{required:!0,message:"反馈是否准确不能为空",trigger:"change"}],isFinished:[{required:!0,message:"是否处理完毕不能为空",trigger:"change"}],result:[{required:!0,message:"处理结果不能为空",trigger:"blur"}]},isSubmit:!1}},methods:{validateForm:function(e,t){var a=this;this.$refs.form.validate(function(){var i=(0,r.default)(regeneratorRuntime.mark((function i(r){var n,s,l,u,c,f;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!r){i.next=21;break}if(!a.isSubmit){i.next=3;break}return i.abrupt("return",!1);case 3:return a.isSubmit=!0,i.prev=4,n={complaints_id:e,follow_type:t,update_datetime:a.updateTime,exact:a.form.isRight,complete:a.form.isFinished,detail:a.form.result,yw_complaints:a.formInfo},i.next=8,o.default.saveProjectFollow(n);case 8:s=i.sent,l=s.data,u=l.code,c=l.msg,f=l.data,a.$emit("save",{code:u,msg:c,data:f},t,"保存成功"),a.isSubmit=!1,i.next=21;break;case 17:i.prev=17,i.t0=i.catch(4),console.log(i.t0),a.isSubmit=!1;case 21:case"end":return i.stop()}}),i,null,[[4,17]])})));return function(e){return i.apply(this,arguments)}}())}}};t.default=n},5360:function(e,t,a){"use strict";a.r(t);var i=a("8955"),r=a("44f6");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("e938");var n=a("2877"),s=Object(n.a)(r.default,i.a,i.b,!1,null,"8cb15004",null);t.default=s.exports},5775:function(e,t,a){"use strict";a.r(t);var i=a("8036"),r=a("0d00");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var n=a("2877"),s=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);t.default=s.exports},"59c5":function(e,t,a){"use strict";a("058c")},"68a9":function(e,t,a){"use strict";a.r(t);var i=a("e1ff"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t.default=r.a},"6c48":function(e,t,a){(t=a("24fb")(!1)).push([e.i,".follow-content li[data-v-742459db]{height:auto;overflow:hidden}.follow-content li .list-title[data-v-742459db]{text-align:right;vertical-align:middle;float:left;color:#606266;line-height:40px;padding:0 12px 0 0;-webkit-box-sizing:border-box;box-sizing:border-box;width:125px}.follow-content li .list-content[data-v-742459db]{margin-left:125px;line-height:40px}",""]),e.exports=t},"6cf7":function(e,t,a){var i=a("c809");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("499e").default)("35eccc50",i,!0,{sourceMap:!1,shadowMode:!1})},8036:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"申诉原因",prop:"reason"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入申诉原因，最多300字，超出无法输入",maxlength:"300",rows:"3"},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1),a("el-form-item",{ref:"material",staticClass:"is-required",attrs:{label:"申诉材料",prop:"material"}},[a("upload-material",{on:{getMaterial:e.getMaterial}})],1),a("el-form-item",{attrs:{label:"申诉期望",prop:"expect"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入申诉期望，最多300字，超出无法输入",maxlength:"300",rows:"3"},model:{value:e.form.expect,callback:function(t){e.$set(e.form,"expect",t)},expression:"form.expect"}})],1)],1)},r=[]},8955:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"follow-opt-box"},[e.showForm("5")?a("complaint-form",{ref:"complaintForm",attrs:{formInfo:e.editForm,updateTime:e.updateTime},on:{save:e.saveBack}}):e._e(),e.showForm("6")?a("feed-back-form",{ref:"feedBackForm",attrs:{formInfo:e.editForm,updateTime:e.updateTime},on:{save:e.saveBack}}):e._e(),e.showForm("8")?a("performance-form",{ref:"performanceForm",attrs:{performanceOptions:e.options.performance,lineOptions:e.options.readLine,formInfo:e.editForm,updateTime:e.updateTime},on:{save:e.saveBack}}):e._e(),e.showForm("9")&&e.isAppeal?a("appeal-form",{ref:"appealForm",attrs:{formInfo:e.editForm,updateTime:e.updateTime},on:{save:e.saveBack}}):e._e(),a("div",{staticClass:"fix-buttons"},[e.isEdit?a("router-link",{attrs:{to:{path:"/complaint/complaintList"}}},[a("el-button",[e._v("取消")])],1):e._e(),e.isEdit?a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")]):e._e(),e.followBtns&&e.followBtns.length>0?e._l(e.followBtns,(function(t){return a("span",{key:t.value},[a("router-link",{attrs:{to:{path:"/complaint/complaintList"}}},[a("el-button",[e._v("取消")])],1),a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.handleClick(t.value)}}},[e._v("保存")])],1)})):e._e(),e.showForm("9")?[e.isAppeal?a("span",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleClick("9")}}},[e._v("保存")])],1):a("el-button",{attrs:{type:"danger"},on:{click:function(t){e.isAppeal=!0}}},[e._v("申诉")])]:e._e(),e.optBtns&&e.optBtns.length>0?e._l(e.optBtns,(function(t){return a("el-button",{key:t.value,attrs:{type:e.checkBtnColor(t.value)},on:{click:function(a){return e.handleClick(t.value)}}},[e._v(e._s(t.name))])})):e._e()],2),a("confirm-dialog",{attrs:{title:e.dialog.title,content:e.dialog.content,confirmBtn:e.dialog.confirmBtn,visible:e.dialog.visible},on:{cancel:function(t){e.dialog.visible=!1},confirm:e.confirmCloseTask}}),a("reject-dialog",{attrs:{title:"驳回客诉问题",visible:e.rejectVisible},on:{close:function(t){e.rejectVisible=!1},confirm:e.confirmReject}}),a("alert-dialog",{attrs:{visible:e.updateMsgVisible,confirmBtn:"我知道了"},on:{"update:visible":function(t){e.updateMsgVisible=t},confirm:e.reload}},[a("div",[e._v("任务已发生变更，关闭弹窗后会刷新任务，请确认任务后再次跟进，刷新后当前已跟进的信息无法保存！")])])],1)},r=[]},"89c2":function(e,t,a){"use strict";a.r(t);var i=a("9f85"),r=a("0928");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("fc58");var n=a("2877"),s=Object(n.a)(r.default,i.a,i.b,!1,null,"3a9b1e4d",null);t.default=s.exports},9061:function(e,t,a){"use strict";a.r(t);var i=a("e0f8"),r=a("c0c1");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("4490");var n=a("2877"),s=Object(n.a)(r.default,i.a,i.b,!1,null,"327af744",null);t.default=s.exports},"9f85":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.imgList&&e.imgList.length>0?a("ul",{staticClass:"img-list"},e._l(e.imgList,(function(t,i){return a("li",{key:i},[a("div",{staticClass:"img-item-box"},[a("img",{attrs:{src:e.imgUrl?t[e.imgUrl]:t,alt:"图片凭证"},on:{click:function(a){return e.showPreview(e.imgUrl?t[e.imgUrl]:t)}}})])])})),0):e._e(),e.audioList&&e.audioList.length>0?a("ul",{staticClass:"audio-list"},e._l(e.audioList,(function(t,i){return a("li",{key:i},[a("audio-play",{staticClass:"audio-item-box",attrs:{url:e.audioUrl?t[e.audioUrl]:t}})],1)})),0):e._e(),e.photoIsShow?a("jl-image-preview",{attrs:{showViewer:e.photoIsShow,urlList:e.previewUrl},on:{closeViewer:e.closeViewer}}):e._e()],1)},r=[]},a4ea:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var r=i(a("1da1")),o=i(a("89c2")),n=i(a("ab3a")),s={name:"FollowList",props:{followId:{type:String,default:""}},components:{ShowMaterial:o.default},data:function(){return{list:[]}},mounted:function(){this.followId&&this.getFollowList()},methods:{getFollowList:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,i,r,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.default.getFollowDetail({id:e.followId});case 3:a=t.sent,i=a.data,r=i.code,o=i.msg,s=i.data,0===r?e.list=s:e.$message.error(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()}}};t.default=s},ab3a:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("23f7"),r={commonOptions:function(){return i.axios.post("/backend-api/complaint/common-options")},getTransferInfo:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/get-transfer-info",e)},getAdjustLeaderInfo:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/get-adjust-leader-info",e)},getComplaintDetail:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/detail",e)},getFollowDetail:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/follow-detail",e)},addComplaint:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/create-complaint",e)},editComplaint:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/update-complaint",e)},saveHeadFollow:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/head-follow",e)},saveProjectFollow:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/project-follow",e)},saveResultFollow:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/result-follow",e)},saveAppealFollow:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/complaint",e)},saveSuggestion:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/suggestion",e)},rejectTask:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/reject-task",e)},commonFollow:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/common-follow",e)},complaintEmployeeList:function(e){return i.axios.post("/backend-api/employee_order/yw-complaint-employee/list",e)},getComplaintEmployee:function(e){return i.axios.post("/backend-api/select2/select2/get-complaint-employee",e)},complaintEmployeeSave:function(e){return i.axios.post("/backend-api/employee_order/yw-complaint-employee/save",e)},complaintEmployeeDelete:function(e){return i.axios.post("/backend-api/employee_order/yw-complaint-employee/delete",e)},complaintEmployeeChangeAlloc:function(e){return i.axios.post("/backend-api/employee_order/yw-complaint-employee/change-alloc",e)},ywComplaintsList:function(e){return i.axios.get("/backend-api/employee_order/yw-complaints/list",{params:e})},changeEmployee:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/change-employee",e)},importReason:function(e){return i.axios.post("/backend-api/employee_order/yw-complaints/import-category",e)}};t.default=r},ae78:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"container-box"},[a("el-breadcrumb",{staticClass:"bread-crumb-box",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[e._v("首页")])]),a("el-breadcrumb-item",{attrs:{to:{path:"/complaint/complaintList"}}},[e._v("客诉问题管理")]),a("el-breadcrumb-item",[e._v("跟进查看客诉问题")])],1),a("div",{staticClass:"v-box form-box"},[a("div",{staticClass:"main-title"},[e._v("跟进查看客诉问题")]),a("el-form",{ref:"form",staticClass:"my-form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"投诉类型"}},[e._v(" "+e._s(e.initData.complaint_type_text)+" ")]),a("el-form-item",{attrs:{label:"订单ID"}},[e._v(" "+e._s(e.initData.order_id)+" ")]),a("el-form-item",{attrs:{label:"城市"}},[e._v(" "+e._s(e.initData.city_id_text)+" ")]),a("el-form-item",{attrs:{label:"客户姓名"}},[e._v(" "+e._s(e.initData.user_realname)+" ")]),a("el-form-item",{attrs:{label:"客户电话"}},[e._v(" "+e._s(e.initData.user_mobile)+" ")]),a("el-form-item",{attrs:{label:"客户投诉时间"}},[e._v(" "+e._s(e.initData.complaint_time)+" ")]),a("el-form-item",{attrs:{label:"客诉来源"}},[e._v(" "+e._s(e.initData.complaint_source_text)+" ")]),e.initData.can_edit_reason?[a("el-form-item",{staticClass:"form-item-margin",attrs:{label:"投诉对象及原因",prop:"reason"}},[a("el-cascader",{staticClass:"reason-width",attrs:{options:e.reasonOptions,separator:" > ",props:{checkStrictly:!0,label:"name"},clearable:""},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1),e.checkComplainType?a("el-form-item",{staticClass:"form-item-margin",attrs:{label:"是否万单问题",prop:"isOrderQuestion"}},[a("el-select",{attrs:{placeholder:"请选择是否万单问题"},model:{value:e.form.isOrderQuestion,callback:function(t){e.$set(e.form,"isOrderQuestion",t)},expression:"form.isOrderQuestion"}},e._l(e.questionOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1):e._e()]:[a("el-form-item",{attrs:{label:"投诉对象"}},[e._v(" "+e._s(e.initData.complaint_category_text)+" ")]),a("el-form-item",{attrs:{label:"一级原因"}},[e._v(" "+e._s(e.initData.one_cause_text||"")+" ")]),a("el-form-item",{attrs:{label:"二级原因"}},[e._v(" "+e._s(e.initData.two_cause_text||"")+" ")]),a("el-form-item",{attrs:{label:"三级原因"}},[e._v(" "+e._s(e.initData.three_cause_text||"")+" ")]),e.checkComplainType?a("el-form-item",{attrs:{label:"是否万单问题"}},[e._v(" "+e._s(e.initData.is_many_order_text)+" ")]):e._e()],a("el-form-item",{attrs:{label:"客户反馈内容"}},[e._v(" "+e._s(e.initData.complaint_desc)+" ")]),e.checkComplainType?[a("el-form-item",{attrs:{label:"咨询师"}},[e._v(" "+e._s(e.initData.employee_id_text)+" ")]),a("el-form-item",{attrs:{label:"绩效责任上级"}},[e._v(" "+e._s(e.initData.adjust_leader_id_text)+" ")]),a("el-form-item",{attrs:{label:"要求联系时间"}},[e._v(" "+e._s(e.initData.request_contact_time)+" ")])]:e._e(),a("el-form-item",{attrs:{label:"转交部门"}},[e._v(" "+e._s(e.initData.transfer_department_text)+" ")]),a("el-form-item",{attrs:{label:"转交人员"}},[e._v(" "+e._s(e.initData.transferor_text)+" ")]),a("el-form-item",{attrs:{label:"订单状态"}},[e._v(" "+e._s(e.initData.order_status_text)+" ")]),e.initData.can_edit_suggestion?[a("el-form-item",{staticClass:"form-item-margin",attrs:{label:"服管处理建议",prop:"suggest"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入服管处理建议，最多300字，超出无法输入",maxlength:"300",rows:"3"},model:{value:e.form.suggest,callback:function(t){e.$set(e.form,"suggest",t)},expression:"form.suggest"}})],1)]:[e.initData.show_suggestion?a("el-form-item",{attrs:{label:"服管处理建议"}},[e._v(" "+e._s(e.initData.service_handle_desc)+" ")]):e._e()],a("el-form-item",{attrs:{label:"客诉材料"}},[e.initData.file?a("show-material",{attrs:{imgList:e.initData.file.pic,imgUrl:"file_path_full",audioList:e.initData.file.audio,audioUrl:"file_path_full"}}):e._e()],1)],2)],1),a("follow-list",{ref:"followList",attrs:{followId:e.id}}),a("btn-opts",{ref:"btnOpts",attrs:{btns:e.initData.buttons,options:e.formOptions,formInfo:e.form,updateTime:e.initData.update_datetime},on:{saveSuggest:e.saveSuggest,reload:e.reload}})],1)},r=[]},ba2d:function(e,t,a){var i=a("19cd");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("499e").default)("ba843cb6",i,!0,{sourceMap:!1,shadowMode:!1})},bd4d:function(e,t,a){"use strict";a.r(t);var i=a("0e04"),r=a("f5be");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var n=a("2877"),s=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);t.default=s.exports},c0c1:function(e,t,a){"use strict";a.r(t);var i=a("dd8b"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t.default=r.a},c2406:function(e,t,a){"use strict";a.r(t);var i=a("2cbf"),r=a("e9b6");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("59c5");var n=a("2877"),s=Object(n.a)(r.default,i.a,i.b,!1,null,"742459db",null);t.default=s.exports},c809:function(e,t,a){(t=a("24fb")(!1)).push([e.i,".upload-btn-box[data-v-327af744]{padding-bottom:10px}.upload-btn-box .upload-btn[data-v-327af744]{display:inline-block;margin-right:20px}.upload-btn-box .upload-tips[data-v-327af744]{color:#888}.img-list[data-v-327af744]{height:auto;overflow:hidden}.img-list li[data-v-327af744]{position:relative;float:left;width:100px;height:100px;text-align:center;margin-right:12px;margin-bottom:10px;border:1px solid #eee}.img-list li .img-item-box[data-v-327af744]{width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.img-list li .img-item-box img[data-v-327af744]{max-width:100%;max-height:100%}.img-list li .img-name[data-v-327af744]{position:absolute;bottom:0;left:0;right:0;display:-webkit-box;text-overflow:ellipsis;-webkit-line-clamp:1;-webkit-box-orient:vertical;background:rgba(0,0,0,.7);overflow:hidden;color:#fff;padding:0 4px;line-height:26px;font-size:12px;word-break:break-all}.img-list li .img-del[data-v-327af744]{position:absolute;top:0;right:0;display:block;width:16px;height:16px;line-height:1;cursor:pointer}.audio-list li[data-v-327af744]{height:auto;overflow:hidden;padding-bottom:8px}.audio-list li .audio-item-box[data-v-327af744]{float:left}.audio-list li .audio-del[data-v-327af744]{float:left;color:#409eff;padding-left:20px;cursor:pointer}",""]),e.exports=t},cd1c:function(e,t,a){"use strict";var i=a("4ea4");a("d81d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var r=i(a("1da1")),o=i(a("ab3a")),n={name:"ComplaintForm",components:{UploadMaterial:i(a("9061")).default},props:{formInfo:{type:Object,default:function(){return{}}},updateTime:{type:String,default:""}},data:function(){var e=this;return{form:{reason:"",expect:"",imgList:[],audioList:[]},rules:{reason:[{required:!0,message:"申诉原因不能为空",trigger:"blur"}],material:[{validator:function(t,a,i){0===e.form.imgList.length&&0===e.form.audioList.length?i(new Error):i()},message:"申诉材料不能为空，最少上传附件或录音其中一种"}],expect:[{required:!0,message:"申诉期望不能为空",trigger:"blur"}]},isSubmit:!1}},methods:{getMaterial:function(e){this.form.imgList=e.imgList,this.form.audioList=e.audioList,this.$refs.form.validateField("material")},getFileInfo:function(){return{pic:this.form.imgList.map((function(e){return e.file_path})),audio:this.form.audioList.map((function(e){return e.file_path}))}},validateForm:function(e,t){var a=this;this.$refs.form.validate(function(){var i=(0,r.default)(regeneratorRuntime.mark((function i(r){var n,s,l,u,c,f;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!r){i.next=21;break}if(!a.isSubmit){i.next=3;break}return i.abrupt("return",!1);case 3:return a.isSubmit=!0,i.prev=4,n={complaints_id:e,follow_type:t,update_datetime:a.updateTime,reason:a.form.reason,file:a.getFileInfo(),expect:a.form.expect,yw_complaints:a.formInfo},i.next=8,o.default.saveAppealFollow(n);case 8:s=i.sent,l=s.data,u=l.code,c=l.msg,f=l.data,a.$emit("save",{code:u,msg:c,data:f},t,"保存成功"),a.isSubmit=!1,i.next=21;break;case 17:i.prev=17,i.t0=i.catch(4),console.log(i.t0),a.isSubmit=!1;case 21:case"end":return i.stop()}}),i,null,[[4,17]])})));return function(e){return i.apply(this,arguments)}}())}}};t.default=n},d03c:function(e,t,a){"use strict";a.r(t);var i=a("e08b"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t.default=r.a},dd8b:function(e,t,a){"use strict";var i=a("4ea4");a("45fc"),a("a434"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var r=i(a("1da1")),o=i(a("f946")),n={name:"UploadMaterial",components:{AudioPlay:a("2af9").AudioPlay},props:{imgList:{type:Array,default:function(){return[]}},audioList:{type:Array,default:function(){return[]}}},data:function(){return{imgLimit:10,audioLimit:10,form:{imgList:[],audioList:[]},ossData:{},photoIsShow:!1,previewUrl:[],uploadLoading:""}},watch:{imgList:{handler:function(e){this.form.imgList=this.imgList,this.imgLimit=10-this.imgList.length}},audioList:{handler:function(e){this.form.audioList=this.audioList,this.audioLimit=10-this.audioList.length}}},mounted:function(){this.getSignCode()},methods:{getSignCode:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={cate:"complaint"},t.prev=1,t.next=4,o.default.getSign(a);case 4:i=t.sent,0===(r=i.data).code&&(e.ossData=r.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},beforeUpdate:function(){this.uploadLoading=this.$loading({lock:!0,text:"请求中，请稍后",spinner:"el-icon-loading",customClass:"loading-default-box",background:"rgba(255, 255, 255, 0.8)"})},getFileURL:function(e,t){if(this.uploadLoading.close(),0!==e.length){for(var a=0;a<e.length;a++){var i={fileName:e[a].originName,file_path:e[a].upURL,file_path_full:e[a].fileURL};"img"===t?this.form.imgList.some((function(t){return t.fileName===e[a].originName}))?this.$message("无法上传重复的凭证"):(this.form.imgList.push(i),this.imgLimit--):"audio"===t&&(this.form.audioList.some((function(t){return t.fileName===e[a].originName}))?this.$message("无法上传重复的凭证"):(this.form.audioList.push(i),this.audioLimit--))}this.$emit("getMaterial",this.form)}else this.$message("上传失败,请重新上传")},delFile:function(e,t){"img"===e?(this.imgLimit++,this.form.imgList.splice(t,1)):"audio"===e&&(this.audioLimit++,this.form.audioList.splice(t,1)),this.$emit("getMaterial",this.form)},showPreview:function(e){this.photoIsShow=!0,this.previewUrl=[e]},closeViewer:function(){this.photoIsShow=!1,this.previewUrl=[]}}};t.default=n},dde2:function(e,t,a){var i=a("2aa9");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a("499e").default)("ecbbdc0e",i,!0,{sourceMap:!1,shadowMode:!1})},de62:function(e,t,a){(t=a("24fb")(!1)).push([e.i,".follow-opt-box[data-v-8cb15004]{background:#fff;margin-top:-20px;margin-bottom:20px}.follow-opt-box .fix-buttons[data-v-8cb15004]{text-align:center;background:#fff;padding:10px}.follow-opt-box .fix-buttons .el-button[data-v-8cb15004]{margin:0 20px}",""]),e.exports=t},e08b:function(e,t,a){"use strict";var i=a("4ea4");a("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var r=i(a("1da1")),o=i(a("ab3a")),n=i(a("c2406")),s=i(a("89c2")),l=i(a("5360")),u=["1","2","3","4","5"],c={components:{FollowList:n.default,ShowMaterial:s.default,BtnOpts:l.default},data:function(){return{id:this.$route.query.id,initData:{},form:{isOrderQuestion:"",reason:[],suggest:""},rules:{isOrderQuestion:[{required:!0,message:"是否万单问题不能为空",trigger:"change"}],suggest:[{required:!0,message:"服管处理建议不能为空",trigger:"blur"}]},loading:!1,reasonOptions:[],questionOptions:[],isSubmit:!1,formOptions:{}}},mounted:function(){this.getOptions(),this.getInitData()},computed:{checkComplainType:function(){return this.initData.complaint_type&&-1!==u.indexOf(this.initData.complaint_type)}},methods:{getOptions:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,i,r,n,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.default.commonOptions();case 3:a=t.sent,i=a.data,r=i.code,n=i.msg,s=i.data,0===r?(e.reasonOptions=s.complaint_cause,e.questionOptions=s.is_wandan,e.formOptions={performance:s.performance_impact,readLine:s.red_yellow_line}):e.$message.error(n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getInitData:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var a,i,r,n,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,o.default.getComplaintDetail({id:e.id,type:1});case 4:a=t.sent,i=a.data,r=i.code,n=i.msg,s=i.data,0===r?(e.initData=s,e.form.isOrderQuestion=s.is_many_order,e.form.reason=e.getReasonArr(s),e.form.suggest=s.service_handle_desc||"",e.loading=!1):(e.loading=!1,e.$message.error(n)),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})))()},getReasonArr:function(e){var t=[];return e.complaint_category&&t.push(e.complaint_category),e.one_cause&&t.push(e.one_cause),e.two_cause&&t.push(e.two_cause),e.three_cause&&t.push(e.three_cause),t},saveSuggest:function(){var e=this;this.$refs.form.validate(function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(a){var i,r,n,s,l,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=21;break}if(!e.isSubmit){t.next=3;break}return t.abrupt("return",!1);case 3:return e.isSubmit=!0,t.prev=4,i="7",r={complaints_id:e.id,follow_type:i,update_datetime:e.initData.update_datetime,yw_complaints:{complaint_category:e.form.reason[0]||"",one_cause:e.form.reason[1]||"",two_cause:e.form.reason[2]||"",three_cause:e.form.reason[3]||"",is_many_order:e.form.isOrderQuestion,service_handle_desc:e.form.suggest}},t.next=9,o.default.saveSuggestion(r);case 9:n=t.sent,s=n.data,l=s.code,u=s.msg,c=s.data,e.$refs.btnOpts.saveBack({code:l,msg:u,data:c},i,"保存成功"),e.isSubmit=!1,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(4),e.isSubmit=!1;case 21:case"end":return t.stop()}}),t,null,[[4,18]])})));return function(e){return t.apply(this,arguments)}}())},reload:function(){this.getInitData(),this.$refs.followList.getFollowList()}}};t.default=c},e0d2:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"客诉处理详情",prop:"result"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入客诉处理详情，最多300字，超出无法输入",maxlength:"300",rows:"3"},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1),a("el-form-item",{ref:"material",staticClass:"is-required",attrs:{label:"客诉材料",prop:"material"}},[a("upload-material",{on:{getMaterial:e.getMaterial}})],1)],1)},r=[]},e0f8:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.imgLimit?a("div",{staticClass:"upload-btn-box"},[a("jl-file-upload",{ref:"fileUpload",staticClass:"upload-btn",attrs:{fileType:"jpg,png,jpeg",fileMaxSize:"10mb",upID:"imgUpload",isMulti:!0,limit:e.imgLimit,ossData:e.ossData},on:{beforeUpdate:e.beforeUpdate,getFileURL:function(t){return e.getFileURL(t,"img")}}},[a("el-button",{attrs:{type:"primary"}},[e._v("上传附件")])],1),a("span",{staticClass:"upload-tips"},[e._v("选择附件后进行上传，仅限jpg，png和jpeg格式，10M以内，最多10张")])],1):e._e(),e.form.imgList.length>0?a("ul",{staticClass:"img-list"},e._l(e.form.imgList,(function(t,i){return a("li",{key:i},[a("div",{staticClass:"img-item-box"},[a("img",{attrs:{src:t.file_path_full,alt:"图片凭证"},on:{click:function(a){return e.showPreview(t.file_path_full)}}})]),t.fileName?a("div",{staticClass:"img-name"},[e._v(e._s(t.fileName))]):e._e(),a("i",{staticClass:"img-del iconfont iconicon-delete",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.delFile("img",i)}}})])})),0):e._e(),e.audioLimit?a("div",{staticClass:"upload-btn-box"},[a("jl-file-upload",{ref:"fileUpload",staticClass:"upload-btn",attrs:{fileType:"mp3,amr,m4a",fileMaxSize:"30mb",upID:"audioUpload",isMulti:!0,limit:e.audioLimit,ossData:e.ossData},on:{beforeUpdate:e.beforeUpdate,getFileURL:function(t){return e.getFileURL(t,"audio")}}},[a("el-button",{attrs:{type:"primary"}},[e._v("上传录音")])],1),a("span",{staticClass:"upload-tips"},[e._v("选择附件后进行上传，仅限mp3、amr和m4a格式，30M以内，最多10条")])],1):e._e(),e.form.audioList.length>0?a("ul",{staticClass:"audio-list"},e._l(e.form.audioList,(function(t,i){return a("li",{key:i},[a("audio-play",{staticClass:"audio-item-box",attrs:{url:t.file_path_full}}),a("div",{staticClass:"audio-del",on:{click:function(t){return e.delFile("audio",i)}}},[e._v("删除")])],1)})),0):e._e(),e.photoIsShow?a("jl-image-preview",{attrs:{showViewer:e.photoIsShow,urlList:e.previewUrl},on:{closeViewer:e.closeViewer}}):e._e()],1)},r=[]},e1ff:function(e,t,a){"use strict";var i=a("4ea4");a("d81d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var r=i(a("1da1")),o=i(a("ab3a")),n={name:"ComplaintForm",components:{UploadMaterial:i(a("9061")).default},props:{formInfo:{type:Object,default:function(){return{}}},updateTime:{type:String,default:""}},data:function(){var e=this;return{form:{result:"",imgList:[],audioList:[]},rules:{result:[{required:!0,message:"处理结果不能为空",trigger:"blur"}],material:[{validator:function(t,a,i){0===e.form.imgList.length&&0===e.form.audioList.length?i(new Error):i()},message:"客诉材料不能为空，最少上传附件或录音其中一种"}]},isSubmit:!1}},methods:{getMaterial:function(e){this.form.imgList=e.imgList,this.form.audioList=e.audioList,this.$refs.form.validateField("material")},getFileInfo:function(){return{pic:this.form.imgList.map((function(e){return e.file_path})),audio:this.form.audioList.map((function(e){return e.file_path}))}},validateForm:function(e,t){var a=this;this.$refs.form.validate(function(){var i=(0,r.default)(regeneratorRuntime.mark((function i(r){var n,s,l,u,c,f;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!r){i.next=21;break}if(!a.isSubmit){i.next=3;break}return i.abrupt("return",!1);case 3:return a.isSubmit=!0,i.prev=4,n={complaints_id:e,follow_type:t,update_datetime:a.updateTime,detail:a.form.result,file:a.getFileInfo(),yw_complaints:a.formInfo},i.next=8,o.default.saveHeadFollow(n);case 8:s=i.sent,l=s.data,u=l.code,c=l.msg,f=l.data,a.$emit("save",{code:u,msg:c,data:f},t,"保存成功"),a.isSubmit=!1,i.next=21;break;case 17:i.prev=17,i.t0=i.catch(4),console.log(i.t0),a.isSubmit=!1;case 21:case"end":return i.stop()}}),i,null,[[4,17]])})));return function(e){return i.apply(this,arguments)}}())}}};t.default=n},e77b:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("2af9"),r={name:"ShowMaterial",props:{imgList:{type:Array,default:function(){return[]}},imgUrl:{type:String,default:""},audioList:{type:Array,default:function(){return[]}},audioUrl:{type:String,default:""}},components:{AudioPlay:i.AudioPlay},data:function(){return{photoIsShow:!1,previewUrl:[]}},methods:{showPreview:function(e){this.photoIsShow=!0,this.previewUrl=[e]},closeViewer:function(){this.photoIsShow=!1,this.previewUrl=[]}}};t.default=r},e938:function(e,t,a){"use strict";a("514f")},e9b6:function(e,t,a){"use strict";a.r(t);var i=a("a4ea"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t.default=r.a},f283:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"绩效影响",prop:"performance"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.performance,callback:function(t){e.$set(e.form,"performance",t)},expression:"form.performance"}},e._l(e.performanceOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"红黄线影响",prop:"line"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.line,callback:function(t){e.$set(e.form,"line",t)},expression:"form.line"}},e._l(e.lineOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"处理结果",prop:"result"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入处理结果，最多300字，超出无法输入",maxlength:"300",rows:"3"},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1)],1)},r=[]},f5be:function(e,t,a){"use strict";a.r(t);var i=a("534d"),r=a.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t.default=r.a},fa86:function(e,t,a){"use strict";var i=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var r=i(a("1da1")),o=i(a("ab3a")),n={name:"PerformanceForm",props:{performanceOptions:{type:Array,default:function(){return[]}},lineOptions:{type:Array,default:function(){return[]}},formInfo:{type:Object,default:function(){return{}}},updateTime:{type:String,default:""}},data:function(){return{form:{performance:"",line:"",result:""},rules:{performance:[{required:!0,message:"绩效影响不能为空",trigger:"change"}],line:[{required:!0,message:"红黄线影响不能为空",trigger:"change"}],result:[{required:!0,message:"处理结果不能为空",trigger:"blur"}]},isSubmit:!1}},methods:{validateForm:function(e,t){var a=this;this.$refs.form.validate(function(){var i=(0,r.default)(regeneratorRuntime.mark((function i(r){var n,s,l,u,c,f;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!r){i.next=21;break}if(!a.isSubmit){i.next=3;break}return i.abrupt("return",!1);case 3:return a.isSubmit=!0,i.prev=4,n={complaints_id:e,follow_type:t,update_datetime:a.updateTime,adjust:a.form.performance,warning:a.form.line,detail:a.form.result,yw_complaints:a.formInfo},i.next=8,o.default.saveResultFollow(n);case 8:s=i.sent,l=s.data,u=l.code,c=l.msg,f=l.data,a.$emit("save",{code:u,msg:c,data:f},t,"保存成功"),a.isSubmit=!1,i.next=21;break;case 17:i.prev=17,i.t0=i.catch(4),console.log(i.t0),a.isSubmit=!1;case 21:case"end":return i.stop()}}),i,null,[[4,17]])})));return function(e){return i.apply(this,arguments)}}())}}};t.default=n},fc58:function(e,t,a){"use strict";a("dde2")}}]);