(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-650e62be"],{"36f0":function(t,a,e){"use strict";e("c90b")},"50db":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=e("23f7"),n={initStandard:function(t){return i.axios.get("/backend-api/expand/ex-commission-bill/init-create",{params:t})},updateStandard:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/update",t)},getStandardList:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/get-bill-select2-list",t)},createStandard:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/create",t)},getStandardData:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/list",t)},deleteStandard:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/delete",t)},getStandardInfo:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/detail",t)},getStandardHistoryInfo:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/history-detail",t)},getDealDetail:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/deal-detail",t)},updateReport:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/deal-detail-report-upload",t)},auditReport:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/deal-detail-report-audit",t)},customRevisit:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/deal-detail-return-visit",t)},checkDeal:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/deal-detail-check",t)},auditAvailability:function(t){return i.axios.post("/backend-api/expand/ex-commission-bill/audit-availability",t)},initAuditAvailability:function(){return i.axios.get("/backend-api/expand/ex-commission-bill/init-audit-availability")}};a.default=n},"560b":function(t,a,e){"use strict";e.r(a);var i=e("61f1"),n=e("da44");for(var r in n)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(r);e("36f0");var o=e("2877"),s=Object(o.a)(n.default,i.a,i.b,!1,null,"19d5f725",null);a.default=s.exports},"61f1":function(t,a,e){"use strict";e.d(a,"a",(function(){return i})),e.d(a,"b",(function(){return n}));var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-box"},[e("el-breadcrumb",{staticClass:"bread-crumb-box",attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",[e("a",{attrs:{href:"/"}},[t._v("首页")])]),e("el-breadcrumb-item",[t._v("结佣单据标准管理")])],1),e("div",{staticClass:"v-box form-table-box search-wrap"},[e("div",{staticClass:"main-title"},[t._v("结佣单据标准管理")]),e("div",{staticClass:"order-search"},[e("ul",{staticClass:"s-query clearfix"},[e("li",[e("div",{staticClass:"th"},[t._v("单据标准ID：")]),e("div",{staticClass:"td"},[e("jl-number-input",{attrs:{reg:"int",placeholder:"请输入单据标准ID"},model:{value:t.standardId,callback:function(a){t.standardId=a},expression:"standardId"}})],1)]),e("li",{staticClass:"long-width"},[e("div",{staticClass:"th"},[t._v("单据标准：")]),e("div",{staticClass:"td"},[e("el-input",{attrs:{placeholder:"请输入单据标准"},model:{value:t.standardName,callback:function(a){t.standardName=a},expression:"standardName"}})],1)]),e("li",[e("div",{staticClass:"th"},[t._v("创建人：")]),e("div",{staticClass:"td"},[e("search-select-radio",{attrs:{placeholder:"请选择",clearable:"",apiInfo:t.userApi},model:{value:t.creator,callback:function(a){t.creator=a},expression:"creator"}})],1)]),e("li",[e("div",{staticClass:"th"},[t._v("关联合同ID：")]),e("div",{staticClass:"td"},[e("jl-number-input",{attrs:{reg:"int",placeholder:"请输入关联合同ID"},model:{value:t.contractId,callback:function(a){t.contractId=a},expression:"contractId"}})],1)]),e("li",[e("div",{staticClass:"th"},[t._v("地理城市：")]),e("div",{staticClass:"td"},[e("search-select-radio",{attrs:{clearable:!0,placeholder:"请选择",apiInfo:t.cityApi},model:{value:t.cityId,callback:function(a){t.cityId=a},expression:"cityId"}})],1)])])]),e("div",{staticClass:"btn-area"},[e("el-button",{on:{click:t.resetSearch}},[t._v("重置")]),e("el-button",{attrs:{type:"primary"},on:{click:function(a){return t.searchData(1)}}},[t._v("搜索")])],1)]),e("div",{staticClass:"v-box form-table-box"},[e("div",{staticClass:"bd"},[e("div",{staticClass:"search-result"},[e("div",{staticClass:"data-stat"},[e("el-row",[e("el-col",{attrs:{span:12}},[e("p",{staticClass:"total-num"},[t.totalNum>0?e("span",[t._v("第"+t._s(t.countRange)+"条，")]):t._e(),t._v("共"+t._s(t.totalNum)+"条数据")])]),e("el-col",{attrs:{span:12}},[t.createAuth?e("div",{staticClass:"operation-area"},[e("router-link",{attrs:{to:"/contract/commissionEditIn"}},[e("el-button",{attrs:{type:"primary"}},[t._v("新增单据标准")])],1)],1):t._e()])],1)],1),e("div",{staticClass:"table-wrap"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tableFixedWrap",attrs:{border:"",data:t.tableList,size:"small","row-class-name":"row","cell-class-name":"column","highlight-current-row":!0,"header-cell-style":t.tableHeaderColor}},[e("el-table-column",{attrs:{"min-width":"60",prop:"id",label:"单据标准ID",align:"center"}}),e("el-table-column",{attrs:{"min-width":"200",prop:"bill_name",label:"结佣单据标准",align:"center"}}),e("el-table-column",{attrs:{"min-width":"100",prop:"city_name",label:"地理城市",align:"center"}}),e("el-table-column",{attrs:{"min-width":"150",prop:"uptator_name",label:"关联合同ID",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.toUrl(a.row.contract_url)}}},[t._v(t._s(a.row.contract_id))])]}}])}),e("el-table-column",{attrs:{"min-width":"80",prop:"creator",label:"创建人",align:"center"}}),e("el-table-column",{attrs:{"min-width":"100",prop:"create_datetime",label:"创建时间",align:"center"}}),e("el-table-column",{attrs:{"min-width":"80",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"btn-list"},[a.row.actions.view_auth?e("router-link",{attrs:{to:{path:"/contract/commissionInfo",query:{id:a.row.id}}}},[e("el-button",{attrs:{type:"text",size:"small"}},[t._v("查看")])],1):t._e(),a.row.actions.edit_auth?e("router-link",{attrs:{to:{path:"/contract/commissionEditIn",query:{id:a.row.id}}}},[e("el-button",{attrs:{type:"text",size:"small"}},[t._v("编辑")])],1):t._e(),a.row.actions.delete_auth?e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.deleteInfo(a.row.id)}}},[t._v("删除")]):t._e()],1)]}}])})],1),e("div",{staticClass:"pagination"},[t.totalNum-t.pageSize>0?e("el-pagination",{attrs:{background:"","page-size":t.pageSize,layout:"prev, pager, next","current-page":t.currentPage,total:t.totalNum},on:{"update:currentPage":function(a){t.currentPage=a},"update:current-page":function(a){t.currentPage=a},"current-change":t.pageChange}}):t._e()],1)],1)])])]),e("el-dialog",{attrs:{title:"提示",center:"",visible:t.dialogVisible,width:"400px"},on:{"update:visible":function(a){t.dialogVisible=a}}},[e("div",{staticClass:"center"},[t._v("确认删除单据标准ID："+t._s(t.currentId))]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.confirmDel}},[t._v("确 定")])],1)])],1)},n=[]},"9b6e":function(t,a,e){(a=e("24fb")(!1)).push([t.i,".main-title[data-v-19d5f725]{font-size:16px;font-weight:700;border-bottom:1px solid #eee;padding-bottom:10px;margin-bottom:20px}.container-box .s-query li[data-v-19d5f725]{width:25%}.container-box .s-query li.long-width[data-v-19d5f725]{width:50%}.container-box .form-table-box[data-v-19d5f725]{padding-top:20px}.container-box .btn-list button[data-v-19d5f725]{margin:0 5px}.container-box .data-stat[data-v-19d5f725]{margin-bottom:10px}.container-box .data-stat .total-num[data-v-19d5f725]{line-height:40px}.container-box .data-stat .operation-area[data-v-19d5f725]{text-align:right}.pagination[data-v-19d5f725]{padding-top:10px}.center[data-v-19d5f725],.pagination[data-v-19d5f725]{text-align:center}",""]),t.exports=a},c90b:function(t,a,e){var i=e("9b6e");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e("499e").default)("1a5cc3da",i,!0,{sourceMap:!1,shadowMode:!1})},da44:function(t,a,e){"use strict";e.r(a);var i=e("fb86"),n=e.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(r);a.default=n.a},fb86:function(t,a,e){"use strict";var i=e("4ea4");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("96cf");var n=i(e("1da1")),r=i(e("50db")),o=i(e("f946")),s={name:"commission-list",components:{SearchSelectRadio:e("2af9").SearchSelectRadio},data:function(){return{standardId:"",standardName:"",creator:"",userApi:{api:o.default.getStaffList,params:{q:"",role:"all",status:"-1"}},contractId:"",cityId:"",cityApi:{api:o.default.getDetailCityListData,params:{q:"",type:2,param:"withAll,noAll"}},currentPage:1,totalNum:0,tableList:[],loading:!1,pageSize:20,flag:!0,currentId:"",dialogVisible:!1,createAuth:!0}},mounted:function(){this.searchData(1)},computed:{countRange:function(){var t=this.currentPage>1?(this.currentPage-1)*this.pageSize:1,a=t+this.pageSize-1;return t+"-"+(a=a<this.totalNum?a:this.totalNum)}},methods:{searchData:function(t){var a=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i,n,o,s,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.flag){e.next=2;break}return e.abrupt("return");case 2:return t&&(a.currentPage=t),a.flag=!1,e.prev=4,a.loading=!0,i={page:a.currentPage,id:a.standardId,bill_name:a.standardName,contract_id:a.contractId,city_id:a.cityId,creator:a.creator},e.next=9,r.default.getStandardData(i);case 9:n=e.sent,o=n.data,s=o.code,l=o.msg,c=o.data,0===s?(a.tableList=c.list,a.totalNum=c.totalCount?parseInt(c.totalCount):"0",a.pageSize=c.pageSize,a.loading=!1,a.flag=!0,a.createAuth=c.create_auth):(a.flag=!0,a.$message(l),a.loading=!1),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(4),a.loading=!1,a.flag=!0,console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,17]])})))()},resetSearch:function(){this.standardId="",this.standardName="",this.creator="",this.contractId="",this.cityId="",this.searchData(1)},pageChange:function(){this.searchData()},tableHeaderColor:function(t){t.row,t.column;var a=t.rowIndex;t.columnIndex;if(0===a)return"background-color: #f9f9f9;color: #333;"},toUrl:function(t){window.open(t,"_target").opener=null},deleteInfo:function(t){this.currentId=t,this.dialogVisible=!0},confirmDel:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function a(){var e,i,n,o,s;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e={bill_id:t.currentId},a.next=4,r.default.deleteStandard(e);case 4:i=a.sent,n=i.data,o=n.code,s=n.msg,0===o?(t.dialogVisible=!1,t.$message({message:s,type:"success"}),t.searchData(1)):(t.$message(s),t.dialogVisible=!1),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0),t.dialogVisible=!1;case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()}}};a.default=s}}]);