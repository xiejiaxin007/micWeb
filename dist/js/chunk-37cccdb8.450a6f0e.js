(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-37cccdb8"],{2417:function(e,t,o){var n=o("b973");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,o("499e").default)("c8528210",n,!0,{sourceMap:!1,shadowMode:!1})},2532:function(e,t,o){"use strict";var n=o("23e7"),i=o("5a34"),a=o("1d80");n({target:"String",proto:!0,forced:!o("ab13")("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"34a1":function(e,t,o){"use strict";o.r(t);var n=o("61d3"),i=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t.default=i.a},3910:function(e,t,o){"use strict";o.r(t);var n=o("54ab"),i=o("8b52");for(var a in i)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(a);o("5b13");var r=o("2877"),s=Object(r.a)(i.default,n.a,n.b,!1,null,"46550fbd",null);t.default=s.exports},"3e57":function(e,t,o){var n=o("606e");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,o("499e").default)("051bed2b",n,!0,{sourceMap:!1,shadowMode:!1})},"4c3a":function(e,t,o){"use strict";var n=o("4ea4");o("99af"),o("4160"),o("a630"),o("caad"),o("c975"),o("a15b"),o("b0c0"),o("a9e3"),o("b680"),o("b64b"),o("d3b7"),o("ac1f"),o("25f0"),o("6062"),o("3ca3"),o("5319"),o("159b"),o("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.isRequiredInfoOrigin=function(e,t,o,n,i){var a="";a=o?function(e,t,o,n){var i=[];t.forEach((function(t,a){for(var r in t){var s=t[r].field_value,l=e[a][r].field_value;-1===["total_count","on_sale_num","car_space","under_floor_num","total_house_num","unit_num","house_on_sale_num"].indexOf(r)?(s=0===Number(s)?"":s,l=0===Number(l)?"":l):(s+="",l+=""),"offer_price"!==r&&"price"!==r||(s=s?Number(s):"",l=l?Number(l):"");var c=t[r].belong_role,f=t[r].is_show_belong_role,d=t[r].belong_other;if("1"==f)if(o){var h=t[r].field_desc;["layout_ting","layout_shi","layout_chu","layout_wei"].includes(r)&&(h="厅室描述"),Array.isArray(s)?u(s,l)||c&&(10!==c||""!==d)||i.push(h):s===l||c&&(10!==c||""!==d)||i.push(h)}else{if(0!==i.length)return!1;var p=t[r].field_desc;["volume_date_year","volume_date_month","volume_date_day","volume_date_ten"].includes(r)&&(p="放量时间"),["live_date_year","live_date_month","live_date_day","live_date_ten"].includes(r)&&(p="交房时间"),["layout_ting","layout_shi","layout_chu","layout_wei"].includes(r)&&(p="厅室描述"),"户型信息模块："===n&&(p="户型（"+t.house_type_num.field_value+"）的"+p),Array.isArray(s)?u(s,l)||c&&(10!==c||""!==d)||i.push(p):s==l||c&&(10!==c||""!==d)||i.push(p)}}}));var a=new Set(i);return Array.from(a)}(e,t,i,n):function(e,t){var o=[];for(var n in t){var i=t[n].field_value,a=e[n].field_value,r=t[n].belong_role,s=t[n].belong_other;if("1"==e[n].is_show_belong_role){var l=t[n].field_desc;["volume_date_year","volume_date_month","volume_date_day","volume_date_ten"].includes(n)&&(l="放量时间");["relation_buildings","relation_house_types"].includes(n)&&""===a&&(a=[]),Array.isArray(i)?u(i,a)||r&&(10!==r||""!==s)||o.push(l):i==a||r&&(10!==r||""!==s)||o.push(l)}}var c=new Set(o);return Array.from(c)}(e,t);var r="",s=n||"";a.length>0&&(a.forEach((function(e){r+=e+"、"})),r=r.substring(0,r.length-1),this.$alert(s+r+"的信息来源是必填项","信息来源",{confirmButtonText:"确定"}));return 0===a.length},t.confirmMsg=function(e){var t=this;return new Promise((function(o){t.$confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",showClose:!1,closeOnClickModal:!1,type:"warning"}).then((function(){o(!0)})).catch((function(){o(!1),t.$message({type:"info",message:"已取消操作"})}))}))},t.confirmDefindMsg=function(e){var t=this,o=e.msg,n=e.confirmText,i=e.cancleText,a=e.confirmFn,r=e.cancleFn;return new Promise((function(e){t.$confirm(o,"提示",{confirmButtonText:n||"确定",cancelButtonText:i||"取消",showClose:!1,closeOnClickModal:!1,type:"warning"}).then((function(){a&&a(),e(!0)})).catch((function(){r&&r(),e(!1)}))}))},t.underline=function(e){if(!e)return e;return e.replace(/\B([A-Z])/g,"_$1").toLowerCase()},t.yuanToWan=function(e){if(isNaN(Number(e)))return console.warn("".concat(e,"无法转成数字")),e;if(!e)return e;return+(Number(e)/1e4).toFixed(4)},t.errorScroll=function(e){var t=null;clearInterval(t),t=setInterval((function(){document.documentElement.scrollTop=e.offsetTop-112,clearInterval(t)}),10)},t.getOriginOperateInfo=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{var o=e.belong_other,n=void 0===o?"":o,i=e.belong_role_text,r=void 0===i?"":i,s=e.belong_datetime,l=void 0===s?"":s,u=e.belong_employee_name,c=void 0===u?"":u,f=e.belong_employee_id,d=void 0===f?"":f,h=n?"-".concat(n):"",p=l&&a.default.filterDate(1e3*l,"YYYY-MM-DD HH:mm:ss");return t?p||c||d?"".concat(r).concat(h," ").concat(p," ").concat(c," ").concat(d?"-"+d:""):"":p||c||d?"".concat(p," ").concat(c," ").concat(d?"-"+d:""):""}catch(e){console.log(e)}},t.filterDate=function(e,t){return""===e?"":(0,r.default)(1e3*e).format(t)},t.arrayIsEqua=u,t.getCurMonthDays=c,t.getComputedTimeByTenData=function(e){try{var t=e.year,o=e.month,n=e.day,i=void 0===n?"":n,a=e.ten,r=void 0===a?"":a;return o=o||12,r&&(1==r||2==r?i=10*r:3==r&&(i=c(o,t))),"".concat(t,"-").concat(o,"-").concat(i)}catch(e){console.log(e)}},t.getHrefUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=this.$route.query,n=o.projectId,i=o.taskId,a=void 0===i?"":i,r=o.role,s=void 0===r?"":r,l=o.buildingType,u=void 0===l?"":l,c=o.projectName,f=void 0===c?"":c,d=o.cityId,h=void 0===d?"":d,p="/dist/building/tabToggleList?projectId=".concat(n);return"".concat(p,"&taskId=").concat(a,"&role=").concat(s,"&cityId=").concat(h,"&projectName=").concat(f,"&buildingType=").concat(u,"&positionTab=").concat(e,"&isEdit=").concat(t)},t.getProjectNameAndTypes=function(){var e=this.$route.query,t=e.projectName,o=void 0===t?"":t,n=e.buildingType,i=void 0===n?"":n;return o&&"".concat(o).concat(i,"--")},t.getNecessaryData=function(e){var t={};return Object.keys(e).forEach((function(o){var n=e[o];t[o]={field_id:n.field_id,field_name:n.field_name,field_value:n.field_value,field_desc:n.field_desc,belong_role:n.belong_role,belong_other:n.belong_other,is_show_belong_role:n.is_show_belong_role,table_id:n.table_id,isNew:!0}})),t},t.setTrack=function(e,t){s.commonFun.setTrackMenu(e,t)},t.getInfoByProjectId=function(e,t){return f.apply(this,arguments)},t.toRouterLink=function(e,t){var o=s.commonFun.deepClone(this.$route.query);o.positionTab=e,o.isEdit=t,o.isEdit||delete o.isEdit;this.$router.push({name:this.$route.name,query:o})},o("96cf");var i=n(o("1da1")),a=n(o("a5a1")),r=n(o("c1df")),s=o("7223"),l=n(o("8fa0"));function u(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.sort((function(e,t){return e-t})).join("")==t.sort((function(e,t){return e-t})).join("")}function c(e,t){var o=t||(new Date).getFullYear(),n=new Date(o,e.toString()).getTime()-864e5;return new Date(n).getDate()}function f(){return(f=(0,i.default)(regeneratorRuntime.mark((function e(t,o){var n,i,a,r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={project_id:t,fields:o},e.next=4,l.default.getProjectInfoById(n);case 4:if(i=e.sent,a=i.data,r=a.code,s=a.data,0!==r){e.next=8;break}return e.abrupt("return",s);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}},"51ce":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o("23f7"),i={getPageAuthListData:function(e){return n.axios.get("/backend-api/project/cj-project-field-belong-config/get-page-list",{params:{task_id:e}})},getDistrictListData:function(e){return n.axios.get("/backend-api/common/get-district-list",{params:e})},getProjectNameAndPositionData:function(e){return n.axios.get("/backend-api/project/cj-project-field-belong-config/get-project-location-page-info",{params:e})},getDynamicInfo:function(e){return n.axios.get("/backend-api/project/dynamic-sales/get-info",{params:e})},getHouseTypeInfo:function(e){return n.axios.get("/backend-api/project/get-house-building-type-list",{params:e})},projectTypesData:function(e){return n.axios.get("/backend-api/common/get-project-type-list",{params:e})},saveProjectNamePageInfoData:function(e){return n.axios.post("/backend-api/project/cj-project-field-belong-config/save-project-location-page-info",e)},getHouseTypeListData:function(e){return n.axios.get("/backend-api/project/get-house-type-list",{params:e})},saveCoyyHouseType:function(e){return n.axios.post("/backend-api/project/cj-house-type/copy-house-type",e)},delHouseTypeData:function(e){return n.axios.post("/backend-api/project/dynamic-sales/del-house-type",e)},delBuildingData:function(e){return n.axios.get("/backend-api/project/cj-project-field-belong-config/del-building",{params:e})},saveDynamicData:function(e){return n.axios.post("/backend-api/project/dynamic-sales/save",e,{headers:{"Content-Type":"application/json"}})},importBuildInfo:function(e){return n.axios.post("/backend-api/project/dynamic-sales/import-build-info",e)},exportBuildInfo:function(e){return n.axios.post("/backend-api/project/dynamic-sales/export-build-info",e)},batchUpdateStatus:function(e){return n.axios.post("/backend-api/project/cj-project/batch-update-status",e)}};t.default=i},"54ab":function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticClass:"copy-house-dialog",attrs:{title:"复制户型",center:"",width:"700px",visible:e.dialogVisible},on:{open:e.dialogOpen,close:e.closeDialog,"update:visible":function(t){e.dialogVisible=t}}},[o("el-form",{ref:"copyForm",attrs:{model:e.copyForm,inline:!0}},[o("el-form-item",{attrs:{label:"您要复制的是："}}),o("el-form-item",{attrs:{label:"城市"}},[o("el-select",{staticClass:"select-city",attrs:{disabled:"",placeholder:"请选择"},on:{change:e.changeCity},model:{value:e.copyForm.city,callback:function(t){e.$set(e.copyForm,"city",t)},expression:"copyForm.city"}},e._l(e.cityList,(function(e){return o("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"楼盘"}},[o("el-select",{staticClass:"select-project",attrs:{filterable:"",remote:"",disabled:"",placeholder:"请输入关键词","remote-method":e.getProjectList,loading:e.loading},on:{change:e.changeProject},model:{value:e.copyForm.project,callback:function(t){e.$set(e.copyForm,"project",t)},expression:"copyForm.project"}},e._l(e.projectList,(function(e){return o("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),o("el-form-item",{attrs:{prop:"houseType",rules:[{required:!0,message:"该项为必填项"}],label:"户型"}},[o("el-select",{staticClass:"select-house-type",attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.copyForm.houseType,callback:function(t){e.$set(e.copyForm,"houseType",t)},expression:"copyForm.houseType"}},e._l(e.houseTypeList,(function(e){return o("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),e._l(e.labelData,(function(t,n,i){return o("el-form-item",{key:n,staticClass:"checkbox-wrap"},[o("div",{staticClass:"info-header"},[o("el-checkbox",{on:{change:function(t){return e.handleCheckAllChange(n,t,i)}},model:{value:e.checkAll[i],callback:function(t){e.$set(e.checkAll,i,t)},expression:"checkAll[idx]"}},[e._v(" "+e._s(n)+" ")])],1),o("div",{staticClass:"info-body"},[o("el-checkbox-group",{on:{change:function(t){return e.handleCheckedChange(n,t,i)}},model:{value:e.checkedArr[i],callback:function(t){e.$set(e.checkedArr,i,t)},expression:"checkedArr[idx]"}},e._l(t,(function(t){return o("el-checkbox",{key:t.id,attrs:{label:t.key}},[e._v(e._s(t.text))])})),1)],1)])})),o("el-form-item",{attrs:{label:"您要新增的户型信息："}}),o("el-form-item",{attrs:{prop:"number",rules:[{required:!0,message:"该项为必填项"}],label:"户型编号"}},[o("el-input",{attrs:{placeholder:"请输入户型编号"},model:{value:e.copyForm.number,callback:function(t){e.$set(e.copyForm,"number",t)},expression:"copyForm.number"}})],1)],2),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.closeDialog}},[e._v(" 取消 ")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("copyForm")}}},[e._v(" 保存 ")])],1)],1)},i=[]},"569e":function(e,t,o){"use strict";o("ee6f")},"5a34":function(e,t,o){var n=o("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5b13":function(e,t,o){"use strict";o("3e57")},6062:function(e,t,o){"use strict";var n=o("6d61"),i=o("6566");e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"606e":function(e,t,o){(t=o("24fb")(!1)).push([e.i,".copy-house-dialog .checkbox-wrap[data-v-46550fbd]{display:block;border:2px dotted #ccc;border-radius:4px;padding:5px 10px}.copy-house-dialog .checkbox-wrap[data-v-46550fbd] .el-form-item__content{width:100%}.copy-house-dialog .info-header[data-v-46550fbd]{border-bottom:1px solid #ccc}.copy-house-dialog .select-city[data-v-46550fbd]{width:100px}.copy-house-dialog .select-project[data-v-46550fbd]{width:230px}.copy-house-dialog .select-house-type[data-v-46550fbd]{width:500px}.copy-house-dialog[data-v-46550fbd] .el-dialog--center .el-dialog__body{padding:15px 25px 0;height:550px;overflow-y:auto}",""]),e.exports=t},"61d3":function(e,t,o){"use strict";var n=o("4ea4");o("c740"),o("4160"),o("caad"),o("c975"),o("a15b"),o("d81d"),o("a434"),o("ace4"),o("b0c0"),o("a9e3"),o("b680"),o("d3b7"),o("820e"),o("ac1f"),o("25f0"),o("2532"),o("3ca3"),o("466d"),o("1276"),o("5cc6"),o("9a8c"),o("a975"),o("735e"),o("c1ac"),o("d139"),o("3a7b"),o("d5d6"),o("82f8"),o("e91f"),o("60bd"),o("5f96"),o("3280"),o("3fcc"),o("ca91"),o("25a1"),o("cd26"),o("3c5d"),o("2954"),o("649e"),o("219c"),o("170b"),o("b39a"),o("72f7"),o("159b"),o("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o("96cf");var i=n(o("1da1")),a=n(o("5530")),r=n(o("c1df")),s=o("2f62"),l=n(o("dc0d")),u=o("4c3a"),c=o("8194"),f=n(o("f149")),d=n(o("f884")),h=n(o("8fa0")),p=n(o("f946")),_=n(o("3910")),m=o("7223"),g=[1,3,4,5,7,8,9,10,11,12,13,14,23,24,30,31,32,34,35,36,37,38,39,40,41,42,43,44,46],v={name:"BuildNamePoition",props:{},watch:{},data:function(){var e=this;return{selfConsistentDialogvisible:!1,selfConsistentMessage:"",photoListArr:[],houseInitInfo:{},houseDynameicInfo:{},houseParseInfo:{},getHosueTypeDataList:[],isFixed:!1,gethost:{},isCheckDisabled:!1,getRelatedBuildingOpiton:[],validateAcreage:function(t,o,n){""===e.houseDynameicInfo.acreage.field_value&&""===e.houseDynameicInfo.ac_acreage.field_value?n(new Error("建筑面积和套内面积二必填一")):n()},hosueDataArrConcat:[],initStructureList:null,hosuePhotoCopy:[],houseDialogVisible:!1,projectType:"",lendRate:"",lendYear:"",projectNameVal:"",allPriceIsSave:!1,priceLimitIsSave:!1,offPriceIsEmpty:!1,breadText:"楼盘列表",PhotoIsShow:!1,urlList:[],delPhotoName:"",pageLoading:!1,ossData:{},isShowHouseType:!0,repeatPhotoList:[],initOfferPriceCopy:"",exceedLimitIsSave:!1,arrKey:[],keydown:"",cityId:"",projectName:"",buildingType:"",device:"",uploadLoading:"",baseList:[],isCompress:!0,compressSize:"5120"}},computed:(0,a.default)({},(0,s.mapState)({getConfigList:function(e){return e.buildingDictionary.projectConfiglist}})),mounted:function(){this.device=m.commonFun.getDevice(),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp),window.addEventListener("scroll",this.photoIsFixed),this.getProjectInfo(),this.getHouseTypeList(),this.gethost=JSON.parse(localStorage.getItem("gethost")),this.hosueRoomIsReg=c.hosueRoomIsReg,this.isRequiredInfoOrigin=u.isRequiredInfoOrigin,this.getRelatedBuildingSel(),this.initStructure(),this.getProjcetInitInfo(),this.isOperation(),this.getOssSign()},destroyed:function(){window.removeEventListener("scroll",this.photoIsFixed),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},methods:{compressStart:function(e,t){var o=this;return(0,i.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{Promise.allSettled(e.map(function(){var e=(0,i.default)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){o.readAndPreview(t,e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(n){e.forEach((function(e){t.removeFile(e.id)})),o.baseList.length>0?t.addFile(o.baseList):t.start()}))}catch(e){console.log(e),o.uploadLoading.close()}case 1:case"end":return n.stop()}}),n)})))()},readAndPreview:function(e,t,o){var n=this;try{var i=new FileReader;i.readAsDataURL(e.getNative()),i.onload=function(o){n.verificateBase64(o.target.result,(function(o){if(o){var i=n.dataURLtoFile(o,e.name);n.baseList.push(i),t(!0)}else t(!0)}))}}catch(e){this.uploadLoading.close()}},computedImgSize:function(e){var t=e.split(",")[1],o=t.indexOf("=");t.indexOf("=")>=0&&(t=t.substring(0,o));var n=t.length,i=parseInt(n-n/8*2),a=parseInt(i/1024).toFixed(0);return parseInt(a)},verificateBase64:function(e,t){var o,n,i=this,a=new Image,r=1;a.src=e,a.setAttribute("crossOrigin","Anonymous"),a.onload=function(){o=this.width,n=this.height;var e=document.createElement("canvas"),a=e.getContext("2d");e.width=o,e.height=n,a.clearRect(0,0,e.width,e.height),a.drawImage(this,0,0,e.width,e.height);var s=e.toDataURL("image/jpeg",r),l=i.computedImgSize(s),u=i.compressSize;if(i.isCompress&&u&&l>u){for(var c=0;c<3&&i.computedImgSize(s)>u;)r-=.2,s=e.toDataURL("image/jpeg",r),c++;if(i.computedImgSize(s)>u)return i.$message.warning("上传的图片经过压缩后仍大于5M，请重新上传符合大小要求的图片！"),void t("")}t(s)}},dataURLtoFile:function(e,t){for(var o=e.split(","),n=o[0].match(/:(.*?);/)[1],i=atob(o[1]),a=i.length,r=new Uint8Array(a);a--;)r[a]=i.charCodeAt(a);return new File([r],t,{type:n})},beforeUpdate:function(e){if(this.uploadLoading=this.$loading({lock:!0,text:"请求中，请稍后",spinner:"el-icon-loading",customClass:"loading-default-box",background:"rgba(255, 255, 255, 0.8)"}),!e)return!1;this.compressStart(e,this.$refs.uploadTest._data.uploader)},getProjectInfo:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var o,n,i,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.default.getProjectInfoById({project_id:e.$route.query.projectId,fields:"name,city_id,project_type_text"});case 3:o=t.sent,n=o.data,i=n.code,a=n.msg,r=n.data,0===i?(e.cityId=r.city_id,e.projectName=r.name,e.buildingType=r.project_type_text?"("+r.project_type_text+")":"",e.getconfigDataList()):e.$message.error(a),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},handleKeyDown:function(e){this.arrKey.length>0&&this.arrKey.indexOf(e.key.toLowerCase())>=0||(this.arrKey.push(e.key.toLowerCase()),this.keydown=this.arrKey.join("+"),"mac"===this.device?"meta+s"===this.keydown&&(this.saveData(),e.preventDefault()):"control+s"===this.keydown&&(this.saveData(),e.preventDefault()))},handleKeyUp:function(e){this.keydown="",this.arrKey=[],e.preventDefault()},validateStatus:function(e,t,o){t?o():o(new Error("请选择销售状态"))},getconfigDataList:function(){var e={city_id:this.cityId||"",type:g,district_id:this.districtId||"",project_id:this.$route.query.projectId||""};this.$store.dispatch("getProjectConfigList",e)},getOssSign:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var o,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={cate:"Upload/project/house_type"},t.next=4,p.default.getSign(o);case 4:n=t.sent,i=n.data,e.ossData=i.data,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},cancelDeatil:function(){this.$route.query.isViewJump?this.$router.push({path:"/building/BuildAddHouseView",query:{projectId:this.$route.query.projectId,taskId:this.$route.query.taskId,houseTypeId:this.$route.query.houseTypeId,role:this.$route.query.role}}):this.gotoDymicInfo()},setTrack:function(e,t){m.commonFun.setTrackMenu(e,t)},isOperation:function(){"operation"===this.$route.query.role?this.breadText="楼盘列表":"expand"===this.$route.query.role&&(this.breadText="楼盘任务列表")},goToListPage:function(){"operation"===this.$route.query.role?window.location.href="/index.php?r=yw-projects/index":"expand"===this.$route.query.role&&this.$router.push({path:"/building/ExpandTaskList"})},gotoDymicInfo:function(e){if(e){var t=this.$router.resolve({path:"/building/tabToggleList",query:{projectId:this.$route.query.projectId,taskId:this.$route.query.taskId,cityId:this.cityId,projectName:this.projectName,role:this.$route.query.role,positionTab:"2",buildingType:this.buildingType}}).href;window.open(t,"_blank")}else this.$router.push({path:"/building/tabToggleList",query:{projectId:this.$route.query.projectId,taskId:this.$route.query.taskId,cityId:this.cityId,projectName:this.projectName,role:this.$route.query.role,positionTab:"2",buildingType:this.buildingType}})},addBuilding:function(){var e=this.$router.resolve({path:"/building/buildingDetailEdit",query:{projectId:this.$route.query.projectId,taskId:this.$route.query.taskId,isEdit:"1",role:this.$route.query.role}});window.open(e.href)},copeHouseType:function(){this.houseDialogVisible=!0},reloadEditPage:function(e,t){if(e){var o=this.$router.resolve({path:"/building/BuildAddHouseDetail",query:{projectId:this.$route.query.projectId,taskId:this.$route.query.taskId,houseTypeId:t,role:this.$route.query.role}});window.open(o.href)}},isChangeRadio:function(){var e=this.houseInitInfo.layout_shi,t=this.houseInitInfo.layout_ting,o=this.houseInitInfo.layout_chu,n=this.houseInitInfo.layout_wei,i=[];i.push(e,t,o,n),i.forEach((function(t){t.belong_role=e.belong_role,t.belong_other=e.belong_other}))},saveData:function(){var e=this;this.isChangeRadio();var t=new Promise((function(t){e.$refs.initInfoForm.validate((function(e){if(!e)return!1;t(!0)}))})),o=new Promise((function(t){e.$refs.dynamicInfoForm.validate((function(e){if(!e)return!1;t(!0)}))})),n=this.checkSensitiveWordsInfo();Promise.all([t,o,n]).then(function(){var t=(0,i.default)(regeneratorRuntime.mark((function t(o){var n,i,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.includes(!1)){t.next=41;break}if(e.hosueRoomIsReg(Number(e.houseInitInfo.layout_shi.field_value),e.houseInitInfo.room_type.field_value)){t.next=3;break}return t.abrupt("return",!1);case 3:if(""!==e.houseDynameicInfo.offer_price.field_value||2!=e.houseDynameicInfo.status.field_value||e.offPriceIsEmpty){t.next=6;break}return e.addMessageDialog("在售户型的报价为空，系统不推荐保存，请确定是否添加报价信息！","添加","不添加","priceStatus"),t.abrupt("return",!1);case 6:if(e.notPhotoList()){t.next=8;break}return t.abrupt("return",!1);case 8:if(7!=e.getConfigList.current_role_source||e.photoSortIsRepeat()){t.next=10;break}return t.abrupt("return",!1);case 10:if(e.priceBeyondLimit(e.houseDynameicInfo.offer_price.field_value,e.getConfigList.price_limit_list,e.priceLimitIsSave)){t.next=13;break}return t.abrupt("return",!1);case 13:if(e.priceIsExceedLimit(e.houseDynameicInfo.offer_price.field_value,e.getConfigList.price_limit_list,e.exceedLimitIsSave)){t.next=16;break}return t.abrupt("return",!1);case 16:if(e.checkAllPrice(e.houseDynameicInfo,e.allPriceIsSave)){t.next=18;break}return t.abrupt("return",!1);case 18:if(e.checkHouseMargin(e.houseDynameicInfo)){t.next=20;break}return t.abrupt("return",!1);case 20:if(e.isRequiredInfoOrigin(e.hosuePhotoCopy,e.photoListArr,!0,"",!1)){t.next=23;break}return t.abrupt("return",!1);case 23:if(e.isRequiredInfoOrigin(e.hosueDataArrConcat,e.saveFormConversionArr(),!0,"",!0)){t.next=26;break}return t.abrupt("return",!1);case 26:return e.pageLoading=!0,t.prev=27,n={house_type_base_detail:{module_name:e.houseInitModuleName,data:e.houseInitInfo},house_type_movable_pin_detail:{module_name:e.houseDynameicModuleName,data:e.houseDynameicInfo},house_type_analysis:{module_name:e.houseParseModuleName,data:e.houseParseInfo},house_type_detail_imgs:{module_name:e.photoListModuleName,data:e.photoListArr}},i={task_id:e.$route.query.taskId,project_id:e.$route.query.projectId,house_type_info:n},t.next=32,d.default.saveInfoData(i);case 32:a=t.sent,0===(r=a.data).code?(e.pageLoading=!1,e.$message.success("保存成功"),setTimeout((function(){e.$router.push({path:"/building/BuildAddHouseView",query:{projectId:e.$route.query.projectId,taskId:e.$route.query.taskId,houseTypeId:e.$route.query.houseTypeId?e.$route.query.houseTypeId:r.data.house_id,role:e.$route.query.role}})}),1e3)):20008===r.code?(e.pageLoading=!1,e.selfConsistentDialogvisible=!0,e.selfConsistentMessage=r.msg):1===r.code?(e.pageLoading=!1,e.$message(r.msg)):e.pageLoading=!1,t.next=41;break;case 37:t.prev=37,t.t0=t.catch(27),e.pageLoading=!1,console.log(t.t0);case 41:case"end":return t.stop()}}),t,null,[[27,37]])})));return function(e){return t.apply(this,arguments)}}())},editHousePrejectStatus:function(){this.selfConsistentDialogvisible=!1,this.setTrack("6482",{error_type:"2",role:7==this.getConfigList.current_role_source?"2":"1",frompage:"2",topage:"1"}),this.gotoDymicInfo(!0)},editHouseTypeStatus:function(){this.selfConsistentDialogvisible=!1,this.setTrack("6483",{error_type:"2",role:7==this.getConfigList.current_role_source?"2":"1",frompage:"2",topage:"2"})},saveFormConversionArr:function(){var e=[];return e.push(this.houseInitInfo,this.houseDynameicInfo,this.houseParseInfo),e},notPhotoList:function(){var e=!0;return 7==this.getConfigList.current_role_source&&this.houseInitInfo.is_show_room_type&&2==this.houseInitInfo.is_show_room_type.field_value&&0===this.photoListArr.length&&!this.photoIsSave&&(this.addMessageDialog("该户型为显示，则需要存在展示的户型图！","添加","不添加并保存","photoIsSaveStatus"),e=!1),e},photoSortIsRepeat:function(){var e=!0,t=this.photoListArr,o={};for(var n in t){if(""!=t[n].show_index.field_value&&o[t[n].show_index.field_value]){this.$message("该户型图排序已存在，不可重复"),e=!1;break}o[t[n].show_index.field_value]=!0}return e},priceBeyondLimit:function(e,t,o){var n=t.price_min,i=t.price_max,a=!0;return 1e4*e!=""&&(1e4*e<=n||1e4*e>=i)&&!o&&(this.addMessageDialog("本次修改的户型"+this.houseNumArcageConcat(this.houseInitInfo,this.houseDynameicInfo)+"单价为"+e+"万元/㎡,系统判断价格可能存在异常，请确认是否正确录入！","修改","确认并保存","confimSave"),a=!1),a},priceIsExceedLimit:function(e,t,o){var n=t.price_limit,i=!0;return Math.abs(Math.round(1e4*e-this.initOfferPriceCopy))>=n&&!o&&""!=this.initOfferPriceCopy&&"0"!=this.initOfferPriceCopy&&(i=!1,this.addMessageDialog("本次修改的"+this.houseNumArcageConcat(this.houseInitInfo,this.houseDynameicInfo)+"单价涨跌超出"+n+"元,请确认是否降价/涨价这么多！","修改","确认并保存","exceedLimit")),i},addMessageDialog:function(e,t,o,n){var i=this;this.$confirm(e,"提示",{confirmButtonText:o,cancelButtonText:t,type:"warning",center:!0}).then((function(){"priceStatus"===n?(i.offPriceIsEmpty=!0,i.saveData()):"confimSave"===n?(i.priceLimitIsSave=!0,i.saveData()):"allPriceCheck"===n?(i.allPriceIsSave=!0,i.saveData()):"photoIsSaveStatus"===n?(i.photoIsSave=!0,i.houseInitInfo.is_show_room_type&&(i.houseInitInfo.is_show_room_type.field_value=1),i.saveData()):"exceedLimit"===n&&(i.exceedLimitIsSave=!0,i.saveData())})).catch((function(){i.$message({type:"success",message:"已确认"})}))},checkHouseMargin:function(e){var t=e.status,o=e.house_on_sale_num,n=!0,i=(2==t.field_value||4==t.field_value)&&""!==o.field_value&&o.field_value<=0,a=3==t.field_value&&""!==o.field_value&&o.field_value>0;return(i||a)&&(this.$alert(this.houseNumArcageConcat(this.houseInitInfo,this.houseDynameicInfo)+"的销售状态和在售余量不自冾","提示",{confirmButtonText:"确定"}),n=!1),n},houseNumArcageConcat:function(e,t){var o,n,i,a,r=e.house_type_num,s=e.layout_shi,l=e.layout_ting,u=e.layout_chu,c=e.layout_wei,f=t.acreage,d=t.ac_acreage,h="";return o=""===s.field_value||0==s.field_value?"":s.field_value+"室",n=""===l.field_value||0==l.field_value?"":l.field_value+"厅",i=""===u.field_value||0==u.field_value?"":u.field_value+"厨",a=""===c.field_value||0==c.field_value?"":c.field_value+"卫",""!==f.field_value&&""!==d.field_value||""!==f.field_value&&""===d.field_value?h=r.field_value+"-"+f.field_value+"㎡-"+o+n+i+a:""===f.field_value&&""!==d.field_value&&(h=r.field_value+"-(套内)"+d.field_value+"㎡-"+o+n+i+a),h},checkAllPrice:function(e,t){var o=!0,n=e.acreage,i=e.ac_acreage,a=e.offer_price,r=e.price,s=(i.field_value*a.field_value).toFixed(4),l=(n.field_value*a.field_value).toFixed(4);if(!t&&(""!==n.field_value||""!==i.field_value)&&""!==a.field_value){var u=""!==n.field_value&&""!==i.field_value,c=""!==n.field_value&&""==i.field_value&&r.field_value!=l,f=""==n.field_value&&""!==i.field_value&&r.field_value!=s,d="20000050"===this.cityId&&r.field_value!=s,h="20000050"!==this.cityId&&r.field_value!=l;(u&&(d||h)||c||f)&&(this.addMessageDialog(this.houseNumArcageConcat(this.houseInitInfo,this.houseDynameicInfo)+"的价格面积修改存在错误，请确认是否保存","不保存","保存","allPriceCheck"),o=!1)}return o},calculationAllPrice:function(e,t){var o=e.acreage,n=e.ac_acreage,i=e.offer_price,a=e.price,r=e.month_pay,s=e.payment_ratio,l=e.down_pay;(""===o.field_value&&""===n.field_value||""===i.field_value||""===a.field_value)&&(a.field_value="",l&&(l.field_value=""),(""===s.field_value||""===a.field_value)&&r&&r.field_value&&(r.field_value="")),"priceAll"==t?(this.downPaymentPlanning(a.field_value),this.calculationMonthPrice()):""===o.field_value&&""===n.field_value||""===i.field_value||((""!==o.field_value&&""!==n.field_value&&"20000050"===this.cityId||""===o.field_value&&""!==n.field_value)&&(a.field_value=(n.field_value*i.field_value).toFixed(4)),(""!==o.field_value&&""!==n.field_value&&"20000050"!==this.cityId||""!==o.field_value&&""===n.field_value)&&(a.field_value=(o.field_value*i.field_value).toFixed(4)),this.calculationMonthPrice(),this.downPaymentPlanning(a.field_value))},calculationMonthPrice:function(){var e=this.houseDynameicInfo,t=e.payment_ratio,o=e.price,n=e.month_pay;if(n){var i=this.lendRate,a=t.field_value/100,r=this.lendYear;n.field_value=Math.round(o.field_value*(1-a)*i*Math.pow(1+i,r)/(Math.pow(1+i,r)-1)*1e4)}},downPaymentPlanning:function(e){var t=this.houseDynameicInfo,o=t.price,n=t.payment_ratio,i=t.down_pay;i&&""!==o.field_value&&""!==n.field_value&&(i.field_value=Math.round(e*(.01*n.field_value)*1e4))},delPhotoModule:function(e,t,o){var n=this;this.$confirm("一旦删除则无法恢复确认是否删除！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,i.default)(regeneratorRuntime.mark((function i(){var a,r,s,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(""!==e){i.next=8;break}return n.photoListArr.splice(t,1),n.hosuePhotoCopy.splice(t,1),n.delPhotoName=o,a=n.repeatPhotoList.findIndex((function(e){return e==o})),n.repeatPhotoList.splice(a,1),n.$message({type:"success",message:"删除成功!"}),i.abrupt("return");case 8:return i.prev=8,r={img_id:e,task_id:n.$route.query.taskId,house_type_id:n.$route.query.houseTypeId},i.next=12,d.default.delHousePhotoData(r);case 12:s=i.sent,0===(l=s.data).code?(n.photoListArr.splice(t,1),n.hosuePhotoCopy.splice(t,1),n.delPhotoName=o,n.$message({type:"success",message:"删除成功!"})):n.$message(l.msg),i.next=20;break;case 17:i.prev=17,i.t0=i.catch(8),console.log(i.t0);case 20:case"end":return i.stop()}}),i,null,[[8,17]])})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}))},getTheSame:function(e,t){var o=[];e.forEach((function(e){o.push(e.originName)})),this.result=new Array;for(var n=t.toString(),i=0;i<o.length;i++)if(n.indexOf(o[i].toString())>-1)for(var a=0;a<t.length;a++)if(o[i]==t[a]){this.result.push(o[i]);break}return this.result},uploadSuccess:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t.uploadLoading.close(),t.baseList=[],!(t.getTheSame(e,t.repeatPhotoList).length>0)){o.next=5;break}return t.$message("上传的文件重复，请重新选择"),o.abrupt("return");case 5:for(n=0;n<e.length;n++)t.repeatPhotoList.push(e[n].originName),t.initStructureLists=JSON.parse(JSON.stringify(t.initStructureList)),t.initStructureListCopy=JSON.parse(JSON.stringify(t.initStructureList)),t.initStructureLists.apart_img.field_value=e[n].upURL,t.photoListArr.push(t.initStructureLists),t.hosuePhotoCopy.push(t.initStructureListCopy);t.errorScroll();case 7:case"end":return o.stop()}}),o)})))()},errorScroll:function(){var e=this,t=document.querySelector(".photo-box");if(t&&t.clientHeight){var o=null,n=t.clientHeight;clearInterval(o),o=setInterval((function(){document.querySelector(".house-photo-list").scrollTop=n*e.photoListArr.length,clearInterval(o)}),10)}},initStructure:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var o,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={page_id:6,task_id:e.$route.query.taskId||""},t.next=4,h.default.getPageModuleData(o);case 4:n=t.sent,0===(i=n.data).code?(e.initStructureList=i.data.house_type_detail_imgs.data,e.addHouseAPi()):e.$message(i.msg),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},addHouseAPi:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var o,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.$route.query.houseTypeId){t.next=8;break}return n={page_id:6,task_id:e.$route.query.taskId||""},t.next=5,h.default.getPageModuleData(n);case 5:o=t.sent,t.next=12;break;case 8:return n={project_id:e.$route.query.projectId,task_id:e.$route.query.taskId,house_type_id:e.$route.query.houseTypeId},t.next=11,d.default.initHouseDetailData(n);case 11:o=t.sent;case 12:0===(i=o.data).code?(e.$route.query.houseTypeId?e.photoListArr=i.data.house_type_detail_imgs.data:e.photoListArr=[],e.photoListModuleName=i.data.house_type_detail_imgs.module_name,e.houseInitInfo=i.data.house_type_base_detail.data,e.houseInitModuleName=i.data.house_type_base_detail.module_name,e.houseDynameicInfo=i.data.house_type_movable_pin_detail.data,e.houseDynameicModuleName=i.data.house_type_movable_pin_detail.module_name,e.$route.query.houseTypeId&&""!==e.houseDynameicInfo.payment_ratio.field_value||(e.houseDynameicInfo.payment_ratio.field_value=e.paymentRatio),e.initOfferPriceCopy=JSON.parse(JSON.stringify(e.houseDynameicInfo.offer_price.field_value)),e.houseDynameicInfo.offer_price.field_value=(0,u.yuanToWan)(e.houseDynameicInfo.offer_price.field_value),e.houseDynameicInfo.price.field_value=(0,u.yuanToWan)(e.houseDynameicInfo.price.field_value),i.data.house_type_analysis&&(e.houseParseInfo=i.data.house_type_analysis.data,e.houseParseModuleName=i.data.house_type_analysis.module_name),e.projectDataCopy=JSON.parse(JSON.stringify(i.data)),e.$route.query.houseTypeId?e.hosuePhotoCopy=e.projectDataCopy.house_type_detail_imgs.data:e.hosuePhotoCopy=[],e.hosueDataArrConcat.push(e.projectDataCopy.house_type_base_detail.data),e.hosueDataArrConcat.push(e.projectDataCopy.house_type_movable_pin_detail.data),e.hosueDataArrConcat.push(e.projectDataCopy.house_type_analysis.data)):e.$message(i.msg),t.next=18;break;case 16:t.prev=16,t.t0=t.catch(0);case 18:case"end":return t.stop()}}),t,null,[[0,16]])})))()},checkSensitiveWordsInfo:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var o,n,i,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n in o="",e.houseParseInfoCopy=JSON.parse(JSON.stringify(e.houseParseInfo)),e.$delete(e.houseParseInfoCopy,"house_tag"),e.houseParseInfoCopy)o+=e.houseParseInfoCopy[n].field_desc+"$"+e.houseParseInfoCopy[n].field_value+"|||";return o=o.substr(0,o.length-3),t.prev=5,i={str:o,is_create_project:2,city_id:e.cityId,project_id:e.$route.query.projectId},t.next=9,d.default.checkSensitiveWordsData(i);case 9:if(a=t.sent,200!==(r=a.data).code){t.next=15;break}Promise.resolve(!0),t.next=17;break;case 15:return e.$message(r.msg),t.abrupt("return",!1);case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(5),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[5,19]])})))()},getRelatedBuildingSel:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var o,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={project_id:e.$route.query.projectId,task_id:e.$route.query.taskId},t.next=4,h.default.getProjectBuildingListdata(o);case 4:n=t.sent,0===(i=n.data).code&&(e.getRelatedBuildingOpiton=i.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},buildingChange:function(e){if("-1"===e[e.length-1]){var t=this.getRelatedBuildingOpiton.map((function(e){if("-1"!==e.id)return e.id}));this.houseDynameicInfo.relation_buildings.field_value=t,this.$refs.relationBuilds.blur()}},getHouseTypeList:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var o,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={project_id:e.$route.query.projectId},t.next=4,d.default.getHouseTypeData(o);case 4:n=t.sent,0===(i=n.data).code&&(e.getHosueTypeDataList=i.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},houseRoomLinkage:function(e,t){e<=5&&e>1?this.$set(t,"field_value",Number(e)):e>5&&this.$set(t,"field_value",5)},spliceInfoOrigin:function(e){var t=e.belong_datetime,o=e.belong_employee_name,n=e.belong_employee_id;return""===t?"":this.filterDate(t)+" "+o+"-"+n},filterDate:function(e){return""===e?"":(0,r.default)(1e3*e).format("YYYY-MM-DD HH:mm:ss")},photoIsFixed:function(){var e=document.querySelector(".house-photo-list").offsetTop,t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.isFixed=t>e},getProjcetInitInfo:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var o,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={project_id:e.$route.query.projectId,task_id:e.$route.query.taskId},t.next=4,h.default.getProjectBaseInfo(o);case 4:n=t.sent,0===(i=n.data).code&&(e.projectType=i.data.project_type,e.lendRate=i.data.lend_rate,e.lendYear=i.data.lend_year,1==e.projectType||2==e.projectType||3==e.projectType?e.isShowHouseType=!0:e.isShowHouseType=!1,e.projectNameVal=i.data.name,e.paymentRatio=i.data.payment_ratio),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},openPhotoViewer:function(e){this.urlList=[],this.urlList.push(e),this.PhotoIsShow=!0},closeViewer:function(e){this.PhotoIsShow=e}},components:{InfoOrigin:l.default,MsgDialog:f.default,copyHouseType:_.default}};t.default=v},6566:function(e,t,o){"use strict";var n=o("9bf2").f,i=o("7c73"),a=o("e2cc"),r=o("0366"),s=o("19aa"),l=o("2266"),u=o("7dd0"),c=o("2626"),f=o("83ab"),d=o("f183").fastKey,h=o("69f3"),p=h.set,_=h.getterFor;e.exports={getConstructor:function(e,t,o,u){var c=e((function(e,n){s(e,c,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=n&&l(n,e[u],{that:e,AS_ENTRIES:o})})),h=_(t),m=function(e,t,o){var n,i,a=h(e),r=g(e,t);return r?r.value=o:(a.last=r={index:i=d(t,!0),key:t,value:o,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=r),n&&(n.next=r),f?a.size++:e.size++,"F"!==i&&(a.index[i]=r)),e},g=function(e,t){var o,n=h(e),i=d(t);if("F"!==i)return n.index[i];for(o=n.first;o;o=o.next)if(o.key==t)return o};return a(c.prototype,{clear:function(){for(var e=h(this),t=e.index,o=e.first;o;)o.removed=!0,o.previous&&(o.previous=o.previous.next=void 0),delete t[o.index],o=o.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=h(this),o=g(this,e);if(o){var n=o.next,i=o.previous;delete t.index[o.index],o.removed=!0,i&&(i.next=n),n&&(n.previous=i),t.first==o&&(t.first=n),t.last==o&&(t.last=i),f?t.size--:this.size--}return!!o},forEach:function(e){for(var t,o=h(this),n=r(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:o.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!g(this,e)}}),a(c.prototype,o?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&n(c.prototype,"size",{get:function(){return h(this).size}}),c},setStrong:function(e,t,o){var n=t+" Iterator",i=_(t),a=_(n);u(e,t,(function(e,t){p(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,o=e.last;o&&o.removed;)o=o.previous;return e.target&&(e.last=o=o?o.next:e.state.first)?"keys"==t?{value:o.key,done:!1}:"values"==t?{value:o.value,done:!1}:{value:[o.key,o.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),o?"entries":"values",!o,!0),c(t)}}},"6d61":function(e,t,o){"use strict";var n=o("23e7"),i=o("da84"),a=o("94ca"),r=o("6eeb"),s=o("f183"),l=o("2266"),u=o("19aa"),c=o("861d"),f=o("d039"),d=o("1c7e"),h=o("d44e"),p=o("7156");e.exports=function(e,t,o){var _=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),g=_?"set":"add",v=i[e],b=v&&v.prototype,y=v,I={},x=function(e){var t=b[e];r(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:function(e,o){return t.call(this,0===e?0:e,o),this})};if(a(e,"function"!=typeof v||!(m||b.forEach&&!f((function(){(new v).entries().next()})))))y=o.getConstructor(t,e,_,g),s.REQUIRED=!0;else if(a(e,!0)){var k=new y,w=k[g](m?{}:-0,1)!=k,D=f((function(){k.has(1)})),C=d((function(e){new v(e)})),$=!m&&f((function(){for(var e=new v,t=5;t--;)e[g](t,t);return!e.has(-0)}));C||((y=t((function(t,o){u(t,y,e);var n=p(new v,t,y);return null!=o&&l(o,n[g],{that:n,AS_ENTRIES:_}),n}))).prototype=b,b.constructor=y),(D||$)&&(x("delete"),x("has"),_&&x("get")),($||w)&&x(g),m&&b.clear&&delete b.clear}return I[e]=y,n({global:!0,forced:y!=v},I),h(y,e),m||o.setStrong(y,e,_),y}},"6fe3":function(e,t,o){"use strict";o.r(t);var n=o("a540"),i=o("34a1");for(var a in i)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(a);o("569e");var r=o("2877"),s=Object(r.a)(i.default,n.a,n.b,!1,null,"62c504a6",null);t.default=s.exports},8194:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hosueRoomIsReg=function(e,t){var o=!0,n=e>1&&e>5&&5!==t;((e>1||1===e&&0!==t&&7!==t)&&e<=5&&e!==t||n)&&(this.$alert("厅室描述和户型居室不匹配，请确认检查信息！","提示",{confirmButtonText:"确定"}),o=!1);return o}},"820e":function(e,t,o){"use strict";var n=o("23e7"),i=o("1c0b"),a=o("f069"),r=o("e667"),s=o("2266");n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,o=a.f(t),n=o.resolve,l=o.reject,u=r((function(){var o=i(t.resolve),a=[],r=0,l=1;s(e,(function(e){var i=r++,s=!1;a.push(void 0),l++,o.call(t,e).then((function(e){s||(s=!0,a[i]={status:"fulfilled",value:e},--l||n(a))}),(function(e){s||(s=!0,a[i]={status:"rejected",reason:e},--l||n(a))}))})),--l||n(a)}));return u.error&&l(u.value),o.promise}})},"88ff":function(e,t,o){"use strict";o.r(t);var n=o("ae0e"),i=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t.default=i.a},"8b52":function(e,t,o){"use strict";o.r(t);var n=o("a8b9"),i=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t.default=i.a},"8f99":function(e,t,o){"use strict";o.r(t);var n=o("aa32"),i=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t.default=i.a},a15b:function(e,t,o){"use strict";var n=o("23e7"),i=o("44ad"),a=o("fc6a"),r=o("a640"),s=[].join,l=i!=Object,u=r("join",",");n({target:"Array",proto:!0,forced:l||!u},{join:function(e){return s.call(a(this),void 0===e?",":e)}})},a540:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"content-box"},[o("el-breadcrumb",{staticClass:"bread-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",[o("a",{attrs:{href:"/"}},[e._v("首页")])]),o("el-breadcrumb-item",[o("a",{on:{click:e.goToListPage}},[e._v(e._s(e.breadText))])]),o("el-breadcrumb-item",[o("a",{on:{click:e.gotoDymicInfo}},[e._v("动销信息")])]),o("el-breadcrumb-item",[e._v("户型详情页")]),o("el-breadcrumb-item",[e._v("编辑")])],1),o("div",{staticClass:"header-title-box"},[o("h2",[e._v(e._s(e.projectName+e.buildingType)+" -- 户型详情")]),e.getConfigList.current_role_source&&7==e.getConfigList.current_role_source?o("el-button",{attrs:{type:"primary"},on:{click:e.copeHouseType}},[e._v(" 复制已有户型 ")]):e._e()],1),o("div",{staticClass:"content-list-box"},[o("div",{staticClass:"photo-box-list"},[o("div",{class:{"house-photo-list":!0,"is-fixed":e.isFixed}},[o("div",{staticClass:"header-contnet"},[o("h3",[e._v("户型图集")]),o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 除以下7个元素外其他任意元素都要去掉（说明：户型图本身为必须有的部分，其余6个元素为可选项） "),o("br"),e._v(" 1、户型图本身+指南针+户型编号+户型厅室+户型的楼栋位置+户型描述+比例尺 "),o("br"),e._v(" · 户型图中绝对不能有的元素有：电话号码和二维码 "),o("br"),e._v(" · 户型图本身需在户型的中间或相对中间的位置 "),o("br"),e._v(" 2、前端显示的户型图绝对不可以有贝壳自己画的户型图，一旦发现算高错，除户型图以外其他的户型字段可以参考贝壳 ")]),o("i",{staticClass:"el-icon-warning",attrs:{"aria-hidden":"true"}})])],1),o("div",{staticClass:"content-photo-list"},[o("jl-file-upload",{ref:"uploadTest",staticClass:"photo-uploads",attrs:{isCompress:e.isCompress,fileMaxSize:"10mb",compressSize:e.compressSize,limit:10,upID:"photo-upload",ossData:e.ossData,isMulti:!0},on:{beforeUpdate:e.beforeUpdate,getFileURL:e.uploadSuccess}},[e._v(" 上传户型图 ")]),e._l(e.photoListArr,(function(t,n){return o("div",{key:n,staticClass:"photo-box"},[o("el-form",{attrs:{"label-width":"73px"}},[t.apart_img?o("el-form-item",[o("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.gethost+t.apart_img.field_value,fit:"scale-down",alt:t.name},on:{click:function(o){return e.openPhotoViewer(e.gethost+t.apart_img.field_value)}}})],1):e._e(),t.storey?o("el-form-item",{attrs:{label:"楼层:"}},[o("el-select",{attrs:{placeholder:"请选择楼层"},model:{value:t.storey.field_value,callback:function(o){e.$set(t.storey,"field_value",o)},expression:"item.storey.field_value"}},e._l(e.getConfigList.house_type_storey,(function(e){return o("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1):e._e(),t.show_index?o("el-form-item",{attrs:{label:"展示顺序:"}},[o("jl-number-input",{attrs:{minVal:"0",maxVal:"999",reg:"parseInt"},model:{value:t.show_index.field_value,callback:function(o){e.$set(t.show_index,"field_value",o)},expression:"item.show_index.field_value"}}),o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 1.楼层： "),o("br"),e._v(" · 默认无层数； "),o("br"),e._v(" · 当添加的户型有多张户型图的时候，需要对每张户型图填写楼层可选项 "),o("br"),e._v(" · 可选项：1层、2层、3层、4层、负1层、负2层、负3层 "),o("br"),e._v(" 2.展示顺序（前端户型图展示顺序）填写规则： "),o("br"),e._v(" （1）当添加的户型有多张户型图的时候，需要对每张户型图填写展示顺序，排列顺序为前端户型图展示顺序； "),o("br"),e._v(" （2）户型图楼层填写，先地下，后地上，倒序展示地下层数户型图，正序展示地上层数户型； "),o("br"),e._v(" · eg1：别墅是地上三层，有3张户型图，一层的户型顺序为1，二层的户型图顺序为2，三层的户型图顺序为3 "),o("br"),e._v(" · eg2：别墅是地上三层，地下二层，有5张户型图，地下二层的户型顺序为1，地下一层的户型图顺序为2，一层的户型图顺序为3，二层层的顺序为4，三层的顺序为5 "),o("br"),e._v(" 3.状态：默认显示 "),o("br"),e._v(" 备注：如果可以获得该户型的样板间图片，也可以放到该户型图集中展示，展示顺序：户型图>该户型样板间图片（样板间图片几张均可，最好每个屋子一张） ")]),o("i",{staticClass:"el-icon-warning",attrs:{"aria-hidden":"true"}})])],1):e._e(),t.status?o("el-form-item",{attrs:{label:"是否展示:"}},[o("el-select",{attrs:{placeholder:"请选择是否展示"},model:{value:t.status.field_value,callback:function(o){e.$set(t.status,"field_value",o)},expression:"item.status.field_value"}},e._l(e.getConfigList.img_is_show,(function(e){return o("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1):e._e(),t.apart_img&&"1"==t.apart_img.is_show_belong_role?o("el-form-item",{attrs:{label:"信息来源:"}},[o("info-origin",{attrs:{isBreak:!0,"other-val":t.apart_img.belong_other,"operate-msg":e.spliceInfoOrigin(t.apart_img),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(o){return e.$set(t.apart_img,"belong_other",o)},"update:other-val":function(o){return e.$set(t.apart_img,"belong_other",o)}},model:{value:t.apart_img.belong_role,callback:function(o){e.$set(t.apart_img,"belong_role",o)},expression:"item.apart_img.belong_role"}})],1):e._e(),t.apart_img?o("el-form-item",[o("el-button",{staticClass:"btn-del",attrs:{type:"danger"},on:{click:function(o){return e.delPhotoModule(t.id.field_value,n,t.apart_img.field_value)}}},[e._v(" 删除")])],1):e._e()],1)],1)}))],2)])]),o("div",{staticClass:"house-info-list"},[o("div",{staticClass:"header-contnet clear-float-box"},[o("h3",[e._v("户型基础信息")]),e.getConfigList.current_role_source&&7==e.getConfigList.current_role_source?o("p",[e._v("信息来源")]):e._e()]),o("div",{staticClass:"form-list-box"},[o("el-form",{ref:"initInfoForm",attrs:{model:e.houseInitInfo,"label-width":"90px"}},[e.houseInitInfo.house_type_num?o("el-form-item",{attrs:{label:"户型编号:",prop:"house_type_num.field_value",rules:[{required:!0,message:"请输入户型编号",trigger:"blur"}]}},[o("div",{staticClass:"form-input-box"},[o("el-input",{staticClass:"hosue-num",attrs:{maxlength:"20"},model:{value:e.houseInitInfo.house_type_num.field_value,callback:function(t){e.$set(e.houseInitInfo.house_type_num,"field_value","string"==typeof t?t.trim():t)},expression:"houseInitInfo.house_type_num.field_value"}}),o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 1、普适情况： "),o("br"),e._v(" · 户型有具体编号：填写户型编号（只要填写编号即可），可参考户型图上的编号或门户网站或开发商的户型编号 "),o("br"),e._v(" · 户型无具体编号：以户型建面命名即可，如108平 "),o("br"),e._v(" 2、特殊情况： "),o("br"),e._v(" ① 无具体编号&有多种户型类型：户型类型/建筑类型+户型建面，如：高层108平、洋房108平；上叠89平、下叠121平等 "),o("br"),e._v(" ② 无具体编号&同面积同建筑类型： "),o("br"),e._v(" · 对称户型：yy平对称，如：77平对称 "),o("br"),e._v(" · 非对称户型：yy平-N，如：77平-1、77平-2（N=非0的任意自然数） "),o("br"),e._v(" ③ 不同期数、同编号/面积的户型且需要展示期数： "),o("br"),e._v(" · 户型命名时可以加上期数，为期数+户型编号/面积，如：1期A "),o("br"),e._v(" ④ 不同建筑类型的户型价格不一样时，户型可以命名为：建筑类型+编号，如：高层A "),o("br"),e._v(" ⑤ 当户型为某个区间&确定是同一个户型时，户型编号为：户型区间+户型编号，如：88-90平A 或 88-90平 "),o("br"),e._v(" ⑥ 不同地块同编号/面积的户型且需要展示地块：户型命名时可以加上地块，具体为：地块+户型编号/面积，如：雅园地块A ")]),o("i",{staticClass:"el-icon-warning",attrs:{"aria-hidden":"true"}})])],1),"1"==e.houseInitInfo.house_type_num.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseInitInfo.house_type_num.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseInitInfo.house_type_num),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseInitInfo.house_type_num,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseInitInfo.house_type_num,"belong_other",t)}},model:{value:e.houseInitInfo.house_type_num.belong_role,callback:function(t){e.$set(e.houseInitInfo.house_type_num,"belong_role",t)},expression:"houseInitInfo.house_type_num.belong_role"}}):e._e()],1):e._e(),e.houseInitInfo.building_type&&this.isShowHouseType?o("el-form-item",{attrs:{label:"户型类型:"}},[o("div",{staticClass:"form-input-box"},[o("el-select",{attrs:{placeholder:"请选择户型类型",clearable:""},model:{value:e.houseInitInfo.building_type.field_value,callback:function(t){e.$set(e.houseInitInfo.building_type,"field_value",t)},expression:"houseInitInfo.building_type.field_value"}},e._l(e.getHosueTypeDataList,(function(e){return o("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),"1"==e.houseInitInfo.building_type.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseInitInfo.building_type.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseInitInfo.building_type),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseInitInfo.building_type,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseInitInfo.building_type,"belong_other",t)}},model:{value:e.houseInitInfo.building_type.belong_role,callback:function(t){e.$set(e.houseInitInfo.building_type,"belong_role",t)},expression:"houseInitInfo.building_type.belong_role"}}):e._e()],1):e._e(),e.houseInitInfo.room_type?o("el-form-item",{attrs:{label:"户型居室:",prop:"room_type.field_value",rules:[{required:!0,message:"请选择户型居室",trigger:"change"}]}},[o("div",{staticClass:"form-input-box"},[o("el-select",{attrs:{placeholder:"请选择户型居室"},model:{value:e.houseInitInfo.room_type.field_value,callback:function(t){e.$set(e.houseInitInfo.room_type,"field_value",t)},expression:"houseInitInfo.room_type.field_value"}},e._l(e.getConfigList.room_type,(function(e){return o("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1),"1"==e.houseInitInfo.room_type.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseInitInfo.room_type.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseInitInfo.room_type),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseInitInfo.room_type,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseInitInfo.room_type,"belong_other",t)}},model:{value:e.houseInitInfo.room_type.belong_role,callback:function(t){e.$set(e.houseInitInfo.room_type,"belong_role",t)},expression:"houseInitInfo.room_type.belong_role"}}):e._e()],1):e._e(),e.houseInitInfo.layout_shi&&e.houseInitInfo.layout_ting&&e.houseInitInfo.layout_chu&&e.houseInitInfo.layout_wei?o("el-form-item",{attrs:{label:"厅室描述:",required:""}},[o("div",{staticClass:"form-input-box"},[o("el-col",{attrs:{span:5}},[o("el-form-item",{attrs:{prop:"layout_shi.field_value",rules:[{required:!0,message:"请输入室",trigger:"blur"}]}},[o("jl-number-input",{staticClass:"shi-text",attrs:{minVal:"1",maxVal:"20",reg:"int"},on:{blur:function(t){return e.houseRoomLinkage(e.houseInitInfo.layout_shi.field_value,e.houseInitInfo.room_type)}},model:{value:e.houseInitInfo.layout_shi.field_value,callback:function(t){e.$set(e.houseInitInfo.layout_shi,"field_value",t)},expression:"houseInitInfo.layout_shi.field_value"}})],1)],1),o("el-col",{attrs:{span:1}},[e._v(" 室 ")]),o("el-col",{attrs:{span:3}},[o("el-form-item",[o("jl-number-input",{attrs:{reg:"parseInt",minVal:"0",maxVal:"20"},model:{value:e.houseInitInfo.layout_ting.field_value,callback:function(t){e.$set(e.houseInitInfo.layout_ting,"field_value",t)},expression:"houseInitInfo.layout_ting.field_value"}})],1)],1),o("el-col",{attrs:{span:1}},[e._v(" 厅 ")]),o("el-col",{attrs:{span:3}},[o("el-form-item",[o("jl-number-input",{attrs:{reg:"parseInt",minVal:"0",maxVal:"20"},model:{value:e.houseInitInfo.layout_chu.field_value,callback:function(t){e.$set(e.houseInitInfo.layout_chu,"field_value",t)},expression:"houseInitInfo.layout_chu.field_value"}})],1)],1),o("el-col",{attrs:{span:1}},[e._v(" 厨 ")]),o("el-col",{attrs:{span:3}},[o("el-form-item",[o("jl-number-input",{attrs:{reg:"parseInt",minVal:"0",maxVal:"20"},model:{value:e.houseInitInfo.layout_wei.field_value,callback:function(t){e.$set(e.houseInitInfo.layout_wei,"field_value",t)},expression:"houseInitInfo.layout_wei.field_value"}})],1)],1),o("el-col",{attrs:{span:1}},[e._v(" 卫 ")])],1),"1"==e.houseInitInfo.layout_shi.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseInitInfo.layout_shi.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseInitInfo.layout_shi),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseInitInfo.layout_shi,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseInitInfo.layout_shi,"belong_other",t)}},model:{value:e.houseInitInfo.layout_shi.belong_role,callback:function(t){e.$set(e.houseInitInfo.layout_shi,"belong_role",t)},expression:"houseInitInfo.layout_shi.belong_role"}}):e._e()],1):e._e(),e.houseInitInfo.floor_height?o("el-form-item",{attrs:{label:"层高:"}},[o("div",{staticClass:"form-input-box"},[o("jl-number-input",{attrs:{minVal:"0.01",maxVal:"99.99",reg:"twoNum"},model:{value:e.houseInitInfo.floor_height.field_value,callback:function(t){e.$set(e.houseInitInfo.floor_height,"field_value",t)},expression:"houseInitInfo.floor_height.field_value"}}),e._v(" m ")],1),"1"==e.houseInitInfo.floor_height.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseInitInfo.floor_height.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseInitInfo.floor_height),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseInitInfo.floor_height,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseInitInfo.floor_height,"belong_other",t)}},model:{value:e.houseInitInfo.floor_height.belong_role,callback:function(t){e.$set(e.houseInitInfo.floor_height,"belong_role",t)},expression:"houseInitInfo.floor_height.belong_role"}}):e._e()],1):e._e(),e.houseInitInfo.orientation?o("el-form-item",{attrs:{label:"房屋朝向:"}},[o("div",{staticClass:"form-input-box"},[o("el-select",{attrs:{placeholder:"请选择房屋朝向"},model:{value:e.houseInitInfo.orientation.field_value,callback:function(t){e.$set(e.houseInitInfo.orientation,"field_value",t)},expression:"houseInitInfo.orientation.field_value"}},e._l(e.getConfigList.new_room_orientation,(function(e){return o("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1),o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 1、朝向： "),o("br"),e._v(" · 以采光面积最大方向为朝向，有指北针的参考指北针的方向，没有指北针默认坐北朝向； "),o("br"),e._v(" · 如果多个方向均有采光面且面积大致相同： "),o("br"),e._v(" · 户型图上如果有比例尺，按照比例尺计算面积大小 "),o("br"),e._v(" · 如果没有比例尺，按朝向的优先级来选择朝向（朝向优先级：东南> 南 >西南>东 >西> 东北 >西北> 北） "),o("br"),e._v(" 2、多朝向： "),o("br"),e._v(" · 住宅和别墅–如果户型图上有楼栋，显示一个户型位于不同的楼栋，各楼栋/同楼栋该户型朝向不同，选多朝向，其他情况按朝向优先级走， "),o("br"),e._v(" 但须注意当多朝向中的某个朝向的状态发生变更时须及时更新，否算不自洽 "),o("br"),e._v(" · 商办则可以选择多朝向，但须注意当多朝向中的某个朝向的状态发生变更时须及时更新，否算不自洽。 "),o("br"),e._v(" 3、东南朝向：只有主采光面朝东南等才可以选，西南、东南、西北朝向同理。 ")]),o("i",{staticClass:"el-icon-warning",attrs:{"aria-hidden":"true"}})])],1),"1"==e.houseInitInfo.orientation.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseInitInfo.orientation.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseInitInfo.orientation),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseInitInfo.orientation,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseInitInfo.orientation,"belong_other",t)}},model:{value:e.houseInitInfo.orientation.belong_role,callback:function(t){e.$set(e.houseInitInfo.orientation,"belong_role",t)},expression:"houseInitInfo.orientation.belong_role"}}):e._e()],1):e._e(),e.houseInitInfo.total_count?o("el-form-item",{attrs:{label:"户型总量:"}},[o("div",{staticClass:"form-input-box"},[o("jl-number-input",{attrs:{minVal:"0",maxVal:"99999",reg:"parseInt"},model:{value:e.houseInitInfo.total_count.field_value,callback:function(t){e.$set(e.houseInitInfo.total_count,"field_value",t)},expression:"houseInitInfo.total_count.field_value"}}),e._v(" 户 ")],1),"1"==e.houseInitInfo.total_count.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseInitInfo.total_count.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseInitInfo.total_count),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseInitInfo.total_count,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseInitInfo.total_count,"belong_other",t)}},model:{value:e.houseInitInfo.total_count.belong_role,callback:function(t){e.$set(e.houseInitInfo.total_count,"belong_role",t)},expression:"houseInitInfo.total_count.belong_role"}}):e._e()],1):e._e(),e.houseInitInfo.show_index?o("el-form-item",{attrs:{label:"排序:"}},[o("div",{staticClass:"form-input-box"},[o("jl-number-input",{attrs:{minVal:"0",maxVal:"999",reg:"parseInt"},model:{value:e.houseInitInfo.show_index.field_value,callback:function(t){e.$set(e.houseInitInfo.show_index,"field_value",t)},expression:"houseInitInfo.show_index.field_value"}})],1)]):e._e(),e.houseInitInfo.is_show_room_type?o("el-form-item",{attrs:{label:"是否显示:"}},[o("div",{staticClass:"form-input-box"},[o("el-select",{attrs:{placeholder:"请选择是否显示"},model:{value:e.houseInitInfo.is_show_room_type.field_value,callback:function(t){e.$set(e.houseInitInfo.is_show_room_type,"field_value",t)},expression:"houseInitInfo.is_show_room_type.field_value"}},e._l(e.getConfigList.house_type_is_show,(function(e){return o("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1)]):e._e()],1)],1),o("div",{staticClass:"header-contnet clear-float-box"},[o("h3",[e._v("户型动销信息")]),e.getConfigList.current_role_source&&7==e.getConfigList.current_role_source?o("p",[e._v("信息来源")]):e._e()]),o("div",{staticClass:"form-list-box"},[o("el-form",{ref:"dynamicInfoForm",attrs:{model:e.houseDynameicInfo,"label-width":"120px"}},[e.houseDynameicInfo.status?o("el-form-item",{attrs:{label:"户型销售状态:",prop:"status.field_value",rules:[{validator:e.validateStatus,message:"请选择销售状态",trigger:"change"}]}},[o("div",{staticClass:"form-input-box"},[o("el-radio-group",{model:{value:e.houseDynameicInfo.status.field_value,callback:function(t){e.$set(e.houseDynameicInfo.status,"field_value",t)},expression:"houseDynameicInfo.status.field_value"}},e._l(e.getConfigList.sale_status,(function(t){return o("el-radio",{key:t.id,attrs:{label:t.id}},[e._v(" "+e._s(t.text)+" ")])})),1)],1),"1"==e.houseDynameicInfo.status.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseDynameicInfo.status.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseDynameicInfo.status),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseDynameicInfo.status,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseDynameicInfo.status,"belong_other",t)}},model:{value:e.houseDynameicInfo.status.belong_role,callback:function(t){e.$set(e.houseDynameicInfo.status,"belong_role",t)},expression:"houseDynameicInfo.status.belong_role"}}):e._e()],1):e._e(),e.houseDynameicInfo.acreage?o("el-form-item",{attrs:{label:"建筑面积:",prop:"acreage.field_value",rules:[{validator:e.validateAcreage,trigger:"blur"}]}},[o("div",{staticClass:"form-input-box"},[o("jl-number-input",{attrs:{minVal:"1",maxVal:"99999",reg:"int"},on:{input:function(t){return e.calculationAllPrice(e.houseDynameicInfo)},blur:function(t){return e.calculationAllPrice(e.houseDynameicInfo)}},model:{value:e.houseDynameicInfo.acreage.field_value,callback:function(t){e.$set(e.houseDynameicInfo.acreage,"field_value",t)},expression:"houseDynameicInfo.acreage.field_value"}}),e._v(" ㎡ ")],1),"1"==e.houseDynameicInfo.acreage.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseDynameicInfo.acreage.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseDynameicInfo.acreage),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseDynameicInfo.acreage,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseDynameicInfo.acreage,"belong_other",t)}},model:{value:e.houseDynameicInfo.acreage.belong_role,callback:function(t){e.$set(e.houseDynameicInfo.acreage,"belong_role",t)},expression:"houseDynameicInfo.acreage.belong_role"}}):e._e()],1):e._e(),e.houseDynameicInfo.ac_acreage?o("el-form-item",{attrs:{label:"套内面积:",prop:"ac_acreage.field_value",rules:[{validator:e.validateAcreage,trigger:"blur"}]}},[o("div",{staticClass:"form-input-box"},[o("jl-number-input",{attrs:{minVal:"1",maxVal:"99999.99",reg:"twoNum"},on:{input:function(t){return e.calculationAllPrice(e.houseDynameicInfo)},blur:function(t){return e.calculationAllPrice(e.houseDynameicInfo)}},model:{value:e.houseDynameicInfo.ac_acreage.field_value,callback:function(t){e.$set(e.houseDynameicInfo.ac_acreage,"field_value",t)},expression:"houseDynameicInfo.ac_acreage.field_value"}}),e._v(" ㎡ ")],1),"1"==e.houseDynameicInfo.ac_acreage.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseDynameicInfo.ac_acreage.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseDynameicInfo.ac_acreage),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseDynameicInfo.ac_acreage,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseDynameicInfo.ac_acreage,"belong_other",t)}},model:{value:e.houseDynameicInfo.ac_acreage.belong_role,callback:function(t){e.$set(e.houseDynameicInfo.ac_acreage,"belong_role",t)},expression:"houseDynameicInfo.ac_acreage.belong_role"}}):e._e()],1):e._e(),e.houseDynameicInfo.offer_price?o("el-form-item",{attrs:{label:"单价:"}},[o("div",{staticClass:"form-input-box"},[o("jl-number-input",{attrs:{minVal:"0.0001",maxVal:"99.9999",reg:"fourNum"},on:{input:function(t){return e.calculationAllPrice(e.houseDynameicInfo)},blur:function(t){return e.calculationAllPrice(e.houseDynameicInfo)}},model:{value:e.houseDynameicInfo.offer_price.field_value,callback:function(t){e.$set(e.houseDynameicInfo.offer_price,"field_value",t)},expression:"houseDynameicInfo.offer_price.field_value"}}),e._v(" 万元 ")],1),"1"==e.houseDynameicInfo.offer_price.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseDynameicInfo.offer_price.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseDynameicInfo.offer_price),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseDynameicInfo.offer_price,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseDynameicInfo.offer_price,"belong_other",t)}},model:{value:e.houseDynameicInfo.offer_price.belong_role,callback:function(t){e.$set(e.houseDynameicInfo.offer_price,"belong_role",t)},expression:"houseDynameicInfo.offer_price.belong_role"}}):e._e()],1):e._e(),e.houseDynameicInfo.price?o("el-form-item",{attrs:{label:"总价:"}},[o("div",{staticClass:"form-input-box"},[o("jl-number-input",{attrs:{minVal:"1",maxVal:"99999.9999",reg:"fourNum"},on:{input:function(t){return e.calculationAllPrice(e.houseDynameicInfo,"priceAll")},blur:function(t){return e.calculationAllPrice(e.houseDynameicInfo,"priceAll")}},model:{value:e.houseDynameicInfo.price.field_value,callback:function(t){e.$set(e.houseDynameicInfo.price,"field_value",t)},expression:"houseDynameicInfo.price.field_value"}}),e._v(" 万元 ")],1),"1"==e.houseDynameicInfo.price.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseDynameicInfo.price.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseDynameicInfo.price),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseDynameicInfo.price,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseDynameicInfo.price,"belong_other",t)}},model:{value:e.houseDynameicInfo.price.belong_role,callback:function(t){e.$set(e.houseDynameicInfo.price,"belong_role",t)},expression:"houseDynameicInfo.price.belong_role"}}):e._e()],1):e._e(),e.houseDynameicInfo.payment_ratio?o("el-form-item",{attrs:{label:"首付比例:"}},[o("div",{staticClass:"form-input-box"},[o("jl-number-input",{attrs:{minVal:"0",maxVal:"100",reg:"twoNum"},on:{input:function(t){return e.calculationAllPrice(e.houseDynameicInfo,"priceAll")}},model:{value:e.houseDynameicInfo.payment_ratio.field_value,callback:function(t){e.$set(e.houseDynameicInfo.payment_ratio,"field_value",t)},expression:"houseDynameicInfo.payment_ratio.field_value"}}),e._v(" % ")],1),"1"==e.houseDynameicInfo.payment_ratio.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseDynameicInfo.payment_ratio.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseDynameicInfo.payment_ratio),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseDynameicInfo.payment_ratio,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseDynameicInfo.payment_ratio,"belong_other",t)}},model:{value:e.houseDynameicInfo.payment_ratio.belong_role,callback:function(t){e.$set(e.houseDynameicInfo.payment_ratio,"belong_role",t)},expression:"houseDynameicInfo.payment_ratio.belong_role"}}):e._e()],1):e._e(),e.houseDynameicInfo.down_pay?o("el-form-item",{attrs:{label:"首付:"}},[o("div",{staticClass:"form-input-box"},[o("jl-number-input",{attrs:{disabled:"",minVal:"0"},model:{value:e.houseDynameicInfo.down_pay.field_value,callback:function(t){e.$set(e.houseDynameicInfo.down_pay,"field_value",t)},expression:"houseDynameicInfo.down_pay.field_value"}}),e._v(" 元 ")],1)]):e._e(),e.houseDynameicInfo.month_pay?o("el-form-item",{attrs:{label:"月供:"}},[o("div",{staticClass:"form-input-box"},[o("jl-number-input",{attrs:{disabled:"",minVal:"0"},model:{value:e.houseDynameicInfo.month_pay.field_value,callback:function(t){e.$set(e.houseDynameicInfo.month_pay,"field_value",t)},expression:"houseDynameicInfo.month_pay.field_value"}}),e._v(" 元 ")],1)]):e._e(),e.houseDynameicInfo.house_on_sale_num?o("el-form-item",{attrs:{label:"户型在售余量:"}},[o("div",{staticClass:"form-input-box"},[o("jl-number-input",{attrs:{minVal:"0",maxVal:"9999",reg:"parseInt"},model:{value:e.houseDynameicInfo.house_on_sale_num.field_value,callback:function(t){e.$set(e.houseDynameicInfo.house_on_sale_num,"field_value",t)},expression:"houseDynameicInfo.house_on_sale_num.field_value"}}),e._v(" 套 ")],1),"1"==e.houseDynameicInfo.house_on_sale_num.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseDynameicInfo.house_on_sale_num.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseDynameicInfo.house_on_sale_num),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseDynameicInfo.house_on_sale_num,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseDynameicInfo.house_on_sale_num,"belong_other",t)}},model:{value:e.houseDynameicInfo.house_on_sale_num.belong_role,callback:function(t){e.$set(e.houseDynameicInfo.house_on_sale_num,"belong_role",t)},expression:"houseDynameicInfo.house_on_sale_num.belong_role"}}):e._e()],1):e._e(),e.houseDynameicInfo.relation_buildings?o("el-form-item",{attrs:{label:"关联楼栋:"}},[o("div",{staticClass:"form-input-box"},[o("div",[o("el-select",{ref:"relationBuilds",staticClass:"no-shake-select relative-building",attrs:{placeholder:"请选择楼栋",multiple:"",clearable:""},on:{change:e.buildingChange,focus:e.getRelatedBuildingSel},model:{value:e.houseDynameicInfo.relation_buildings.field_value,callback:function(t){e.$set(e.houseDynameicInfo.relation_buildings,"field_value",t)},expression:"houseDynameicInfo.relation_buildings.field_value"}},[e.getRelatedBuildingOpiton&&e.getRelatedBuildingOpiton.length>0?o("el-option",{attrs:{label:"全部",value:"-1"}}):e._e(),e._l(e.getRelatedBuildingOpiton,(function(e){return o("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})}))],2)],1)]),"1"==e.houseDynameicInfo.relation_buildings.is_show_belong_role?o("info-origin",{attrs:{"other-val":e.houseDynameicInfo.relation_buildings.belong_other,"operate-msg":e.spliceInfoOrigin(e.houseDynameicInfo.relation_buildings),originArr:e.getConfigList.qd_source_list},on:{"update:otherVal":function(t){return e.$set(e.houseDynameicInfo.relation_buildings,"belong_other",t)},"update:other-val":function(t){return e.$set(e.houseDynameicInfo.relation_buildings,"belong_other",t)}},model:{value:e.houseDynameicInfo.relation_buildings.belong_role,callback:function(t){e.$set(e.houseDynameicInfo.relation_buildings,"belong_role",t)},expression:"houseDynameicInfo.relation_buildings.belong_role"}}):e._e()],1):e._e(),e.houseDynameicInfo.status?o("el-form-item",[o("div",{staticClass:"form-input-box"},[o("el-button",{attrs:{type:"text"},on:{click:e.addBuilding}},[e._v(" 找不到楼栋，需要去新增 ")])],1)]):e._e()],1)],1),e.getConfigList.current_role_source&&7==e.getConfigList.current_role_source?o("div",{staticClass:"header-contnet clear-float-box"},[o("h3",[e._v("户型解析")])]):e._e(),o("div",{staticClass:"form-list-box"},[o("el-form",{ref:"subForm",attrs:{model:e.houseParseInfo,"label-width":"80px"}},[e.houseParseInfo.house_tag?o("el-form-item",{attrs:{label:"户型标签:"}},[o("div",{staticClass:"form-input-box"},[o("el-checkbox-group",{model:{value:e.houseParseInfo.house_tag.field_value,callback:function(t){e.$set(e.houseParseInfo.house_tag,"field_value",t)},expression:"houseParseInfo.house_tag.field_value"}},e._l(e.getConfigList.house_tag,(function(t){return o("el-checkbox",{key:t.text,attrs:{label:t.text,disabled:e.isCheckDisabled}},[e._v(" "+e._s(t.text)+" ")])})),1),o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 户型方正：以整体户型为准，整体为长方形，有凹凸的部分，边角是直角即可算户型方正。 "),o("br"),e._v(" 面宽充足：面宽/进深>=1/2，且采光面窗户长度和/面宽>=2/3。 "),o("br"),e._v(" 复式空间： "),o("br"),e._v(" · 跃层：占据2层，高度完整，内部有楼梯连接：完整的2层高度； "),o("br"),e._v(" · 复式（住宅，产权70年）：占据2层，高度不完整，内部有楼梯连接：在一层里隔了2层，整个户型只有一层的高度； "),o("br"),e._v(" · loft（商办，产权40年）：占据2层，最直观的特点就是有5米左右甚至更高的挑高 "),o("br"),e._v(" 南北通透：南北两面可以直接采光和通风，中间没有任何建筑物阻挡（如客餐厅分南北，中间无隔挡；客厅正北连厨房，厨房窗对外面，客厅南接阳台/窗户） "),o("br"),e._v(" 动静分区： "),o("br"),e._v(" · 平层：建面在120平以上(含)，默认紧凑实用型户型售面积不存在或很难存在动静分区 "),o("br"),e._v(" · 商办：带装修loft或者复式（如果可以明确获知是半封闭的复式则不算是动静分区） "),o("br"),e._v(" · 别墅/住宅复式不做面积限制 ")]),o("i",{staticClass:"el-icon-warning",attrs:{"aria-hidden":"true"}})])],1)]):e._e(),e.houseParseInfo.good_desc?o("el-form-item",{attrs:{label:"优势描述:"}},[o("div",{staticClass:"form-input-box"},[o("el-input",{attrs:{type:"textarea",maxlength:"300"},model:{value:e.houseParseInfo.good_desc.field_value,callback:function(t){e.$set(e.houseParseInfo.good_desc,"field_value",t)},expression:"houseParseInfo.good_desc.field_value"}}),o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 基于整个户型整体的优劣势 "),o("br"),e._v(" · 优势：根据户型图整体格局书写 "),o("br"),e._v(" · 劣势：有具体劣势就写具体劣势，无具体劣势就写“无劣势”或“无明显劣势”都可 "),o("br"),e._v(" 注： "),o("br"),e._v(" · 户型优劣势描述字段在填写时，以“；”分行，优劣势末尾不要加任何标点。（“；”的前后两句系统会自动生成序号，序号无需手动添加） "),o("br"),e._v(" · 当详解和优劣势只有一句话时，句末不加任何标点 ")]),o("i",{staticClass:"el-icon-warning",attrs:{"aria-hidden":"true"}})])],1)]):e._e(),e.houseParseInfo.bad_desc?o("el-form-item",{attrs:{label:"劣势描述:"}},[o("div",{staticClass:"form-input-box"},[o("el-input",{attrs:{type:"textarea",maxlength:"300"},model:{value:e.houseParseInfo.bad_desc.field_value,callback:function(t){e.$set(e.houseParseInfo.bad_desc,"field_value",t)},expression:"houseParseInfo.bad_desc.field_value"}}),o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 基于整个户型整体的优劣势 "),o("br"),e._v(" · 优势：根据户型图整体格局书写 "),o("br"),e._v(" · 劣势：有具体劣势就写具体劣势，无具体劣势就写“无劣势”或“无明显劣势”都可 "),o("br"),e._v(" 注： "),o("br"),e._v(" · 户型优劣势描述字段在填写时，以“；”分行，优劣势末尾不要加任何标点。（“；”的前后两句系统会自动生成序号，序号无需手动添加） "),o("br"),e._v(" · 当详解和优劣势只有一句话时，句末不加任何标点 ")]),o("i",{staticClass:"el-icon-warning",attrs:{"aria-hidden":"true"}})])],1)]):e._e(),e.getConfigList.current_role_source&&7==e.getConfigList.current_role_source?o("el-form-item",{attrs:{label:"居室详解:"}},[o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(" · 优先级：卧室、客厅、阳台、卫生间>厨房、餐厅>衣帽间、储藏室、活动室等 "),o("br"),e._v(" · 注意事项： "),o("br"),e._v(" · 根据户型图准确填写各功能区的优势，不要随意使用不符合户型图的语句 "),o("br"),e._v(" · 卧室带卫、卧室带飘窗、干湿分离、动静分区、南北通透等常见的字段有严格的使用标准，需明确实际意义，再依据户型图确认是否使用 ")]),o("i",{staticClass:"el-icon-warning",attrs:{"aria-hidden":"true"}})])],1):e._e(),e.houseParseInfo.master_bed_room?o("el-form-item",{attrs:{label:"卧室:"}},[o("div",{staticClass:"form-input-box"},[o("el-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:e.houseParseInfo.master_bed_room.field_value,callback:function(t){e.$set(e.houseParseInfo.master_bed_room,"field_value",t)},expression:"houseParseInfo.master_bed_room.field_value"}})],1)]):e._e(),e.houseParseInfo.toilet?o("el-form-item",{attrs:{label:"卫生间:"}},[o("div",{staticClass:"form-input-box"},[o("el-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:e.houseParseInfo.toilet.field_value,callback:function(t){e.$set(e.houseParseInfo.toilet,"field_value",t)},expression:"houseParseInfo.toilet.field_value"}})],1)]):e._e(),e.houseParseInfo.living_room?o("el-form-item",{attrs:{label:"客厅:"}},[o("div",{staticClass:"form-input-box"},[o("el-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:e.houseParseInfo.living_room.field_value,callback:function(t){e.$set(e.houseParseInfo.living_room,"field_value",t)},expression:"houseParseInfo.living_room.field_value"}})],1)]):e._e(),e.houseParseInfo.kitchen?o("el-form-item",{attrs:{label:"厨房:"}},[o("div",{staticClass:"form-input-box"},[o("el-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:e.houseParseInfo.kitchen.field_value,callback:function(t){e.$set(e.houseParseInfo.kitchen,"field_value",t)},expression:"houseParseInfo.kitchen.field_value"}})],1)]):e._e(),e.houseParseInfo.restaurant?o("el-form-item",{attrs:{label:"餐厅:"}},[o("div",{staticClass:"form-input-box"},[o("el-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:e.houseParseInfo.restaurant.field_value,callback:function(t){e.$set(e.houseParseInfo.restaurant,"field_value",t)},expression:"houseParseInfo.restaurant.field_value"}})],1)]):e._e(),e.houseParseInfo.terrace?o("el-form-item",{attrs:{label:"阳台:"}},[o("div",{staticClass:"form-input-box"},[o("el-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:e.houseParseInfo.terrace.field_value,callback:function(t){e.$set(e.houseParseInfo.terrace,"field_value",t)},expression:"houseParseInfo.terrace.field_value"}})],1)]):e._e(),o("el-form-item",[o("el-button",{on:{click:e.cancelDeatil}},[e._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveData()}}},[e._v(" 提交 ")])],1)],1)],1)])]),o("el-dialog",{attrs:{visible:e.selfConsistentDialogvisible,title:"系统提醒",width:"30%",center:""},on:{"update:visible":function(t){e.selfConsistentDialogvisible=t}}},[o("span",[e._v(e._s(e.selfConsistentMessage))]),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:e.editHouseTypeStatus}},[e._v(" 修改户型销售状态 ")]),o("el-button",{attrs:{type:"primary"},on:{click:e.editHousePrejectStatus}},[e._v(" 修改楼盘销售状态 ")])],1)]),o("copy-house-type",{attrs:{"house-type-id":e.$route.query.houseTypeId,"city-id":e.cityId,"project-name":e.projectName,"project-id":e.$route.query.projectId,"label-data":e.getConfigList.house_type_copy_field,visible:e.houseDialogVisible},on:{"update:visible":function(t){e.houseDialogVisible=t},statusChange:e.reloadEditPage}}),e.PhotoIsShow?o("jl-image-preview",{attrs:{showViewer:e.PhotoIsShow,urlList:e.urlList},on:{closeViewer:e.closeViewer}}):e._e()],1)},i=[]},a5a1:function(e,t,o){"use strict";var n=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(o("c1df")),a={filterDate:function(e,t){if(e){var o=parseInt(e);return(0,i.default)(o).format(t)}}};t.default=a},a8b9:function(e,t,o){"use strict";var n=o("4ea4");o("cb29"),o("4160"),o("d81d"),o("a434"),o("a9e3"),o("b64b"),o("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(o("2909"));o("96cf");var a=n(o("1da1")),r=n(o("1e63")),s=n(o("51ce")),l={name:"CopyHouseTypeDialog",props:{labelData:{type:Object,default:function(){}},visible:{type:Boolean,default:!1},houseTypeId:{type:[String,Number],default:""},cityId:{type:[String,Number],default:""},projectName:{type:String,default:""},projectId:{type:String,default:""}},created:function(){this.labelInfo=this.labelData,this.projectId=this.$route.query.projectId,this.getCityList(),this.getHouseListById()},data:function(){return{loading:!1,dialogVisible:this.visible,checkAll:[!0,!0,!0,!0],checkedArr:[[],[],[],[]],cityList:[],projectList:[],houseTypeList:[],copyForm:{city:Number(this.cityId),project:this.projectName,houseType:this.houseTypeId,number:""}}},watch:{visible:function(e){this.dialogVisible=e},houseTypeId:function(e){this.copyForm.houseType=e},cityId:function(e){this.copyForm.city=Number(e)},projectName:function(e){this.copyForm.project=e}},methods:{getCityList:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.default.getCityListData();case 3:o=t.sent,n=o.data,i=n.code,a=n.data,0===i&&(e.cityList=a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},changeCity:function(e){this.copyForm.project="",this.copyForm.houseType=""},changeProject:function(e){this.copyForm.houseType="",this.getHouseListById()},getProjectList:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function o(){var n,i,a,s,l,u;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t.loading=!0,n={city_id:t.copyForm.city,q:e},o.next=5,r.default.getProjectListData(n);case 5:i=o.sent,a=i.data,s=a.code,l=a.data,u=a.msg,t.loading=!1,0===s?t.projectList=l:t.$message(u),o.next=18;break;case 14:o.prev=14,o.t0=o.catch(0),console.log(o.t0),t.loading=!1;case 18:case"end":return o.stop()}}),o,null,[[0,14]])})))()},getHouseListById:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,n,i,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={project_id:e.projectId,task_id:e.$route.query.taskId,select_false:"0"},t.next=4,s.default.getHouseTypeListData(o);case 4:n=t.sent,i=n.data,a=i.code,r=i.data,0===a&&(e.houseTypeList=r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},dialogOpen:function(){this.checkAll.fill(!0),this.checkedAllLabel()},handleCheckAllChange:function(e,t,o){var n=this.labelData[e].map((function(e){return e.key}));this.checkedArr[o]=t?n:[]},handleCheckedChange:function(e,t,o){var n=t.length;this.checkAll[o]=n===this.labelData[e].length,this.checkAll.splice(0,0)},checkedAllLabel:function(){var e=this,t=-1;Object.keys(this.labelData).forEach((function(o,n){var i=-1;e.checkedArr[n]=e.labelData[o].map((function(e,t){return"show_index"===e.key&&(i=t),e.key})),-1!==i&&(t=n,e.checkedArr[n].splice(i,1))})),this.checkedArr.splice(0,0),-1!==t&&(this.checkAll[t]=!1)},closeDialog:function(){this.dialogVisible=!1,this.$emit("update:visible",!1)},saveCopyInfo:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,n,a,r,l,u,c,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=function(){var t=[];return e.checkedArr.forEach((function(e){t.push.apply(t,(0,i.default)(e))})),t}(),console.log(o),n={},o.forEach((function(e){n[e]="1"})),0!==o.length){t.next=9;break}return e.$message.warning("至少选中一个复制的项"),t.abrupt("return");case 9:return a={project_id:e.projectId,source_house_type:n,house_type_num:e.copyForm.number,house_type_id:e.copyForm.houseType},t.next=12,s.default.saveCoyyHouseType(a);case 12:r=t.sent,l=r.data,u=l.code,c=l.data,f=l.msg,0===u?(e.$message("复制户型信息保存成功"),e.closeDialog(),e.$emit("statusChange",!0,c)):(e.$emit("statusChange",!1,f),e.$message(f)),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(0),e.$emit("statusChange",!1,t.t0),console.log(t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,20]])})))()},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message("请检查必填项是否填写完整"),!1;t.saveCopyInfo()}))}}};t.default=l},aa32:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"MsgDialog",data:function(){return{dialogVisble:this.dialogShow}},props:{width:{type:String,default:"30%"},dialogShow:{type:Boolean,default:!1},center:{type:Boolean,default:!0},title:{type:String,default:"提示"}},watch:{dialogShow:function(e){this.dialogVisble=e}},methods:{dialogConfirm:function(){this.$emit("confirm")},close:function(){this.$emit("closeDialog")}}};t.default=n},ab13:function(e,t,o){var n=o("b622")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},ae0e:function(e,t,o){"use strict";o("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"InfoOrigin",props:{otherVal:{type:String,default:""},value:{type:[String,Number],default:""},operateMsg:{type:String,default:""},isBreak:{type:Boolean,default:!1},originArr:{type:Array,default:function(){return[]}}},watch:{value:function(e){this.originValue=e},otherVal:function(e){this.otherValue=e}},data:function(){return{originValue:this.value,otherValue:this.otherVal}},methods:{otherValInput:function(e){this.$emit("update:otherVal",e),this.$emit("change",this.originValue,this.otherValue)},radioChange:function(e){this.otherValue="",this.$emit("input",e),this.$emit("change",e,this.otherValue),this.$emit("update:otherVal",this.otherValue)}}};t.default=n},b5c0:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"info-origin"},[o("div",{staticClass:"radio-box"},[o("el-radio-group",{class:{"radio-group":!e.isBreak,"radio-break":e.isBreak},on:{change:e.radioChange},model:{value:e.originValue,callback:function(t){e.originValue=t},expression:"originValue"}},[e._l(e.originArr,(function(t,n){return o("el-radio",{key:n,staticClass:"origin-radio",attrs:{label:t.id}},[e._v(" "+e._s(t.text)+" ")])})),o("el-input",{directives:[{name:"show",rawName:"v-show",value:10==e.originValue,expression:"originValue == 10"}],staticClass:"other-origin",attrs:{size:"small"},on:{input:e.otherValInput},model:{value:e.otherValue,callback:function(t){e.otherValue=t},expression:"otherValue"}})],2)],1),o("div",{staticClass:"time-info"},[e._v(" "+e._s(e.operateMsg)+" ")])])},i=[]},b96b:function(e,t,o){"use strict";o("2417")},b973:function(e,t,o){(t=o("24fb")(!1)).push([e.i,".radio-group[data-v-0d35b81b]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px}.radio-group .origin-radio.el-radio[data-v-0d35b81b]{margin-right:7px}.radio-group .origin-radio.el-radio[data-v-0d35b81b] .el-radio__label{padding-left:4px}.radio-group .other-origin[data-v-0d35b81b]{width:71px}.radio-break[data-v-0d35b81b]{width:322px;height:40px;line-height:26px;display:inline-block;margin-bottom:24px}.radio-break .origin-radio.el-radio[data-v-0d35b81b]{margin-right:10px}.radio-break .origin-radio.el-radio[data-v-0d35b81b] .el-radio__label{padding-left:4px}.radio-break .other-origin[data-v-0d35b81b]{width:100px}.time-info[data-v-0d35b81b]{line-height:1;color:#777}",""]),e.exports=t},bb2f:function(e,t,o){var n=o("d039");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},caad:function(e,t,o){"use strict";var n=o("23e7"),i=o("4d64").includes,a=o("44d2");n({target:"Array",proto:!0,forced:!o("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cb29:function(e,t,o){var n=o("23e7"),i=o("81d5"),a=o("44d2");n({target:"Array",proto:!0},{fill:i}),a("fill")},dc0d:function(e,t,o){"use strict";o.r(t);var n=o("b5c0"),i=o("88ff");for(var a in i)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(a);o("b96b");var r=o("2877"),s=Object(r.a)(i.default,n.a,n.b,!1,null,"0d35b81b",null);t.default=s.exports},defd:function(e,t,o){(t=o("24fb")(!1)).push([e.i,'.content-box[data-v-62c504a6]{padding:15px;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#fff;border-radius:7px}.content-box .header-title-box[data-v-62c504a6]{margin-top:20px}.content-box .header-title-box h2[data-v-62c504a6]{font-size:16px;margin-bottom:20px}.content-box .content-list-box[data-v-62c504a6]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-top:20px}.content-box .content-list-box .photo-box-list[data-v-62c504a6]{width:30%;margin-right:20px}.content-box .content-list-box .photo-box-list .house-photo-list[data-v-62c504a6]{height:400px;overflow-y:auto;overflow-x:hidden}.content-box .content-list-box .photo-box-list .house-photo-list .header-contnet[data-v-62c504a6]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:89%;border-bottom:1px solid #ccc;padding-bottom:10px}.content-box .content-list-box .photo-box-list .house-photo-list .header-contnet h3[data-v-62c504a6]{-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:5px}.content-box .content-list-box .photo-box-list .house-photo-list .content-photo-list[data-v-62c504a6]{width:100%}.content-box .content-list-box .photo-box-list .house-photo-list .content-photo-list .number-input-box[data-v-62c504a6]{width:86%;display:inline-block}.content-box .content-list-box .photo-box-list .house-photo-list .content-photo-list .photo-uploads[data-v-62c504a6]{width:80px;height:30px;background:#409eff;color:#fff;text-align:center;line-height:30px;margin:10px 0;cursor:pointer}.content-box .content-list-box .photo-box-list .house-photo-list[data-v-62c504a6] .btn-del{float:right;margin-right:20px}.content-box .content-list-box .photo-box-list .house-photo-list[data-v-62c504a6] .el-input__inner{padding-left:15px}.content-box .content-list-box .is-fixed[data-v-62c504a6]{position:fixed;top:120px;width:26%}.content-box .content-list-box .house-info-list[data-v-62c504a6]{-webkit-box-flex:1;-ms-flex:1;flex:1}.content-box .content-list-box .house-info-list .header-contnet h3[data-v-62c504a6]{float:left;width:40%;border-bottom:1px solid #ccc;padding-bottom:10px;-webkit-box-sizing:border-box;box-sizing:border-box;margin-right:20px}.content-box .content-list-box .house-info-list .header-contnet p[data-v-62c504a6]{width:50%;float:left;font-size:14px}.content-box .content-list-box .house-info-list .form-list-box[data-v-62c504a6]{margin-top:15px}.content-box .content-list-box .house-info-list .form-list-box .form-input-box[data-v-62c504a6],.content-box .content-list-box .house-info-list .form-list-box[data-v-62c504a6] .el-form-item__content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.content-box .content-list-box .house-info-list .form-list-box .form-input-box[data-v-62c504a6]{width:37%}.content-box .content-list-box .house-info-list .form-list-box .form-input-box[data-v-62c504a6] .el-checkbox-group{width:90%}.content-box .content-list-box .house-info-list .form-list-box .form-input-box[data-v-62c504a6] .el-checkbox{margin-right:15px}.content-box .content-list-box .house-info-list .form-list-box .form-input-box[data-v-62c504a6] .el-radio-group{line-height:51px}.content-box .content-list-box .house-info-list .form-list-box .form-input-box[data-v-62c504a6] .el-col-1{margin-right:5px}.content-box .content-list-box .house-info-list .form-list-box .form-input-box .number-input-box[data-v-62c504a6]{width:85%;margin-right:4px}.content-box .content-list-box .house-info-list .form-list-box .form-input-box .number-input-box[data-v-62c504a6] .el-input__inner{padding:0 0 0 10px}.content-box .content-list-box .house-info-list .form-list-box .form-input-box[data-v-62c504a6] .el-textarea,.content-box .content-list-box .house-info-list .form-list-box .form-input-box[data-v-62c504a6] .hosue-num{width:80%}.content-box .content-list-box .house-info-list .form-list-box .form-input-box[data-v-62c504a6] .el-textarea__inner{min-height:100px!important}.content-box .content-list-box .el-icon-warning[data-v-62c504a6]{color:#ff6e0e;font-size:20px;margin-top:10px;margin-left:6px}.content-box[data-v-62c504a6] ::-webkit-scrollbar{width:10px;height:10px;background-color:#f5f5f5}.content-box[data-v-62c504a6] ::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px;background-color:#f5f5f5}.content-box[data-v-62c504a6] ::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);background:rgba(196,195,195,.7)}.content-box .clear-float-box[data-v-62c504a6]:after{display:block;clear:both;content:"";visibility:hidden;height:0}.content-box .relative-building[data-v-62c504a6]{width:250px}',""]),e.exports=t},e686:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:e.title,visible:e.dialogVisble,width:e.width,center:e.center},on:{"update:visible":function(t){e.dialogVisble=t},close:e.close}},[e._t("default"),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.$scopedSlots.footer?e._e():o("el-button",{attrs:{type:"primary"},on:{click:e.dialogConfirm}},[e._v("确认")]),e._t("footer")],2)],2)},i=[]},ee6f:function(e,t,o){var n=o("defd");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,o("499e").default)("7ea99f0d",n,!0,{sourceMap:!1,shadowMode:!1})},f149:function(e,t,o){"use strict";o.r(t);var n=o("e686"),i=o("8f99");for(var a in i)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(a);var r=o("2877"),s=Object(r.a)(i.default,n.a,n.b,!1,null,"1153158b",null);t.default=s.exports},f183:function(e,t,o){var n=o("d012"),i=o("861d"),a=o("5135"),r=o("9bf2").f,s=o("90e3"),l=o("bb2f"),u=s("meta"),c=0,f=Object.isExtensible||function(){return!0},d=function(e){r(e,u,{value:{objectID:"O"+ ++c,weakData:{}}})},h=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,u)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[u].objectID},getWeakData:function(e,t){if(!a(e,u)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[u].weakData},onFreeze:function(e){return l&&h.REQUIRED&&f(e)&&!a(e,u)&&d(e),e}};n[u]=!0},f884:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o("23f7"),i={initHouseDetailData:function(e){return n.axios.get("/backend-api/project/cj-house-type/get-house-type-page-info",{params:e})},getHouseTypeData:function(e){return n.axios.get("/backend-api/project/get-house-building-type-list",{params:e})},saveInfoData:function(e){return n.axios.post("/backend-api/project/cj-house-type/save",e)},delHousePhotoData:function(e){return n.axios.get("/backend-api/project/cj-house-type/del-house-type-img",{params:e})},checkSensitiveWordsData:function(e){return n.axios.get("/backend-api/common/check-keywords",{params:e})}};t.default=i}}]);