(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-909caf04"],{"0cfa":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.saveData=e.importSubwayData=e.getBrandEditData=e.getBrandData=e.addCopyData=void 0;var i=a("23f7");e.addCopyData=function(t,e){return i.axios.get("/backend-api/project/bd-spider-config/copy-field-constant",{params:{from_city_id:t,target_city_id:e}})};e.getBrandData=function(){return i.axios.get("/backend-api/common/brand-developer")};e.getBrandEditData=function(){return i.axios.get("/backend-api/project/bd-spider-config/brand-developer-map")};e.importSubwayData=function(t){return i.instance.post("/backend-api/subway/modify",t)};e.saveData=function(t){return i.axios.post("/backend-api/project/bd-spider-config/save-brand-developer-map",t)}},"0d16":function(t,e,a){"use strict";a("29f7")},"0f83":function(t,e,a){"use strict";a.r(e);var i=a("c173"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e.default=o.a},"1edb":function(t,e,a){"use strict";a.r(e);var i=a("24ff"),o=a("c763");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("6799");var r=a("2877"),l=Object(r.a)(o.default,i.a,i.b,!1,null,"52b2311b",null);e.default=l.exports},"24ff":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"collocationWrap",attrs:{"element-loading-text":t.loadingText,"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",{staticClass:"citySettingBox"},[a("div",{staticClass:"shortCurtEditor"},[a("h2",[t._v("复制一个老城的字段常量配置到新城")]),a("div",{staticClass:"selectCityBox"},[a("span",[t._v("新城市：")]),a("el-select",{class:{error:t.isNewCityEmpty},attrs:{filterable:"",placeholder:"请选择新城市"},on:{change:function(e){return t.filterItem("new")}},model:{value:t.newCityId,callback:function(e){t.newCityId=e},expression:"newCityId"}},t._l(t.newCityOption,(function(t){return a("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1),a("span",[t._v("老城市：")]),a("el-select",{class:{error:t.isOldCityEmpty},attrs:{filterable:"",placeholder:"请选择老城市"},on:{change:function(e){return t.filterItem("old")}},model:{value:t.oldCityId,callback:function(e){t.oldCityId=e},expression:"oldCityId"}},t._l(t.oldCityOption,(function(t){return a("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1),a("el-button",{attrs:{type:"primary"},on:{click:t.addCopy}},[t._v("添加复制")]),a("span",{staticClass:"confimText oldHint"},[t._v(t._s(t.oldEmptyHint))]),a("span",{staticClass:"confimText newHint"},[t._v(t._s(t.newEmptyHint))])],1)]),a("div",{staticClass:"staionTableBox"},[a("h2",[t._v("地铁信息导入")]),a("div",{staticClass:"staionTable"},[t._m(0),a("p",{staticClass:"confimText"},[t._v("请下载表头信息后，将对应需灌入地铁信息填写完毕后，最后将点击“导入地铁信息”选中文件灌入到居理的数据库中，新增的地铁站点没有ID给空，需要更新数据的站点信息ID写对应的地铁站点ID")]),a("div",{staticClass:"downBtn clearfix"},[a("el-button",{staticClass:"fl",attrs:{type:"primary"},on:{click:t.downloadThead}},[t._v("下载表头")]),a("el-upload",{ref:"upload",staticClass:"fl",attrs:{action:"",accept:".csv","show-file-list":!1,"http-request":t.httpRequest}},[a("el-button",{attrs:{type:"primary"}},[t._v("导入地铁信息")])],1)],1),a("el-upload",{ref:"delUpload",attrs:{action:"/backend-api/subway/delete",accept:".csv","show-file-list":!1,"on-success":t.onSuccess,"on-error":t.onError}},[a("el-button",{attrs:{type:"primary"}},[t._v("导入需要删除的地铁站点ID")])],1)],1)]),a("div",{staticClass:"staionTableBox"},[a("h2",[t._v("品牌开发商映射关系")]),a("div",{staticClass:"brandMapBox"},[a("p",{staticClass:"confimText"},[t._v("操作提示：输入框中输入搜狐焦点的品牌开发商信息，对应选中与之对应居理的开发商信息，如果需要添加更多对应关系，请在下方点击添加更多对应关系即可")]),a("p",{staticClass:"confimText marb20"},[t._v("【注意开发商信息为全国通用信息，更改前需要和各城市运营做好同步】")]),a("div",{staticClass:"mapingForm"},[t._l(t.brandMap.brand_developer_map,(function(e,i){return a("div",{key:i,staticClass:"inputBox"},[a("el-select",{attrs:{filterable:"",placeholder:"选择居理品牌开发商"},model:{value:e.julive_brand_developer,callback:function(a){t.$set(e,"julive_brand_developer",a)},expression:"item.julive_brand_developer"}},t._l(t.brandOption,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})})),1),a("span",[t._v("<--\x3e")]),a("el-input",{class:{error:e.hasError},attrs:{type:"text",placeholder:"请输入竞对开发商信息"},on:{focus:function(e){return t.recoverNormal(i)}},model:{value:e.source_brand_developer,callback:function(a){t.$set(e,"source_brand_developer",a)},expression:"item.source_brand_developer"}}),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.delMap(i)}}},[t._v("-")])],1)})),a("div",{staticClass:"addBtnbox"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addMap}},[t._v("添加更多对应关系")])],1)],2)])]),a("div",{staticClass:"staionTableBox searchSpellWrap"},[a("h2",[t._v("搜房城市拼音对应关系")]),a("ul",{staticClass:"searchSpellBox clearfix"},t._l(t.brandMap.city_py_map,(function(e,i){return a("li",{key:i,staticClass:"fl"},[a("span",[t._v(t._s(e.julive_city_name)+"：")]),a("el-input",{attrs:{type:"text",placeholder:"请输入"},on:{input:function(a){return t.verifyLowerCase(e.source_city_py,i)}},model:{value:e.source_city_py,callback:function(a){t.$set(e,"source_city_py",a)},expression:"item.source_city_py"}})],1)})),0),a("p",{class:{errorText:!0,showOrHide:t.showOrHide}},[t._v("竞对品牌开发商信息不能为空，且不能存在一个对应居理多个品牌开发商信息的情况，请检查！")])]),a("div",{staticClass:"footer"},[a("el-button",{on:{click:t.showDialog}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveMap}},[t._v("保存")])],1)]),a("el-dialog",{attrs:{visible:t.dialogVisibleCancleWarn,title:"取消编辑提醒",width:"30%",center:!0},on:{"update:visible":function(e){t.dialogVisibleCancleWarn=e}}},[a("div",{staticClass:"dialog-content"},[a("p",{staticClass:"content-tex cancle-warn-tex"},[t._v("是否放弃编辑？")])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.closeDialog}},[t._v("我再想想")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleCancle}},[t._v("是的")])],1)])],1)},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("table",{staticClass:"subwayTable"},[e("tr",[e("th",[this._v("ID")]),e("th",[this._v("城市ID")]),e("th",[this._v("地铁线路")]),e("th",[this._v("地铁站点")]),e("th",[this._v("站点经度")]),e("th",[this._v("站点纬度")]),e("th",[this._v("建成状态")])])])}]},"268e":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("23f7"),o={getMultiCityData:function(t){return i.axios.get("/backend-api/project/multi-city-manage/get-geo-city",{params:{city_name:t}})},getOperaCityData:function(t){return i.axios.get("/backend-api/common/all-city-list",{params:{q:t}})},getCityTableData:function(t,e,a,o){return i.axios.get("/backend-api/project/multi-city-manage/get-city-map",{params:{cj_district_sub_id:t,cj_district_id:e,page_num:a,page_size:o}})},deleteSelIptData:function(t){return i.axios.get("/backend-api/project/multi-city-manage/del-city-map",{params:{relation_id:t}})},saveTableInfoData:function(t){return i.axios.post("/backend-api/project/multi-city-manage/save",t)}};e.default=o},"29f7":function(t,e,a){var i=a("953e");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("499e").default)("2ffee7e4",i,!0,{sourceMap:!1,shadowMode:!1})},"2b37":function(t,e,a){var i=a("7313");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("499e").default)("479d7ef3",i,!0,{sourceMap:!1,shadowMode:!1})},"2cfa":function(t,e,a){"use strict";var i=a("4ea4");a("4de4"),a("4160"),a("c975"),a("baa5"),a("a434"),a("ac1f"),a("5319"),a("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var o=i(a("1da1")),n=a("0cfa"),r=a("bc0f"),l={name:"CityResidueSetting",components:{},data:function(){return{fullscreenLoading:!1,loadingText:"",newCityId:"",oldCityId:"",selectCityOption:[],oldCityOption:[],newCityOption:[],isNewCityEmpty:!1,isOldCityEmpty:!1,newEmptyHint:"",oldEmptyHint:"",brandOption:[],brandMap:{},dialogVisibleCancleWarn:!1,showOrHide:!0,spellHintHide:!0}},created:function(){this.getCityList(),this.getBrandList(),this.getBrandEditList()},methods:{verifyLowerCase:function(t,e){this.brandMap.city_py_map[e].source_city_py=t.replace(/[^\a-\z]/g,"")},recoverNormal:function(t){this.brandMap.brand_developer_map[t].hasError=!1},saveMap:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i,o,r,l,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!0,t.brandMap.brand_developer_map.forEach((function(t,e){t.source_brand_developer?t.hasError=!1:t.hasError=!0})),i=[],t.brandMap.brand_developer_map.forEach((function(t,e){i.push(t.source_brand_developer.replace(/(^\s*)|(\s*$)/g,""))})),i.forEach((function(e,a){i.indexOf(e)!==i.lastIndexOf(e)&&(t.brandMap.brand_developer_map[a].hasError=!0)})),t.brandMap.brand_developer_map.forEach((function(e,i){e.hasError&&(t.showOrHide=!1,a=!1)})),!a){e.next=26;break}for(t.fullscreenLoading=!0,t.loadingText="保存中...",t.showOrHide=!0,o=0,r=t.brandMap.brand_developer_map.length;o<r;o++)delete t.brandMap.brand_developer_map[o].hasError;return e.prev=11,e.next=14,(0,n.saveData)(t.brandMap);case 14:l=e.sent,0===(s=l.data).code?(t.getBrandEditList(),t.$message({message:"保存成功",type:"success"}),t.$emit("skipFirst",{activeName:"first",tabName:"城市开站配置"})):t.$message.error(s.msg),t.fullscreenLoading=!1,t.loadingText="",e.next=26;break;case 21:e.prev=21,e.t0=e.catch(11),console.log(e.t0),t.fullscreenLoading=!1,t.loadingText="";case 26:case"end":return e.stop()}}),e,null,[[11,21]])})))()},handleCancle:function(){this.getBrandEditList(),this.dialogVisibleCancleWarn=!1},showDialog:function(){this.dialogVisibleCancleWarn=!0},closeDialog:function(){this.dialogVisibleCancleWarn=!1},delMap:function(t){this.brandMap.brand_developer_map.splice(t,1)},addMap:function(){this.brandMap.brand_developer_map.push({julive_brand_developer:"",source_brand_developer:"",hasError:!1})},onSuccess:function(t,e,a){0===t.code?this.$message.success(t.msg):this.$message.error(t.msg)},onError:function(){this.$message.error(response.msg)},httpRequest:function(t){var e=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var i,o,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.file.size/1024/1024<=100){a.next=4;break}return e.$message.error("文件大小最多100M！"),a.abrupt("return",!1);case 4:return(i=new FormData).append("file",t.file),e.fullscreenLoading=!0,e.loadingText="导入中...",a.prev=8,a.next=11,(0,n.importSubwayData)(i);case 11:o=a.sent,0===(r=o.data).code?e.$message({message:"导入成功",type:"success"}):e.$message.error(r.msg),e.fullscreenLoading=!1,e.loadingText="",a.next=23;break;case 18:a.prev=18,a.t0=a.catch(8),e.fullscreenLoading=!1,e.loadingText="",console.log(a.t0);case 23:case"end":return a.stop()}}),a,null,[[8,18]])})))()},downloadThead:function(){window.location.href="https://comjia-img.oss-cn-beijing.aliyuncs.com/Upload/subway/%E5%9C%B0%E9%93%81%E4%BF%A1%E6%81%AF%E6%A8%A1%E6%9D%BF.csv"},getBrandEditList:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i,o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.getBrandEditData)();case 3:if(a=e.sent,0===(i=a.data).code){for(o=0,r=i.data.brand_developer.length;o<r;o++)i.data.brand_developer[o].hasError=!1;t.$set(t.brandMap,"brand_developer_map",i.data.brand_developer),t.$set(t.brandMap,"city_py_map",i.data.city_py)}else console.log(i.msg);e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getBrandList:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.getBrandData)();case 3:a=e.sent,0===(i=a.data).code?t.brandOption=i.data:console.log(i.msg),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getCityList:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.getCity)();case 3:a=e.sent,0===(i=a.data).code?(t.selectCityOption=i.data,t.oldCityOption=JSON.parse(JSON.stringify(i.data)),t.newCityOption=JSON.parse(JSON.stringify(i.data))):console.log(i.msg),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},filterItem:function(t){var e=this;"new"===t?(this.isNewCityEmpty=!1,this.newEmptyHint="",this.oldCityOption=this.selectCityOption.filter((function(t){return t.id!==e.newCityId}))):"old"===t&&(this.isOldCityEmpty=!1,this.oldEmptyHint="",this.newCityOption=this.selectCityOption.filter((function(t){return t.id!==e.oldCityId})))},addCopy:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.oldCityId||!t.newCityId){e.next=7;break}return e.next=3,(0,n.addCopyData)(t.oldCityId+"",t.newCityId+"");case 3:a=e.sent;try{0===(i=a.data).code?t.$message.success(i.msg):t.$message.error(i.msg)}catch(e){t.$message.error(e)}e.next=8;break;case 7:!t.oldCityId&&t.newCityId?(t.oldEmptyHint="请选择老城市",t.isOldCityEmpty=!0,setTimeout((function(){t.oldEmptyHint="",t.isOldCityEmpty=!1}),2e3)):t.oldCityId&&!t.newCityId?(t.isNewCityEmpty=!0,t.newEmptyHint="请选择新城市",setTimeout((function(){t.newEmptyHint="",t.isNewCityEmpty=!1}),2e3)):(t.isNewCityEmpty=!0,t.isOldCityEmpty=!0,t.newEmptyHint="请选择新城市",t.oldEmptyHint="请选择老城市",setTimeout((function(){t.newEmptyHint="",t.isNewCityEmpty=!1,t.oldEmptyHint="",t.isOldCityEmpty=!1}),2e3));case 8:case"end":return e.stop()}}),e)})))()}}};e.default=l},"38fe":function(t,e,a){(e=a("24fb")(!1)).push([t.i,".subwayTable[data-v-52b2311b]{width:100%;margin-bottom:20px;table-layout:fixed;border-collapse:collapse}.subwayTable th[data-v-52b2311b]{border:1px solid #ebeef5;height:48px;word-wrap:normal;text-overflow:ellipsis;vertical-align:middle;color:#909399;font-size:14px}.searchSpellWrap[data-v-52b2311b]{position:relative}.spellHintHide[data-v-52b2311b]{display:none}.searchSpellBox[data-v-52b2311b]{margin-bottom:20px}.searchSpellBox li[data-v-52b2311b]{width:40%;margin:0 20px 15px 0}.searchSpellBox li span[data-v-52b2311b]{float:left;height:40px;line-height:40px;color:#606266;font-size:16px}.searchSpellBox li .el-input[data-v-52b2311b]{overflow:hidden;display:block;width:auto}.footer[data-v-52b2311b]{text-align:center}.footer[data-v-52b2311b] .el-button{width:120px}.showOrHide[data-v-52b2311b]{display:none}.errorText[data-v-52b2311b]{color:#f1403c;clear:both;position:absolute;bottom:-20px;left:0;font-size:14px}[data-v-52b2311b] .el-dialog__header{border-bottom:1px solid #eaeaea;padding:20px}[data-v-52b2311b] .el-dialog--center .el-dialog__body{text-align:center}.el-dialog .content-tex[data-v-52b2311b]{font-size:18px;color:#666}.el-dialog .single[data-v-52b2311b]{width:100%}[data-v-52b2311b] .dialog-footer .el-button{padding:10px 30px;height:38px;width:auto}[data-v-52b2311b] .dialog-footer .el-button--default{background-color:#fff}[data-v-52b2311b] .dialog-footer .el-button--default:link,[data-v-52b2311b] .dialog-footer .el-button--default:visited{background-color:#fff;color:#77808a;border:1px solid #e6e6e6}[data-v-52b2311b] .dialog-footer .el-button--default:active,[data-v-52b2311b] .dialog-footer .el-button--default:hover{background-color:#ecf5ff;color:#409eff;border:1px solid #c6e2ff}.error[data-v-52b2311b] .el-input__inner{border:1px solid #f1403c;border-radius:4px;color:#f1403c}.marb20[data-v-52b2311b]{margin-bottom:20px}.selectCityBox[data-v-52b2311b]{position:relative}.selectCityBox span[data-v-52b2311b]{font-size:14px}.selectCityBox .el-select[data-v-52b2311b]{margin-right:15px}.selectCityBox .newHint[data-v-52b2311b],.selectCityBox .oldHint[data-v-52b2311b]{padding-top:7px;position:absolute;bottom:-20px;left:335px;display:inline-block}.selectCityBox .newHint[data-v-52b2311b]{left:60px}.collocationWrap[data-v-52b2311b]{padding:20px 30px 0;margin:0 auto}.collocationWrap[data-v-52b2311b],.collocationWrap .citySettingBox[data-v-52b2311b]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.collocationWrap .citySettingBox[data-v-52b2311b]{background:#fff;padding:0 0 20px 30px}.collocationWrap .citySettingBox .confimText[data-v-52b2311b]{color:red;font-size:14px}.collocationWrap .citySettingBox .shortCurtEditor[data-v-52b2311b],.collocationWrap .citySettingBox .staionTableBox[data-v-52b2311b]{margin-bottom:42px}.collocationWrap .citySettingBox .shortCurtEditor>h2[data-v-52b2311b],.collocationWrap .citySettingBox .staionTableBox>h2[data-v-52b2311b]{width:296px;height:40px;line-height:40px;border-bottom:1px solid #ccc;margin-bottom:30px}.collocationWrap .citySettingBox .shortCurtEditor[data-v-52b2311b] .el-button--primary,.collocationWrap .citySettingBox .staionTableBox[data-v-52b2311b] .el-button--primary{margin:0 10px 0 20px}.collocationWrap .citySettingBox .staionTableBox .staionTable[data-v-52b2311b] .el-button--primary{margin-left:0}.collocationWrap .citySettingBox .staionTableBox .staionTable .downBtn[data-v-52b2311b]{margin:20px 0}.collocationWrap .citySettingBox .staionTableBox .staionTable[data-v-52b2311b] .cell{text-align:center}.collocationWrap .citySettingBox .staionTableBox .mapingForm[data-v-52b2311b]{width:1000px}.collocationWrap .citySettingBox .staionTableBox .mapingForm .inputBox[data-v-52b2311b]{float:left;margin:0 25px 30px 0}.collocationWrap .citySettingBox .staionTableBox .mapingForm[data-v-52b2311b] .el-input{width:200px}.collocationWrap .citySettingBox .staionTableBox .addBtnbox[data-v-52b2311b]{clear:both}.collocationWrap .citySettingBox .staionTableBox .addBtnbox[data-v-52b2311b] .el-button{margin-left:0}",""]),t.exports=e},"4df1":function(t,e,a){"use strict";a("2b37")},5113:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collocation-wrap"},[a("el-breadcrumb",{staticClass:"bread-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[t._v("首页")])]),a("el-breadcrumb-item",[t._v(t._s(t.tabName))])],1),a("div",{staticClass:"tabBox"},[a("el-tabs",{attrs:{"before-leave":t.beforeLeave},on:{"tab-click":t.handleTabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"城市开站抓取配置",name:"first"}},[a("city-cofig-list")],1),a("el-tab-pane",{attrs:{label:"其余信息抓取配置",name:"second"}},[a("city-residue-setting",{on:{skipFirst:t.skipFirst}})],1),a("el-tab-pane",{attrs:{label:"经营城市管理",name:"third"}},[a("opera-city-manage",{attrs:{isClearData:t.isClearData,isProps:t.isProp},on:{needSave:t.saveDialog}})],1)],1)],1),a("el-dialog",{attrs:{title:"提示",visible:t.saveInFoDiaLog,width:"30%"},on:{"update:visible":function(e){t.saveInFoDiaLog=e}}},[a("span",[t._v("当前内容没有保存，请确定是否保存！")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.notSave}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.isProp=!t.isProp}}},[t._v("保 存")])],1)])],1)},o=[]},5118:function(t,e,a){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function n(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new n(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new n(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},a("6017"),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,a("c8ba"))},6017:function(t,e,a){(function(t,e){!function(t,a){"use strict";if(!t.setImmediate){var i,o,n,r,l,s=1,c={},d=!1,u=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){b(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,a=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=a,e}}()?t.MessageChannel?((n=new MessageChannel).port1.onmessage=function(t){b(t.data)},i=function(t){n.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(o=u.documentElement,i=function(t){var e=u.createElement("script");e.onreadystatechange=function(){b(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):i=function(t){setTimeout(b,0,t)}:(r="setImmediate$"+Math.random()+"$",l=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(r)&&b(+e.data.slice(r.length))},t.addEventListener?t.addEventListener("message",l,!1):t.attachEvent("onmessage",l),i=function(e){t.postMessage(r+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),a=0;a<e.length;a++)e[a]=arguments[a+1];var o={callback:t,args:e};return c[s]=o,i(s),s++},p.clearImmediate=f}function f(t){delete c[t]}function b(t){if(d)setTimeout(b,0,t);else{var e=c[t];if(e){d=!0;try{!function(t){var e=t.callback,a=t.args;switch(a.length){case 0:e();break;case 1:e(a[0]);break;case 2:e(a[0],a[1]);break;case 3:e(a[0],a[1],a[2]);break;default:e.apply(void 0,a)}}(e)}finally{f(t),d=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,a("c8ba"),a("4362"))},6062:function(t,e,a){"use strict";var i=a("6d61"),o=a("6566");t.exports=i("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},6252:function(t,e,a){(e=a("24fb")(!1)).push([t.i,".error[data-v-3150ad8a] .el-input__inner{border:1px solid #f1403c;border-radius:4px}.collocationwrap .bread-nav[data-v-3150ad8a]{padding:20px 0}.collocationwrap .el-dialog__wrapper[data-v-3150ad8a]{background-color:inherit}.collocationwrap .collocation-form-wrap[data-v-3150ad8a]{background-color:#fff;padding:30px 0 0 0}.collocationwrap .collocation-form-wrap .divider[data-v-3150ad8a]{width:98%;height:0;margin:24px auto;border-bottom:1px solid #dcdfe6}.collocationwrap .collocation-form-wrap[data-v-3150ad8a] .el-form-item{margin-right:28px}.collocationwrap .collocation-form-wrap[data-v-3150ad8a] .el-form-item.form-item-center{text-align:center;width:100%;margin-bottom:0}.collocationwrap .collocation-form-wrap[data-v-3150ad8a] .el-form-item .el-form-item__label{color:#333;padding:0 8px 0 0}.collocationwrap .collocation-form-wrap[data-v-3150ad8a] .el-form-item .el-input,.collocationwrap .collocation-form-wrap[data-v-3150ad8a] .el-form-item .el-range-editor{width:320px;height:40px}.collocationwrap .collocation-form-wrap[data-v-3150ad8a] .el-form-item .el-range-input{background-color:#fff}.collocationwrap .collocation-form-wrap[data-v-3150ad8a] .el-form-item .el-button{width:96px;height:40px}.collocationwrap .collocation-list[data-v-3150ad8a]{margin-bottom:20px}.collocationwrap .collocation-list .collocation-list-topbar[data-v-3150ad8a]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:0 20px;margin-top:20px;margin-bottom:19px}.collocationwrap .collocation-list .collocation-list-topbar .flex-start[data-v-3150ad8a]{margin-top:20px;font-size:14px}.collocationwrap .collocation-list .collocation-list-topbar .table-describe[data-v-3150ad8a]{color:#666}.collocationwrap .collocation-list .collocation-list-topbar .table-describe .btn-add[data-v-3150ad8a]{margin-left:19px}.collocationwrap .collocation-list .collocation-list-topbar .el-button.btn-right[data-v-3150ad8a]{width:128px;height:36px;padding:8px 15px;font-size:14px}.collocationwrap .collocation-list .collocation-list-table[data-v-3150ad8a]{background-color:#fff;padding:21px}.collocationwrap .collocation-list .collocation-list-table .split-ico[data-v-3150ad8a]{color:#ddd}.collocationwrap .collocation-list .collocation-list-table .pages[data-v-3150ad8a]{margin:20px auto 0;text-align:center}.collocationwrap .collocation-list .collocation-list-table[data-v-3150ad8a] .el-table th.gutter{display:table-cell!important}.collocationwrap .injectDialog .choose-source-tit[data-v-3150ad8a]{line-height:24px;font-size:16px;padding-bottom:16px}.collocationwrap .injectDialog[data-v-3150ad8a] .el-dialog__body{padding:20px 20px 10px 20px}.collocationwrap .injectDialog[data-v-3150ad8a] .el-dialog__body .el-select{display:block;margin:0 auto;width:90%}.collocationwrap .injectDialog[data-v-3150ad8a] .el-dialog__header{text-align:center;border-bottom:1px solid #eee}.collocationwrap .injectDialog[data-v-3150ad8a] .el-dialog__footer{text-align:center}.collocationwrap .injectDialog[data-v-3150ad8a] .dialog-footer .el-button{width:100px}",""]),t.exports=e},6566:function(t,e,a){"use strict";var i=a("9bf2").f,o=a("7c73"),n=a("e2cc"),r=a("0366"),l=a("19aa"),s=a("2266"),c=a("7dd0"),d=a("2626"),u=a("83ab"),p=a("f183").fastKey,f=a("69f3"),b=f.set,g=f.getterFor;t.exports={getConstructor:function(t,e,a,c){var d=t((function(t,i){l(t,d,e),b(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),u||(t.size=0),null!=i&&s(i,t[c],{that:t,AS_ENTRIES:a})})),f=g(e),v=function(t,e,a){var i,o,n=f(t),r=m(t,e);return r?r.value=a:(n.last=r={index:o=p(e,!0),key:e,value:a,previous:i=n.last,next:void 0,removed:!1},n.first||(n.first=r),i&&(i.next=r),u?n.size++:t.size++,"F"!==o&&(n.index[o]=r)),t},m=function(t,e){var a,i=f(t),o=p(e);if("F"!==o)return i.index[o];for(a=i.first;a;a=a.next)if(a.key==e)return a};return n(d.prototype,{clear:function(){for(var t=f(this),e=t.index,a=t.first;a;)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete e[a.index],a=a.next;t.first=t.last=void 0,u?t.size=0:this.size=0},delete:function(t){var e=f(this),a=m(this,t);if(a){var i=a.next,o=a.previous;delete e.index[a.index],a.removed=!0,o&&(o.next=i),i&&(i.previous=o),e.first==a&&(e.first=i),e.last==a&&(e.last=o),u?e.size--:this.size--}return!!a},forEach:function(t){for(var e,a=f(this),i=r(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:a.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!m(this,t)}}),n(d.prototype,a?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),u&&i(d.prototype,"size",{get:function(){return f(this).size}}),d},setStrong:function(t,e,a){var i=e+" Iterator",o=g(e),n=g(i);c(t,e,(function(t,e){b(this,{type:i,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=n(this),e=t.kind,a=t.last;a&&a.removed;)a=a.previous;return t.target&&(t.last=a=a?a.next:t.state.first)?"keys"==e?{value:a.key,done:!1}:"values"==e?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),d(e)}}},6799:function(t,e,a){"use strict";a("747a")},"6d61":function(t,e,a){"use strict";var i=a("23e7"),o=a("da84"),n=a("94ca"),r=a("6eeb"),l=a("f183"),s=a("2266"),c=a("19aa"),d=a("861d"),u=a("d039"),p=a("1c7e"),f=a("d44e"),b=a("7156");t.exports=function(t,e,a){var g=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),m=g?"set":"add",h=o[t],y=h&&h.prototype,x=h,_={},w=function(t){var e=y[t];r(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!d(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!d(t))&&e.call(this,0===t?0:t)}:function(t,a){return e.call(this,0===t?0:t,a),this})};if(n(t,"function"!=typeof h||!(v||y.forEach&&!u((function(){(new h).entries().next()})))))x=a.getConstructor(e,t,g,m),l.REQUIRED=!0;else if(n(t,!0)){var C=new x,k=C[m](v?{}:-0,1)!=C,D=u((function(){C.has(1)})),T=p((function(t){new h(t)})),I=!v&&u((function(){for(var t=new h,e=5;e--;)t[m](e,e);return!t.has(-0)}));T||((x=e((function(e,a){c(e,x,t);var i=b(new h,e,x);return null!=a&&s(a,i[m],{that:i,AS_ENTRIES:g}),i}))).prototype=y,y.constructor=x),(D||I)&&(w("delete"),w("has"),g&&w("get")),(I||k)&&w(m),v&&y.clear&&delete y.clear}return _[t]=x,i({global:!0,forced:x!=h},_),f(x,t),v||a.setStrong(x,t,g),x}},7313:function(t,e,a){(e=a("24fb")(!1)).push([t.i,".collocation-wrap[data-v-0fc99c9b]{width:100%;padding:0 30px;margin:0 auto;-webkit-box-sizing:border-box;box-sizing:border-box}.collocation-wrap .bread-nav[data-v-0fc99c9b]{padding:20px 0}.collocation-wrap .tabBox[data-v-0fc99c9b]{background:#fff}.collocation-wrap .tabBox[data-v-0fc99c9b] .el-tabs__nav{left:45px;bottom:0}.collocation-wrap .tabBox[data-v-0fc99c9b] .el-tabs__item{font-size:16px}.collocation-wrap .tabBox[data-v-0fc99c9b] .el-tabs__header{margin:0;padding-top:15px}.collocation-wrap .tabBox[data-v-0fc99c9b] .el-tabs__nav-wrap:after{background:#fff}",""]),t.exports=e},"747a":function(t,e,a){var i=a("38fe");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("499e").default)("6626acb6",i,!0,{sourceMap:!1,shadowMode:!1})},"74c4":function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var o=i(a("1da1")),n=a("bc0f"),r={name:"cityConfigList",data:function(){return{labelPosition:"right",collocationForm:{city_id:""},startInjectDialog:!1,DataOptions:[],dialogSelectValue:"",popCityId:"",confimText:"确认",cityData:[],collocationTableData:[],pages:{currentPage:1,pageSize:10,pageCount:1,pageTotalNum:""},popEmpty:!1,addCityUrl:""}},created:function(){this.getCityList(),this.getConfigList(),this.getSoureList()},methods:{getSoureList:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.getSoureListData)();case 3:a=e.sent,0===(i=a.data).code?t.DataOptions=i.data:console.log(i.msg),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},addCity:function(){window.location.href=this.addCityUrl},searchCityList:function(){this.pages.currentPage=1,this.getConfigList()},getConfigList:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.getConfigListData)(t.pages.currentPage,t.collocationForm.city_id);case 3:a=e.sent,0===(i=a.data).code?(t.addCityUrl=i.data.add_city_url,t.collocationTableData=i.data.info,t.pages.pageCount=i.data.total_page,t.pages.pageTotalNum=i.data.total_count):console.log(i.msg),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},curPageclick:function(t){this.pages.currentPage=t,this.getConfigList()},curPageChange:function(t){0===t?this.pages.currentPage>1?this.pages.currentPage-=1:this.pages.currentPage=1:1===t&&(this.pages.currentPage<this.pages.pageCount?this.pages.currentPage+=1:this.pages.currentPage=this.pages.pageCount),this.getConfigList()},getCityList:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.getCity)();case 3:0===(a=e.sent).data.code?t.cityData=a.data.data:console.log(a.data.msg),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},resetForm:function(t){this.$refs[t].resetFields(),this.pages.currentPage=1,this.collocationForm.city_id="",this.getConfigList()},editCollocation:function(t){this.popCityId=t,this.confimText="确认",this.startInjectDialog=!0},tapConfimBtn:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.dialogSelectValue){e.next=26;break}if("确认"!==t.confimText){e.next=5;break}t.confimText="二次确认",e.next=24;break;case 5:if("二次确认"!==t.confimText){e.next=9;break}t.confimText="最终确认",e.next=24;break;case 9:if("最终确认"!==t.confimText){e.next=24;break}return e.prev=10,e.next=13,(0,n.tapConfimBtnData)(t.popCityId,t.dialogSelectValue);case 13:a=e.sent,0===(i=a.data).code?(t.$message.success("操作成功"),t.pages.currentPage=1,t.collocationForm.city_id="",t.getConfigList()):t.$message.error(i.msg),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),t.$message.error(result.msg);case 21:t.startInjectDialog=!1,t.dialogSelectValue="",t.popCityId="";case 24:e.next=27;break;case 26:t.popEmpty=!0;case 27:case"end":return e.stop()}}),e,null,[[10,18]])})))()},cancleConfirm:function(){this.startInjectDialog=!1,this.popEmpty=!1,this.dialogSelectValue="",this.popCityId=""},editorCity:function(t,e){this.$router.push({path:"editorCitySetting",query:{id:t,cityName:e}})},changeOption:function(){this.popEmpty=!1}}};e.default=r},"7b6e":function(t,e,a){"use strict";a.r(e);var i=a("5113"),o=a("0f83");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("4df1");var r=a("2877"),l=Object(r.a)(o.default,i.a,i.b,!1,null,"0fc99c9b",null);e.default=l.exports},"953e":function(t,e,a){(e=a("24fb")(!1)).push([t.i,".opear-city-box[data-v-7b23a4a0]{padding:20px 30px 0;margin:0 auto}.opear-city-box[data-v-7b23a4a0],.opear-city-box .opear-city-setting[data-v-7b23a4a0]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.opear-city-box .opear-city-setting[data-v-7b23a4a0]{background:#fff;margin-top:20px;padding:20px 20px 20px 30px}.opear-city-box .opear-city-setting .search-title[data-v-7b23a4a0]{width:200px;height:40px;border-bottom:1px solid #ccc}.opear-city-box .opear-city-setting .search-box[data-v-7b23a4a0]{margin-top:30px}.opear-city-box .opear-city-setting .search-box .divider[data-v-7b23a4a0]{width:98%;height:0;margin:24px 0;border-bottom:1px solid #dcdfe6}.opear-city-box .opear-city-setting .search-box .form-item-center[data-v-7b23a4a0]{width:100%;text-align:center}.opear-city-box .opear-city-setting .search-box .form-item-center[data-v-7b23a4a0] .el-button{width:150px;margin-right:30px}.opear-city-box .opear-city-setting .table-box .add-btn[data-v-7b23a4a0]{width:200px;display:none}.opear-city-box .opear-city-setting .table-box[data-v-7b23a4a0] .el-select{width:400px;margin:0 15px 20px 0}.opear-city-box .opear-city-setting .table-box[data-v-7b23a4a0] .el-pagination{text-align:center;margin:30px auto}.opear-city-box .opear-city-setting .table-box[data-v-7b23a4a0] .el-table--enable-row-hover .el-table__body tr.hover-row>td,.opear-city-box .opear-city-setting .table-box[data-v-7b23a4a0] .el-table--enable-row-hover .el-table__body tr:hover>td{background:transparent}.opear-city-box .opear-city-setting .table-box .submit-btn[data-v-7b23a4a0]{text-align:center}.opear-city-box .opear-city-setting .table-box .submit-btn[data-v-7b23a4a0] .el-button{width:150px}",""]),t.exports=e},"9bbe":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"opear-city-box"},[a("div",{staticClass:"opear-city-setting"},[t._m(0),a("div",{staticClass:"search-box"},[a("el-form",{attrs:{inline:"","label-width":"96px"}},[a("el-form-item",{attrs:{label:"地理城市:"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入地理城市"},model:{value:t.geoCityVal,callback:function(e){t.geoCityVal=e},expression:"geoCityVal"}},t._l(t.geoCityOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name_cn,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"经营城市:"}},[a("el-select",{attrs:{filterable:"",placeholder:"请输入经营城市"},model:{value:t.operaCityVal,callback:function(e){t.operaCityVal=e},expression:"operaCityVal"}},t._l(t.operaCityOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),a("div",{staticClass:"divider"}),a("el-form-item",{staticClass:"form-item-center"},[a("el-button",{on:{click:t.resetSearchData}},[t._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:t.serachTableInfo}},[t._v(" 搜索 ")])],1)],1)],1),a("div",{staticClass:"table-box"},[a("p",[t._v("共"+t._s(t.totalSize)+"条，第"+t._s(t.startNum)+"-"+t._s(t.endNum)+"条数据")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.opearCityData,border:"","highlight-current-row":""},on:{"cell-click":t.columoClick}},[a("el-table-column",{attrs:{prop:"city_name",resizable:!1,align:"center",label:"地理城市",width:"400"}}),a("el-table-column",{ref:"elTd",attrs:{resizable:!1,align:"left",label:"经营城市"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._l(e.row.master,(function(i,o){return a("div",{key:o},[a("el-select",{attrs:{"value-key":"id",filterable:"",placeholder:"请输入经营城市"},on:{change:function(a){return t.selectChange(a,o,e.row.master)},focus:function(e){return t.selFocus(i,o,e)}},model:{value:i.city_name,callback:function(e){t.$set(i,"city_name",e)},expression:"item.city_name"}},t._l(t.operaCityOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.text,value:t}})})),1),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.deleteInput(e.row.master,o)}}},[t._v(" 删除 ")])],1)})),a("div",{staticClass:"add-btn"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.addInput(e.row.master)}}},[t._v(" + ")])],1)]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.currentPage,total:t.totalSize},on:{"current-change":t.currentPageChange}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.saveBtnIsShow,expression:"saveBtnIsShow"}],staticClass:"submit-btn"},[a("el-button",{on:{click:t.cance}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveInfoRules}},[t._v(" 保存 ")])],1)],1),a("el-dialog",{attrs:{title:"提示",visible:t.delDialog,width:"30%"},on:{"update:visible":function(e){t.delDialog=e}}},[a("span",[t._v("是否确认删除，一旦删除数据将无法恢复")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.delEdit}},[t._v(" 确 定 ")])],1)]),a("el-dialog",{attrs:{title:"提示",visible:t.errDialog,"close-on-click-modal":!1,"show-close":!1,width:"30%"},on:{"update:visible":function(e){t.errDialog=e}}},[a("span",[t._v("地理城市："+t._s(t.notOperaRelationText)+"等城市的对应关系中不存在本城市，请确认是否继续保存！")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.canc}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confimSave}},[t._v(" 确 定 ")])],1)])],1)])},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"search-title"},[e("h2",[this._v("经营城市配置")])])}]},a1bc:function(t,e,a){"use strict";a.r(e);var i=a("f48d"),o=a("ddb5");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("d8e6");var r=a("2877"),l=Object(r.a)(o.default,i.a,i.b,!1,null,"3150ad8a",null);e.default=l.exports},a565:function(t,e,a){"use strict";a.r(e);var i=a("9bbe"),o=a("c489");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("0d16");var r=a("2877"),l=Object(r.a)(o.default,i.a,i.b,!1,null,"7b23a4a0",null);e.default=l.exports},b3ba:function(t,e,a){"use strict";var i=a("4ea4");a("4de4"),a("a630"),a("d81d"),a("a434"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var o=i(a("1da1")),n=i(a("268e")),r=a("5118"),l={props:{isProps:{type:Boolean,default:!1},isClearData:{type:Boolean,default:!1}},data:function(){return{isDeepWatch:!1,geoCityVal:"",geoCityOptions:[],operaCityVal:"",operaCityOptions:[],opearCityData:[],pageSize:10,totalSize:0,currentPage:1,delDialog:!1,errDialog:!1,notOperaRelationText:"",repeatDialog:!1,saveBtnIsShow:!1,startNum:1,endNum:10,parentProps:!1,relationId:"",oldCurrentPage:1,isJumpPage:!1}},watch:{opearCityData:{handler:function(t,e){this.isDeepWatch?(this.saveBtnIsShow=!0,this.$emit("needSave","true")):this.saveBtnIsShow=!1},deep:!0},isProps:function(t,e){!t&&t||(this.saveInfoRules(),this.parentProps=!0)},isClearData:function(t){!t&&t||(this.isDeepWatch=!1,this.resetSearchData())},currentPage:function(t,e){this.isJumpPage?this.oldCurrentPage=t:this.oldCurrentPage=e}},mounted:function(){this.getGeoCityData(),this.getOperCityDatas(),this.getTableCityDatas()},methods:{canc:function(){this.errDialog=!1,this.currentPage=this.oldCurrentPage},getGeoCityData:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.default.getMultiCityData(t.geoCityVal);case 2:a=e.sent,0===(i=a.data).code&&(t.geoCityOptions=i.data);case 5:case"end":return e.stop()}}),e)})))()},getOperCityDatas:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.default.getOperaCityData(t.operaCityVal);case 2:a=e.sent,0===(i=a.data).code&&(t.operaCityOptions=i.data);case 5:case"end":return e.stop()}}),e)})))()},getTableCityDatas:function(t,e){var a=this;return(0,o.default)(regeneratorRuntime.mark((function i(){var o,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.default.getCityTableData(t,e,a.currentPage,a.pageSize);case 2:o=i.sent,0===(l=o.data).code&&(a.opearCityData=l.data.maps,a.totalSize=l.data.total,(0,r.setTimeout)((function(){a.isDeepWatch=!0}),2e3));case 5:case"end":return i.stop()}}),i)})))()},serachTableInfo:function(){this.currentPage=1,this.getTableCityDatas(this.geoCityVal,this.operaCityVal),this.isDeepWatch=!1},cance:function(){this.currentPage=1,this.isDeepWatch=!1,this.getTableCityDatas()},resetSearchData:function(){this.geoCityVal="",this.operaCityVal="",this.currentPage=1,this.getTableCityDatas(),this.isDeepWatch=!1},deleteInput:function(t,e){this.rowArr=t,this.rowIndex=e,this.delDialog=!0},delEdit:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1===t.rowIndex){e.next=11;break}if(!t.rowArr[t.rowIndex].relation_id){e.next=9;break}return e.next=4,n.default.deleteSelIptData(t.rowArr[t.rowIndex].relation_id);case 4:a=e.sent,0===a.data.code?(t.rowArr.splice(t.rowIndex,1),t.delDialog=!1):t.$message.error("删除失败"),e.next=11;break;case 9:t.rowArr.splice(t.rowIndex,1),t.delDialog=!1;case 11:case"end":return e.stop()}}),e)})))()},addInput:function(t){t.push({city_name:"",city_id:"",relation_id:""})},selectChange:function(t,e,a){var i;i=""===this.relationId?{city_name:t.text,city_id:t.id,relation_id:""}:{city_name:t.text,city_id:t.id,relation_id:this.relationId},this.$set(a,e,i)},currentPageChange:function(t){this.saveInfoRules(),this.currentPage=t,this.startNum=10*(t-1)+1,this.endNum=10*t},saveInfoRules:function(){var t=[];if(this.opearCityData.map((function(e,a){var i=!1;e.master.filter((function(t){(""!==t.city_name&&t.city_name===e.city_name||t.city_name===e.city_name)&&(i=!0)})),i||t.push(e)})),t.length>0){for(var e=new Set(t),a=Array.from(e),i="",o=0;o<a.length;o++)i+=a[o].city_name+"、";this.notOperaRelationText=i.substr(0,i.length-1),this.errDialog=!0,this.$emit("needSave","false"),this.isJumpPage=!1}else this.confimSave()},confimSave:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={maps:t.opearCityData},e.next=3,n.default.saveTableInfoData(a);case 3:i=e.sent,0===(o=i.data).code?(t.errDialog=!1,t.geoCityVal||t.operaCityVal?t.getTableCityDatas(t.geoCityVal,t.operaCityVal):t.getTableCityDatas(),t.isJumpPage=!0,t.$message({showClose:!0,message:"保存成功!",type:"success"}),t.isDeepWatch=!1,t.parentProps&&(0,r.setTimeout)((function(){t.$emit("needSave","undefined")}),300)):1===o.code&&(t.errDialog=!1,t.$message({showClose:!0,message:o.msg,type:"error"}),t.$emit("needSave","false"));case 6:case"end":return e.stop()}}),e)})))()},siblingElems:function(t){for(var e=[],a=t;t=t.previousSibling;)1==t.nodeType&&e.push(t);for(var i=a;i=i.nextSibling;)1==i.nodeType&&e.push(i);return e},columoClick:function(t,e,a,i){var o=a.childNodes[0].querySelector(".add-btn");o&&(o.style.display="block"),this.siblingElems(a).map((function(t){t.childNodes[0].querySelector(".add-btn")&&(t.childNodes[0].querySelector(".add-btn").style.display="none")})),a.style.background="rgb(190,210,253)",this.siblingElems(a).map((function(t){t.style.background="rgb(245,249,253)"}));for(var n=this.siblingElems(a.parentNode),r=0;r<n.length;r++)for(var l=0;l<n[r].children.length;l++)n[r].children[l].style.background="#fff",n[r].children[l].querySelector(".add-btn")&&(n[r].children[l].querySelector(".add-btn").style.display="none")},selFocus:function(t,e,a){this.relationId=t.relation_id;var i=a.target.parentNode.parentNode.parentNode.parentNode.parentNode;this.columoClick(0,0,i)}}};e.default=l},bb2f:function(t,e,a){var i=a("d039");t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bc0f:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCity=e.tapConfimBtnData=e.getSoureListData=e.getConfigListData=void 0;var i=a("23f7");e.getConfigListData=function(t,e){return i.axios.get("/backend-api/project/bd-spider-config/city-config",{params:{page:t,city_id:e}})};e.getSoureListData=function(){return i.axios.get("/backend-api/common/source-list")};e.tapConfimBtnData=function(t,e){return i.axios.get("/backend-api/project/bd-spider-config/batch-inject",{params:{city_id:t,source:e}})};e.getCity=function(t){return i.axios.get("/backend-api/common/get-all-city-list",{params:{city_type:t}})}},c173:function(t,e,a){"use strict";var i=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(a("a1bc")),n=i(a("1edb")),r=i(a("a565")),l=a("5118"),s={data:function(){return{activeName:"first",tabName:"城市开站配置",saveInFoDiaLog:!1,isTab:"",isProp:!1,newActiveName:"",isClearData:!1}},components:{CityCofigList:o.default,CityResidueSetting:n.default,OperaCityManage:r.default},methods:{beforeLeave:function(t){if(this.newActiveName=t,"true"===this.isTab)return this.saveInFoDiaLog=!0,!1;"undefined"===this.isTab&&(this.saveInFoDiaLog=!1,this.activeName=t)},handleTabClick:function(t,e){this.tabName=t.label},skipFirst:function(t){this.activeName=t.activeName,this.tabName=t.tabName},saveDialog:function(t){this.isTab=t,"false"===t?this.saveInFoDiaLog=!1:"undefined"===t&&this.beforeLeave(this.newActiveName)},notSave:function(){var t=this;this.saveInFoDiaLog=!1,this.isTab="undefined",this.isClearData=!this.isClearData,(0,l.setTimeout)((function(){t.beforeLeave(t.newActiveName)}),200)}}};e.default=s},c489:function(t,e,a){"use strict";a.r(e);var i=a("b3ba"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e.default=o.a},c763:function(t,e,a){"use strict";a.r(e);var i=a("2cfa"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e.default=o.a},d8e6:function(t,e,a){"use strict";a("eca2")},ddb5:function(t,e,a){"use strict";a.r(e);var i=a("74c4"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e.default=o.a},eca2:function(t,e,a){var i=a("6252");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a("499e").default)("49549efb",i,!0,{sourceMap:!1,shadowMode:!1})},f183:function(t,e,a){var i=a("d012"),o=a("861d"),n=a("5135"),r=a("9bf2").f,l=a("90e3"),s=a("bb2f"),c=l("meta"),d=0,u=Object.isExtensible||function(){return!0},p=function(t){r(t,c,{value:{objectID:"O"+ ++d,weakData:{}}})},f=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!n(t,c)){if(!u(t))return"F";if(!e)return"E";p(t)}return t[c].objectID},getWeakData:function(t,e){if(!n(t,c)){if(!u(t))return!0;if(!e)return!1;p(t)}return t[c].weakData},onFreeze:function(t){return s&&f.REQUIRED&&u(t)&&!n(t,c)&&p(t),t}};i[c]=!0},f48d:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return o}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collocationwrap"},[a("div",{staticClass:"collocation-form-wrap"},[a("el-form",{ref:"collocationForm",staticClass:"collocation-form",attrs:{inline:!0,model:t.collocationForm,"label-position":t.labelPosition,"label-width":"96px"}},[a("el-form-item",{attrs:{prop:"city_id",label:"城市："}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:t.collocationForm.city_id,callback:function(e){t.$set(t.collocationForm,"city_id",e)},expression:"collocationForm.city_id"}},t._l(t.cityData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),a("div",{staticClass:"divider"}),a("el-form-item",{staticClass:"form-item-center"},[a("el-button",{on:{click:function(e){return t.resetForm("collocationForm")}}},[t._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:t.searchCityList}},[t._v("搜索")])],1)],1)],1),a("div",{staticClass:"collocation-list"},[a("div",{staticClass:"collocation-list-topbar"},[a("p",{staticClass:"flex-start"},[t._v("共"+t._s(t.pages.pageTotalNum)+"条数据")]),a("el-button",{staticClass:"btn-right",attrs:{type:"success"},on:{click:t.addCity}},[t._v("新增城市")])],1),a("div",{staticClass:"collocation-list-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.collocationTableData,border:""}},[a("el-table-column",{attrs:{prop:"text",label:"城市",align:"center","min-width":"50"}}),a("el-table-column",{attrs:{prop:"city_collaction",label:"城市级配置-运营",align:"center","min-width":"140"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.finish_status?a("div",[t._v(t._s(e.row.finish_status_text)+" "+t._s(e.row.finish_employee_text)+" "+t._s(e.row.update_datetime))]):a("div",[t._v(t._s(e.row.finish_status_text))])]}}])}),a("el-table-column",{attrs:{prop:"isInTo",label:"批量灌入",align:"center","min-width":"140"},scopedSlots:t._u([{key:"default",fn:function(e){return["1"==e.row.poured_status?a("div",[t._v(t._s(e.row.poured_status_text)+"("+t._s(e.row.poured_source_text)+", "+t._s(e.row.poured_employee_text)+" "+t._s(e.row.poured_datetime)+")")]):a("div",[t._v(t._s(e.row.poured_status_text))])]}}])}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[e.row.edit_config_button_show?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.editorCity(e.row.id,e.row.text)}}},[t._v("编辑城市级配置")]):t._e(),e.row.poured_button_show?a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return t.editCollocation(e.row.id)}}},[t._v("开始灌入到居理")]):t._e()],1)]}}])})],1),a("el-pagination",{staticClass:"pages",attrs:{background:"","hide-on-single-page":!0,layout:"prev, pager, next","page-size":t.pages.pageSize,"page-count":t.pages.pageCount,"current-page":t.pages.currentPage},on:{"prev-click":function(e){return t.curPageChange(0)},"next-click":function(e){return t.curPageChange(1)},"current-change":t.curPageclick}})],1)]),a("div",{staticClass:"injectDialog"},[a("el-dialog",{attrs:{title:"请选择灌入到居理的数据源：",visible:t.startInjectDialog,width:"30%","show-close":!1},on:{"update:visible":function(e){t.startInjectDialog=e}}},[a("el-select",{class:{error:t.popEmpty},attrs:{placeholder:"请选择"},on:{change:t.changeOption},model:{value:t.dialogSelectValue,callback:function(e){t.dialogSelectValue=e},expression:"dialogSelectValue"}},t._l(t.DataOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancleConfirm}},[t._v("放弃确认")]),a("el-button",{attrs:{type:"primary"},on:{click:t.tapConfimBtn}},[t._v(t._s(t.confimText))])],1)],1)],1)])},o=[]}}]);