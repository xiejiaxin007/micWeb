(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3521d69e"],{"334b":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("23f7"),o={getDepartList:function(t){return r.axios.post("/backend-api/select2/select2/get-org-list",t)},getOrderCitys:function(t){return r.axios.post("/backend-api/select2/select2/get-all-city",t)},getOrgDepartList:function(t){return r.axios.get("/backend-api/select2/select2/get-org-depart-list",{params:t})},getJobs:function(t){return r.axios.get("/backend-api/select2/select2/get-org-post-list",{params:t})},getAllCityData:function(t){return r.axios.post("/backend-api/select2/select2/get-all-city-code",t)},getCompanyCommonData:function(t){return r.axios.post("/backend-api/org/org/common-select",t)}};e.default=o},3380:function(t,e,a){"use strict";a("5ba1")},"3c5dd":function(t,e,a){(e=a("24fb")(!1)).push([t.i,".virtual-box[data-v-427df0b8]{padding:20px 50px;-webkit-box-sizing:border-box;box-sizing:border-box}.virtual-box .content-box[data-v-427df0b8]{background:#fff;padding:20px 20px;margin-top:20px}.virtual-box .content-box[data-v-427df0b8] .el-form-item{margin-right:30px}.virtual-box .content-box .btn-box[data-v-427df0b8]{text-align:center}.virtual-box .content-box[data-v-427df0b8] .el-pagination{margin-top:20px;text-align:center}.virtual-box .content-box .table-box[data-v-427df0b8]{margin-top:20px}",""]),t.exports=e},"455a":function(t,e,a){"use strict";a.r(e);var r=a("f742"),o=a("9f12");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a("3380");var i=a("2877"),s=Object(i.a)(o.default,r.a,r.b,!1,null,"427df0b8",null);e.default=s.exports},"5ba1":function(t,e,a){var r=a("3c5dd");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a("499e").default)("01d5534e",r,!0,{sourceMap:!1,shadowMode:!1})},"7aac1":function(t,e,a){"use strict";var r=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var o=r(a("1da1")),n=r(a("334b")),i=r(a("823e")),s={name:"PriorityConfigList",data:function(){return{priorityFrom:{companyVal:"",companyData:[],cityVal:"",cityData:[],companyStatusVal:"",companyStatusData:[]},tableData:[{id:"1",city_id:"2",org_id:"48",priority:"1",status:"1",status_name:"1",city_name:"北京",org_name:"居理科技"}],pagination:{total:0,currentPage:1,pageSize:20},loading:!1}},mounted:function(){this.getCommonAPi(),this.getCityData(),this.getCompanyData(),this.getPriorityListApi()},methods:{getCommonAPi:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,r,o,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={type:["org_priority_status"]},e.next=4,i.default.getCompanyCommonData(a);case 4:r=e.sent,o=r.data,n=o.code,s=o.data,console.log(s),0===n&&(t.priorityFrom.companyStatusData=s.org_priority_status,t.priorityFrom.companyStatusData.unshift({name:"全部",value:""})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},getCityData:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={q:""},e.next=4,n.default.getAllCityData(a);case 4:r=e.sent,o=r.data,i=o.data,0===o.code&&(t.priorityFrom.cityData=i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},getCompanyData:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={q:"",is_without_julive:!1},e.next=4,n.default.getDepartList(a);case 4:r=e.sent,o=r.data,i=o.data,0===o.code&&(t.priorityFrom.companyData=i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},searchQuery:function(){this.pagination.currentPage=1,this.getPriorityListApi()},getPriorityListApi:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var a,r,o,n,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,a={org_id:t.priorityFrom.companyVal,city_id:t.priorityFrom.cityVal,status:t.priorityFrom.companyStatusVal,page:t.pagination.currentPage,page_size:t.pagination.pageSize},e.next=5,i.default.getPriorityListData(a);case 5:r=e.sent,o=r.data,n=o.code,s=o.data,c=o.msg,console.log(s,n),0===n?(t.tableData=s.list,t.pagination.total=s.total_num,t.loading=!1):(t.$message(c),t.loading=!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0),t.loading=!1;case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))()},closeOrderInfo:function(t,e){var a=this;return(0,o.default)(regeneratorRuntime.mark((function r(){var o,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o={id:e,status:t},r.next=4,i.default.closeCityOrderData(o);case 4:n=r.sent,0===n.data.code&&(a.$message("关闭成功!"),a.getPriorityListApi()),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},editorPage:function(t){this.$router.push({path:"/companyManage/editPriorityConfig",query:{id:t}})},addCofigPage:function(){this.$router.push({path:"/companyManage/editPriorityConfig"})},pageChange:function(t){this.pagination.currentPage=t,this.getPriorityListApi()},resetForm:function(t){this.$refs[t].resetFields(),this.pagination.currentPage=1,this.getPriorityListApi()}}};e.default=s},"823e":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("23f7"),o={getCompanyCommonData:function(t){return r.axios.post("/backend-api/org/org/common-select",t)},getCompanyListData:function(t){return r.axios.get("/backend-api/org/org/list",{params:t})},getCompanyOpenData:function(t){return r.axios.post("/backend-api/org/org/status-change",t)},getCompanyInfoData:function(t){return r.axios.get("/backend-api/org/org/info",{params:t})},saveCompanyInfoData:function(t){return r.axios.post("/backend-api/org/org/create",t)},getRemindDialogValData:function(){return r.axios.get("/backend-api/select2/select2/alert-limit-list")},getPriorityListData:function(t){return r.axios.post("/backend-api/org/alloc-priority-config/get-list",t)},closeCityOrderData:function(t){return r.axios.post("/backend-api/org/alloc-priority-config/switch-state",t)}};e.default=o},"9f12":function(t,e,a){"use strict";a.r(e);var r=a("7aac1"),o=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e.default=o.a},f742:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return o}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"virtual-box"},[a("el-breadcrumb",{staticClass:"bread-crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[t._v("首页")])]),a("el-breadcrumb-item",[t._v("加盟商管理")]),a("el-breadcrumb-item",[t._v("上户优先级")])],1),a("div",{staticClass:"content-box"},[a("el-form",{ref:"priorityFrom",attrs:{inline:!0,model:t.priorityFrom}},[a("el-form-item",{attrs:{label:"公司：",prop:"companyVal"}},[a("el-select",{attrs:{placeholder:"请选择公司",clearable:"",filterable:""},model:{value:t.priorityFrom.companyVal,callback:function(e){t.$set(t.priorityFrom,"companyVal",e)},expression:"priorityFrom.companyVal"}},t._l(t.priorityFrom.companyData,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"城市：",prop:"cityVal"}},[a("el-select",{attrs:{placeholder:"请选择城市",clearable:"",filterable:""},model:{value:t.priorityFrom.cityVal,callback:function(e){t.$set(t.priorityFrom,"cityVal",e)},expression:"priorityFrom.cityVal"}},t._l(t.priorityFrom.cityData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"状态：",prop:"companyStatusVal"}},[a("el-select",{attrs:{placeholder:"请选择状态",clearable:""},model:{value:t.priorityFrom.companyStatusVal,callback:function(e){t.$set(t.priorityFrom,"companyStatusVal",e)},expression:"priorityFrom.companyStatusVal"}},t._l(t.priorityFrom.companyStatusData,(function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}})})),1)],1)],1),a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary"},on:{click:t.searchQuery}},[t._v(" 搜索 ")]),a("el-button",{on:{click:function(e){return t.resetForm("priorityFrom")}}},[t._v("重置")])],1),a("div",{staticClass:"add-config-box"},[a("el-button",{attrs:{type:"primary"},on:{click:t.addCofigPage}},[t._v(" + 添加配置 ")])],1),a("div",{staticClass:"table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"priority",label:"优先级"}}),a("el-table-column",{attrs:{prop:"org_name",label:"公司名称"}}),a("el-table-column",{attrs:{prop:"city_name",label:"订单上户城市"}}),a("el-table-column",{attrs:{prop:"status_name",label:"状态"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.editorPage(e.row.id)}}},[t._v(" 编辑 ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.row.status,expression:"scope.row.status == '1'"}],attrs:{type:"text",size:"small"},on:{click:function(a){return t.closeOrderInfo(e.row.status,e.row.id)}}},[t._v(" 关闭 ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"2"==e.row.status,expression:"scope.row.status == '2'"}],attrs:{type:"text",size:"small"},on:{click:function(a){return t.editorPage(e.row.id)}}},[t._v(" 开启 ")])]}}])})],1),a("el-pagination",{attrs:{background:"","hide-on-single-page":"",layout:"prev, pager, next",total:t.pagination.total,"page-size":t.pagination.pageSize,"current-page":t.pagination.currentPage},on:{"current-change":t.pageChange}})],1)],1)],1)},o=[]}}]);