(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a33a968e"],{"0ffb":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"material-list-box",attrs:{"element-loading-text":"拼命加载中"}},[i("div",{staticClass:"customer-box"},[i("div",{staticClass:"module-title"},[i("div",{staticClass:"name"},[e._v("带看客户：共"+e._s(e.ruleForm.customerInfo.length+1)+"人参与线上带看")]),i("div",{staticClass:"add-info",on:{click:e.addUser}},[e._v("+添加用户")])]),i("div",{staticClass:"module-content"},[i("ul",{staticClass:"customer-info fixed-custom"},[i("li",{staticClass:"cus-item"},[i("span",{staticClass:"name"},[e._v("客户姓名")]),i("span",{staticClass:"content"},[e._v(e._s(e.orderUser.user_realname))])]),i("li",{staticClass:"cus-item"},[i("span",{staticClass:"name"},[e._v("客户性别")]),i("span",{staticClass:"content"},[e._v(e._s(e.orderUser.sex))])]),i("li",{staticClass:"cus-item"},[i("span",{staticClass:"name"},[e._v("客户手机")]),i("span",{staticClass:"content"},[e._v(e._s(e.orderUser.user_mobile))])])]),i("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm}},e._l(e.ruleForm.customerInfo,(function(t,a){return i("ul",{key:a,staticClass:"customer-info"},[i("li",{staticClass:"cus-item"},[i("span",{staticClass:"name"},[e._v("客户姓名")]),i("span",{staticClass:"content"},[i("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.customer_name,callback:function(i){e.$set(t,"customer_name",i)},expression:"cust.customer_name"}})],1)]),i("li",{staticClass:"cus-item"},[i("span",{staticClass:"name"},[e._v("客户性别")]),i("span",{staticClass:"content"},[i("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:t.sex,callback:function(i){e.$set(t,"sex",i)},expression:"cust.sex"}},e._l(e.sexList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.text,value:e.id+""}})})),1)],1)]),i("li",{staticClass:"cus-item"},[i("span",{staticClass:"name require"},[e._v("客户手机")]),i("span",{staticClass:"content"},[i("el-form-item",{attrs:{prop:"customerInfo."+a+".customer_mobile",rules:{required:!0,validator:e.checkPhone,trigger:"blur"}}},[i("jl-number-input",{attrs:{maxlength:"20",reg:"number"},model:{value:t.customer_mobile,callback:function(i){e.$set(t,"customer_mobile",i)},expression:"cust.customer_mobile"}})],1)],1)]),i("li",{staticClass:"operation",on:{click:function(t){return e.deleteCusInfo(a)}}},[e._v(" 删除 ")])])})),0)],1)]),i("div",{staticClass:"house-box"},[i("div",{staticClass:"module-title"},[i("div",{staticClass:"name"},[e._v("带看楼盘：共带看"+e._s(e.ruleForm.projectList.length)+"个楼盘")]),i("div",{staticClass:"add-info",on:{click:e.addProject}},[e._v("+添加带看楼盘")])]),i("div",{staticClass:"module-content"},[i("el-form",{ref:"seeInfo",attrs:{model:e.seeInfo}},[i("div",{staticClass:"take-look-info"},[i("div",{staticClass:"info-item"},[i("div",{staticClass:"name"},[e._v("带看时间")]),i("span",{staticClass:"content"},[i("el-date-picker",{attrs:{prop:"plan_real_begin_datetime",rules:{required:!0,message:"选择带看时间",trigger:"change"},type:"datetime","value-format":"timestamp","picker-options":e.pickerOptions,placeholder:"选择带看时间"},model:{value:e.seeInfo.plan_real_begin_datetime,callback:function(t){e.$set(e.seeInfo,"plan_real_begin_datetime",t)},expression:"seeInfo.plan_real_begin_datetime"}})],1)]),i("div",{staticClass:"info-item"},[i("div",{staticClass:"name"},[e._v("邀约人")]),i("span",{staticClass:"content"},[i("el-autocomplete",{attrs:{"fetch-suggestions":e.searchEmployee,placeholder:"请输入邀约人搜索"},on:{select:function(t){e.affirmPerson(t,"1")}},model:{value:e.seeInfo.invitation_employee_realname,callback:function(t){e.$set(e.seeInfo,"invitation_employee_realname",t)},expression:"seeInfo.invitation_employee_realname"}})],1)]),i("div",{staticClass:"info-item"},[i("div",{staticClass:"name"},[e._v("带看人")]),i("span",{staticClass:"content"},[i("el-autocomplete",{attrs:{"fetch-suggestions":e.searchEmployee,placeholder:"请输入带看人搜索"},on:{select:function(t){e.affirmPerson(t,"2")}},model:{value:e.seeInfo.see_employee_realname,callback:function(t){e.$set(e.seeInfo,"see_employee_realname",t)},expression:"seeInfo.see_employee_realname"}})],1)]),i("div",{staticClass:"info-item"},[i("div",{staticClass:"name require"},[e._v("预计带看时长")]),i("span",{staticClass:"content duration"},[i("el-form-item",{attrs:{prop:"duration",rules:{required:!0,message:"请填写带看时长",trigger:"blur"}}},[i("jl-number-input",{attrs:{reg:"number"},on:{blur:e.changeDuration},model:{value:e.seeInfo.duration,callback:function(t){e.$set(e.seeInfo,"duration",t)},expression:"seeInfo.duration"}}),i("span",{staticClass:"unit"},[e._v("分钟")])],1)],1)])])]),e._m(0),i("div",{staticClass:"take-house-list"},[i("div",{staticClass:"take-house"},[i("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm}},e._l(e.ruleForm.projectList,(function(t,a){return i("ul",{key:a,staticClass:"house-info"},[i("li",{staticClass:"info-wrap"},[i("div",{staticClass:"name"},[e._v(" "+e._s((0==a?"(主推)":"")+"带看楼盘"+(a+1))+" ")]),i("div",{staticClass:"content"},[i("el-form-item",{attrs:{prop:"projectList."+a+".project_name",rules:{required:!0,message:"请选择带看楼盘",trigger:"change"}}},[i("el-autocomplete",{attrs:{"fetch-suggestions":function(t,i){e.searchProject(t,i,a)},placeholder:"请输入楼盘名搜索"},on:{select:function(t){e.affirmProject(t,a)}},model:{value:t.project_name,callback:function(i){e.$set(t,"project_name",i)},expression:"project.project_name"}})],1)],1)]),i("li",{staticClass:"info-wrap"},[i("div",{staticClass:"name"},[e._v("销售信息")]),i("div",{staticClass:"content"},[i("el-input",{attrs:{maxlength:"10",placeholder:"请输入内容"},model:{value:t.sales_name,callback:function(i){e.$set(t,"sales_name",i)},expression:"project.sales_name"}})],1)]),i("li",{staticClass:"info-wrap"},[i("div",{staticClass:"name"},[e._v("销售手机")]),i("div",{staticClass:"content"},[i("el-form-item",{attrs:{prop:"projectList."+a+".sales_phone",rules:{required:!1,validator:e.verifySalePhone,trigger:"blur"}}},[i("jl-number-input",{attrs:{maxlength:"20",reg:"number"},model:{value:t.sales_phone,callback:function(i){e.$set(t,"sales_phone",i)},expression:"project.sales_phone"}})],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:1!==e.ruleForm.projectList.length,expression:"ruleForm.projectList.length !== 1"}],staticClass:"edit-wrap"},[i("span",{staticClass:"delete",on:{click:function(t){return e.delProject(a)}}},[e._v("删除")]),i("span",[e._v("带看顺序：")]),i("span",{class:0!==a?"hint-color":"not-arrow",on:{click:function(t){return e.moveOrder("up",a)}}},[e._v("上移")]),i("span",[e._v(" | ")]),i("span",{class:a+1!==e.ruleForm.projectList.length?"hint-color":"not-arrow",on:{click:function(t){return e.moveOrder("down",a)}}},[e._v("下移")])])])])})),0)],1)])],1)]),i("div",{staticClass:"customer-need-box"},[e._m(1),i("div",[i("table",{staticClass:"table"},[e._m(2),e.userRequire?i("tbody",{staticClass:"body"},[i("tr",[i("td",{staticClass:"title"},[e._v("总价预算")]),e.totalPrice?i("td",{staticClass:"con"},[i("div",{staticClass:"min-item"},[i("jl-number-input",{attrs:{reg:"number"},on:{blur:function(t){return e.changeClient(1)}},model:{value:e.totalPrice.value_min,callback:function(t){e.$set(e.totalPrice,"value_min",t)},expression:"totalPrice.value_min"}}),i("span",{staticClass:"input-unit"},[e._v("万")])],1),e.totalPrice&&e.totalPrice.isMore?i("div",{staticClass:"line"}):e._e(),e.totalPrice&&e.totalPrice.isMore?i("div",{staticClass:"max-item"},[i("jl-number-input",{attrs:{reg:"number"},on:{blur:function(t){return e.changeClient(1)}},model:{value:e.totalPrice.value_max,callback:function(t){e.$set(e.totalPrice,"value_max",t)},expression:"totalPrice.value_max"}}),i("span",{staticClass:"input-unit"},[e._v("万")])],1):e._e(),e.totalPrice?i("div",{staticClass:"unit-operate",on:{click:function(t){return e.changeArea(e.totalPrice,"value_max")}}},[e._v(e._s(e.checkarea(e.totalPrice.isMore)))]):e._e()]):e._e(),i("td",{staticClass:"swith"},[e.userRequire.total_price?i("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-color":"#2776EF","inactive-color":"#abb0b5","active-value":"0","inactive-value":"1"},on:{change:function(t){return e.setShow(e.userRequire.total_price.is_show,1)}},model:{value:e.userRequire.total_price.is_show,callback:function(t){e.$set(e.userRequire.total_price,"is_show",t)},expression:"userRequire.total_price.is_show"}}):e._e()],1)]),i("tr",[i("td",{staticClass:"title"},[e._v("首付预算")]),e.firstPrice?i("td",{staticClass:"con"},[i("div",{staticClass:"min-item"},[i("jl-number-input",{attrs:{reg:"number"},on:{blur:function(t){return e.changeClient(2)}},model:{value:e.firstPrice.value_min,callback:function(t){e.$set(e.firstPrice,"value_min",t)},expression:"firstPrice.value_min"}}),i("span",{staticClass:"input-unit"},[e._v("万")])],1),e.firstPrice&&e.firstPrice.isMore?i("div",{staticClass:"line"}):e._e(),e.firstPrice&&e.firstPrice.isMore?i("div",{staticClass:"max-item"},[i("jl-number-input",{attrs:{reg:"number"},on:{blur:function(t){return e.changeClient(2)}},model:{value:e.firstPrice.value_max,callback:function(t){e.$set(e.firstPrice,"value_max",t)},expression:"firstPrice.value_max"}}),i("span",{staticClass:"input-unit"},[e._v("万")])],1):e._e(),e.firstPrice?i("div",{staticClass:"unit-operate",on:{click:function(t){return e.changeArea(e.firstPrice,"value_max")}}},[e._v(e._s(e.checkarea(e.firstPrice.isMore)))]):e._e()]):e._e(),i("td",{staticClass:"swith"},[e.userRequire.first_price?i("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-color":"#2776EF","inactive-color":"#abb0b5","active-value":"0","inactive-value":"1"},on:{change:function(t){return e.setShow(e.userRequire.first_price.is_show,2)}},model:{value:e.userRequire.first_price.is_show,callback:function(t){e.$set(e.userRequire.first_price,"is_show",t)},expression:"userRequire.first_price.is_show"}}):e._e()],1)]),i("tr",[i("td",{staticClass:"title"},[e._v("面积")]),e.acreage?i("td",{staticClass:"con"},[i("div",{staticClass:"min-item"},[i("jl-number-input",{attrs:{reg:"number"},on:{blur:function(t){return e.changeClient(3)}},model:{value:e.acreage.value_min,callback:function(t){e.$set(e.acreage,"value_min",t)},expression:"acreage.value_min"}}),i("span",{staticClass:"input-unit"},[e._v("平米")])],1),e.acreage&&e.acreage.isMore?i("div",{staticClass:"line"}):e._e(),e.acreage&&e.acreage.isMore?i("div",{staticClass:"max-item"},[i("jl-number-input",{attrs:{reg:"number"},on:{blur:function(t){return e.changeClient(3)}},model:{value:e.acreage.value_max,callback:function(t){e.$set(e.acreage,"value_max",t)},expression:"acreage.value_max"}}),i("span",{staticClass:"input-unit"},[e._v("平米")])],1):e._e(),e.acreage?i("div",{staticClass:"unit-operate",on:{click:function(t){return e.changeArea(e.acreage,"value_max")}}},[e._v(e._s(e.checkarea(e.acreage.isMore)))]):e._e()]):e._e(),i("td",{staticClass:"swith"},[e.userRequire.acreage?i("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-color":"#2776EF","inactive-color":"#abb0b5","active-value":"0","inactive-value":"1"},on:{change:function(t){return e.setShow(e.userRequire.acreage.is_show,3)}},model:{value:e.userRequire.acreage.is_show,callback:function(t){e.$set(e.userRequire.acreage,"is_show",t)},expression:"userRequire.acreage.is_show"}}):e._e()],1)]),i("tr",[i("td",{staticClass:"title"},[e._v("业态")]),e.userRequire.project_type?i("td",{staticClass:"con"},[i("el-radio-group",{on:{change:function(t){return e.changeClient(4)}},model:{value:e.userRequire.project_type.value,callback:function(t){e.$set(e.userRequire.project_type,"value",t)},expression:"userRequire.project_type.value"}},e._l(e.typeList,(function(t,a){return i("el-radio",{key:"projectType"+a,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1):e._e(),i("td",{staticClass:"swith"},[e.userRequire.project_type?i("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-color":"#2776EF","inactive-color":"#abb0b5","active-value":"0","inactive-value":"1"},on:{change:function(t){return e.setShow(e.userRequire.project_type.is_show,4)}},model:{value:e.userRequire.project_type.is_show,callback:function(t){e.$set(e.userRequire.project_type,"is_show",t)},expression:"userRequire.project_type.is_show"}}):e._e()],1)]),i("tr",[i("td",{staticClass:"title"},[e._v("购房资质")]),e.userRequire.qualifications?i("td",{staticClass:"con"},[i("el-radio-group",{on:{change:function(t){return e.changeClient(5)}},model:{value:e.userRequire.qualifications.value,callback:function(t){e.$set(e.userRequire.qualifications,"value",t)},expression:"userRequire.qualifications.value"}},e._l(e.qualificationList,(function(t,a){return i("el-radio",{key:"qualification-"+a,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1):e._e(),i("td",{staticClass:"swith"},[e.userRequire.qualifications?i("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-color":"#2776EF","inactive-color":"#abb0b5","active-value":"0","inactive-value":"1"},on:{change:function(t){return e.setShow(e.userRequire.qualifications.is_show,5)}},model:{value:e.userRequire.qualifications.is_show,callback:function(t){e.$set(e.userRequire.qualifications,"is_show",t)},expression:"userRequire.qualifications.is_show"}}):e._e()],1)]),i("tr",[i("td",{staticClass:"title"},[e._v("户型")]),e.userRequire.house_type?i("td",{staticClass:"con"},[i("el-checkbox-group",{on:{change:function(t){return e.changeClient(6)}},model:{value:e.userRequire.house_type.value,callback:function(t){e.$set(e.userRequire.house_type,"value",t)},expression:"userRequire.house_type.value"}},e._l(e.houseTypeList,(function(t,a){return i("el-checkbox",{key:"houseType-"+a,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1):e._e(),i("td",{staticClass:"swith"},[e.userRequire.house_type?i("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-color":"#2776EF","inactive-color":"#abb0b5","active-value":"0","inactive-value":"1"},on:{change:function(t){return e.setShow(e.userRequire.house_type.is_show,6)}},model:{value:e.userRequire.house_type.is_show,callback:function(t){e.$set(e.userRequire.house_type,"is_show",t)},expression:"userRequire.house_type.is_show"}}):e._e()],1)]),i("tr",[i("td",{staticClass:"title"},[e._v("购房目的")]),e.userRequire.purchase_purpose?i("td",{staticClass:"con"},[i("el-radio-group",{on:{change:function(t){return e.changeClient(7)}},model:{value:e.userRequire.purchase_purpose.value,callback:function(t){e.$set(e.userRequire.purchase_purpose,"value",t)},expression:"userRequire.purchase_purpose.value"}},e._l(e.purchaseList,(function(t,a){return i("el-radio",{key:"purchase-"+a,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1):e._e(),i("td",{staticClass:"swith"},[e.userRequire.purchase_purpose?i("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-color":"#2776EF","inactive-color":"#abb0b5","active-value":"0","inactive-value":"1"},on:{change:function(t){return e.setShow(e.userRequire.purchase_purpose.is_show,7)}},model:{value:e.userRequire.purchase_purpose.is_show,callback:function(t){e.$set(e.userRequire.purchase_purpose,"is_show",t)},expression:"userRequire.purchase_purpose.is_show"}}):e._e()],1)])]):e._e()])])]),i("div",{staticClass:"small-box-item"},[e._m(3),i("div",[e._m(4),i("div",{staticClass:"module-content speed-wrap"},[i("div",{staticClass:"text-desc"},[i("div",[e._v("预估您的宽带为 "),i("span",{staticClass:"speed"},[e._v(e._s(e.ajaxSpeed)+"KB/S")])]),i("div",[e._v("请确保带看过程中网络正常")])]),i("div",{staticClass:"speed-btn",on:{click:function(t){return e.getMoreAjaxSpeed(e.imgOnline2)}}},[e._v(" 测试网速 ")])])]),i("div",[e._m(5),i("div",{staticClass:"module-content online-affirm"},[i("div",{staticClass:"affirm-item"},[i("span",{staticClass:"require"},[e._v("您是否穿着正装？")]),i("el-checkbox",{model:{value:e.seeInfo.is_dress,callback:function(t){e.$set(e.seeInfo,"is_dress",t)},expression:"seeInfo.is_dress"}},[e._v("我已确认")])],1),i("div",{staticClass:"affirm-item"},[i("span",{staticClass:"require"},[e._v("您是否有安静无杂音的线上带看环境？")]),i("el-checkbox",{model:{value:e.seeInfo.is_quiet,callback:function(t){e.$set(e.seeInfo,"is_quiet",t)},expression:"seeInfo.is_quiet"}},[e._v("我已确认")])],1)])])]),i("div",{staticClass:"save-wrap"},[i("div",{staticClass:"save-inner",on:{click:e.saveListvify}},[e._v(" 保存，去准备带看材料 ")])])])},o=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"take-house-hint"},[t("i",{staticClass:"el-icon-warning",attrs:{"aria-hidden":"true"}}),this._v(" 请确认带看顺序，带看楼盘顺序会给主管发送提醒哦～ ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"module-title"},[t("div",{staticClass:"name"},[this._v("客户需求")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",{staticClass:"head"},[t("tr",[t("th",{staticClass:"title"},[this._v("客户需求")]),t("th",{staticClass:"con require"},[this._v("填写信息")]),t("th",{staticClass:"swith"},[this._v("设置展示")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"module-title"},[t("div",{staticClass:"name"},[this._v("找房工具")])]),t("div",{staticClass:"module-content"},[this._v(" 请根据客户需求和带看楼盘，提前准备好找房工具设置，提前标记带看楼盘已保证带看中顺畅使用 ")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"module-title"},[t("div",{staticClass:"name"},[this._v("网速自测")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"module-title"},[t("div",{staticClass:"name"},[this._v("线上带看准备内容确认")])])}]},"10ef":function(e,t,i){"use strict";i.r(t);var a=i("0ffb"),o=i("5c1c");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("1b3a");var s=i("2877"),n=Object(s.a)(o.default,a.a,a.b,!1,null,"4ed5bc90",null);t.default=n.exports},"1b3a":function(e,t,i){"use strict";i("7e67")},"5c1c":function(e,t,i){"use strict";i.r(t);var a=i("fd07"),o=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t.default=o.a},6062:function(e,t,i){"use strict";var a=i("6d61"),o=i("6566");e.exports=a("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},6566:function(e,t,i){"use strict";var a=i("9bf2").f,o=i("7c73"),r=i("e2cc"),s=i("0366"),n=i("19aa"),l=i("2266"),c=i("7dd0"),u=i("2626"),d=i("83ab"),m=i("f183").fastKey,p=i("69f3"),f=p.set,h=p.getterFor;e.exports={getConstructor:function(e,t,i,c){var u=e((function(e,a){n(e,u,t),f(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=a&&l(a,e[c],{that:e,AS_ENTRIES:i})})),p=h(t),v=function(e,t,i){var a,o,r=p(e),s=b(e,t);return s?s.value=i:(r.last=s={index:o=m(t,!0),key:t,value:i,previous:a=r.last,next:void 0,removed:!1},r.first||(r.first=s),a&&(a.next=s),d?r.size++:e.size++,"F"!==o&&(r.index[o]=s)),e},b=function(e,t){var i,a=p(e),o=m(t);if("F"!==o)return a.index[o];for(i=a.first;i;i=i.next)if(i.key==t)return i};return r(u.prototype,{clear:function(){for(var e=p(this),t=e.index,i=e.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete t[i.index],i=i.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=p(this),i=b(this,e);if(i){var a=i.next,o=i.previous;delete t.index[i.index],i.removed=!0,o&&(o.next=a),a&&(a.previous=o),t.first==i&&(t.first=a),t.last==i&&(t.last=o),d?t.size--:this.size--}return!!i},forEach:function(e){for(var t,i=p(this),a=s(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:i.first;)for(a(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!b(this,e)}}),r(u.prototype,i?{get:function(e){var t=b(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),d&&a(u.prototype,"size",{get:function(){return p(this).size}}),u},setStrong:function(e,t,i){var a=t+" Iterator",o=h(t),r=h(a);c(e,t,(function(e,t){f(this,{type:a,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=r(this),t=e.kind,i=e.last;i&&i.removed;)i=i.previous;return e.target&&(e.last=i=i?i.next:e.state.first)?"keys"==t?{value:i.key,done:!1}:"values"==t?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),u(t)}}},6913:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("23f7"),o={getInitList:function(e){return a.axios.post("/backend-api/online-see-project/init-list",e)},getVerifyPhone:function(e){return a.axios.post("/backend-api/online-see-project/check-sys-number-talking",e)},getEmployee:function(e){return a.axios.get("/backend-api/select2/select2/get-alloc-employee-list",{params:e})},saveSeeList:function(e){return a.axios.post("/backend-api/online-see-project/online-see-save",e)}};t.default=o},"6d61":function(e,t,i){"use strict";var a=i("23e7"),o=i("da84"),r=i("94ca"),s=i("6eeb"),n=i("f183"),l=i("2266"),c=i("19aa"),u=i("861d"),d=i("d039"),m=i("1c7e"),p=i("d44e"),f=i("7156");e.exports=function(e,t,i){var h=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),b=h?"set":"add",_=o[e],x=_&&_.prototype,g=_,k={},w=function(e){var t=x[e];s(x,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:function(e,i){return t.call(this,0===e?0:e,i),this})};if(r(e,"function"!=typeof _||!(v||x.forEach&&!d((function(){(new _).entries().next()})))))g=i.getConstructor(t,e,h,b),n.REQUIRED=!0;else if(r(e,!0)){var y=new g,C=y[b](v?{}:-0,1)!=y,j=d((function(){y.has(1)})),q=m((function(e){new _(e)})),I=!v&&d((function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)}));q||((g=t((function(t,i){c(t,g,e);var a=f(new _,t,g);return null!=i&&l(i,a[b],{that:a,AS_ENTRIES:h}),a}))).prototype=x,x.constructor=g),(j||I)&&(w("delete"),w("has"),h&&w("get")),(I||C)&&w(b),v&&x.clear&&delete x.clear}return k[e]=g,a({global:!0,forced:g!=_},k),p(g,e),v||i.setStrong(g,e,h),g}},"7e67":function(e,t,i){var a=i("e889");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i("499e").default)("09c6c2c6",a,!0,{sourceMap:!1,shadowMode:!1})},b85c:function(e,t,i){"use strict";i("a4d3"),i("e01a"),i("d28b"),i("d3b7"),i("3ca3"),i("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=(0,o.default)(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,n=!0,l=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return n=e.done,e},e:function(e){l=!0,s=e},f:function(){try{n||null==i.return||i.return()}finally{if(l)throw s}}}};var a,o=(a=i("06c5"))&&a.__esModule?a:{default:a}},bb2f:function(e,t,i){var a=i("d039");e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},e889:function(e,t,i){(t=i("24fb")(!1)).push([e.i,'.material-list-box[data-v-4ed5bc90]{height:100%;overflow-y:auto;padding:0 20px;background-color:#eff3f6}.material-list-box .require[data-v-4ed5bc90]:before{content:"*";color:#f64a4a}.material-list-box .small-box-item[data-v-4ed5bc90]{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:14px}.material-list-box .small-box-item>div[data-v-4ed5bc90]{-webkit-box-flex:1;-ms-flex:1;flex:1;margin-right:20px}.material-list-box .small-box-item>div[data-v-4ed5bc90]:last-child{margin-right:0}.material-list-box .small-box-item .affirm-item[data-v-4ed5bc90]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.material-list-box .small-box-item .affirm-item[data-v-4ed5bc90]:first-child{margin-bottom:8px}.material-list-box .small-box-item .affirm-item[data-v-4ed5bc90] .el-checkbox__input.is-checked .el-checkbox__inner{background-color:#2776ef;border-color:#2776ef}.material-list-box .small-box-item .affirm-item[data-v-4ed5bc90] .el-checkbox__label{color:#222}.material-list-box .small-box-item .speed[data-v-4ed5bc90]{color:#2776ef}.material-list-box .small-box-item .speed-wrap[data-v-4ed5bc90]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.material-list-box .small-box-item .speed-wrap .speed-btn[data-v-4ed5bc90]{cursor:pointer;-ms-flex-negative:0;flex-shrink:0;font-size:16px;margin-left:68px;color:#fff;width:124px;height:38px;line-height:38px;border-radius:4px;text-align:center;background-color:#2776ef}.material-list-box .save-wrap[data-v-4ed5bc90]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:30px 0}.material-list-box .save-wrap .save-inner[data-v-4ed5bc90]{cursor:pointer;font-size:16px;width:384px;height:40px;line-height:40px;color:#fff;background:#2776ef;border-radius:4px;text-align:center}.material-list-box .module-title[data-v-4ed5bc90]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:30px 0 18px;color:#222}.material-list-box .module-title .name[data-v-4ed5bc90]{font-weight:700;font-size:24px;line-height:34px}.material-list-box .module-title .add-info[data-v-4ed5bc90]{cursor:pointer;width:118px;height:30px;line-height:30px;font-size:14px;color:#fff;border-radius:2px;text-align:center;background-color:#0ad487}.material-list-box .module-content[data-v-4ed5bc90]{background-color:#fff;padding:30px 20px;border-radius:2px;color:#222}.material-list-box .module-content[data-v-4ed5bc90] .el-input__inner{width:170px;height:38px;line-height:38px;color:#333;padding:0 12px}.material-list-box .module-content[data-v-4ed5bc90] .el-input--prefix .el-input__inner{padding-left:30px}.material-list-box .module-content[data-v-4ed5bc90] .el-date-editor.el-input,.material-list-box .module-content[data-v-4ed5bc90] .el-date-editor .el-input__inner{width:180px}.material-list-box .module-content[data-v-4ed5bc90] .el-input__suffix{display:none}.material-list-box .module-content[data-v-4ed5bc90] .el-form-item__content{margin-left:0!important}.material-list-box .customer-info[data-v-4ed5bc90]{display:-webkit-box;display:-ms-flexbox;display:flex;font-size:14px;margin-top:20px}.material-list-box .customer-info.fixed-custom[data-v-4ed5bc90]{margin-top:0}.material-list-box .customer-info.fixed-custom .cus-item[data-v-4ed5bc90]{height:20px;line-height:20px}.material-list-box .customer-info .cus-item[data-v-4ed5bc90]{display:-webkit-box;display:-ms-flexbox;display:flex;width:245px;right:30px;margin-right:30px;height:38px;line-height:38px}.material-list-box .customer-info .cus-item[data-v-4ed5bc90]:last-child{margin-right:0}.material-list-box .customer-info .cus-item .name[data-v-4ed5bc90]{margin-right:12px}.material-list-box .customer-info .operation[data-v-4ed5bc90]{cursor:pointer;line-height:38px;color:#f64a4a}.material-list-box .house-box .take-look-info[data-v-4ed5bc90]{display:-webkit-box;display:-ms-flexbox;display:flex;padding-bottom:20px;margin-bottom:12px;border-bottom:1px solid #edeeef}.material-list-box .house-box .take-look-info .info-item[data-v-4ed5bc90]{height:38px;line-height:38px;font-size:14px;display:-webkit-box;display:-ms-flexbox;display:flex;margin-right:30px}.material-list-box .house-box .take-look-info .info-item[data-v-4ed5bc90]:last-child{margin-right:0}.material-list-box .house-box .take-look-info .info-item .name[data-v-4ed5bc90]{margin-right:12px}.material-list-box .house-box .take-look-info .info-item .duration[data-v-4ed5bc90]{position:relative}.material-list-box .house-box .take-look-info .info-item .duration[data-v-4ed5bc90] .el-input__inner{padding-right:45px}.material-list-box .house-box .take-look-info .info-item .duration .unit[data-v-4ed5bc90]{position:absolute;bottom:0;right:12px}.material-list-box .house-box .take-house-hint[data-v-4ed5bc90]{font-size:12px;color:#f19548}.material-list-box .house-box .take-house-hint>i[data-v-4ed5bc90]{font-size:14px;position:relative;top:1px}.material-list-box .house-box .take-house-list[data-v-4ed5bc90]{font-size:14px}.material-list-box .house-box .take-house-list ul[data-v-4ed5bc90]{margin-bottom:10px}.material-list-box .house-box .take-house-list ul[data-v-4ed5bc90]:last-child{margin-bottom:0}.material-list-box .house-box .take-house-list .edit-wrap[data-v-4ed5bc90]{margin-left:24px;color:#77808a}.material-list-box .house-box .take-house-list .not-arrow[data-v-4ed5bc90]{cursor:not-allowed}.material-list-box .house-box .take-house-list .hint-color[data-v-4ed5bc90]{cursor:pointer;color:#2776ef}.material-list-box .house-box .take-house-list .delete[data-v-4ed5bc90]{cursor:pointer;color:#f64a4a;margin-right:24px}.material-list-box .house-box .take-house-list .house-info[data-v-4ed5bc90]{display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:20px}.material-list-box .house-box .take-house-list .house-info[data-v-4ed5bc90]:first-child{margin-top:12px}.material-list-box .house-box .take-house-list .house-info[data-v-4ed5bc90]:last-child{margin-bottom:0}.material-list-box .house-box .take-house-list .voucher[data-v-4ed5bc90]{position:absolute;top:48px}.material-list-box .house-box .take-house-list .voucher-wrap[data-v-4ed5bc90]{font-size:12px;display:-webkit-box;display:-ms-flexbox;display:flex;background-color:#e3f6fe;height:52px;line-height:52px;padding:0 10px}.material-list-box .house-box .take-house-list .voucher-wrap[data-v-4ed5bc90] .image-list{display:none}.material-list-box .house-box .take-house-list .voucher-wrap[data-v-4ed5bc90] .el-button--primary{padding:0;color:#2776ef;background-color:transparent;border:none}.material-list-box .house-box .take-house-list .voucher-wrap .img-warp[data-v-4ed5bc90]{width:40px;height:40px;position:relative;margin:6px 5px 0 0}.material-list-box .house-box .take-house-list .voucher-wrap .img-warp img[data-v-4ed5bc90]{width:100%;height:100%}.material-list-box .house-box .take-house-list .voucher-wrap .img-warp i[data-v-4ed5bc90]{position:absolute;font-size:14px;right:-7px;top:-5px}.material-list-box .house-box .take-house-list .error-voucher[data-v-4ed5bc90]{border:1px solid #f64a4a}.material-list-box .house-box .take-house-list .err-hint-color[data-v-4ed5bc90]{color:#f64a4a;font-size:12px;line-height:14px;margin-top:5px}.material-list-box .house-box .take-house-list .info-wrap[data-v-4ed5bc90]{display:-webkit-box;display:-ms-flexbox;display:flex;height:38px;line-height:38px;margin-right:30px}.material-list-box .house-box .take-house-list .info-wrap:first-child .name[data-v-4ed5bc90]{width:103px;text-align:right}.material-list-box .house-box .take-house-list .info-wrap[data-v-4ed5bc90]:last-child{margin-right:0}.material-list-box .house-box .take-house-list .has-verify[data-v-4ed5bc90]{position:relative;height:100px;min-width:330px}.material-list-box .house-box .take-house-list .name[data-v-4ed5bc90]{margin-right:12px}.material-list-box .customer-need-box .table[data-v-4ed5bc90]{width:100%;background-color:#fff}.material-list-box .customer-need-box .table .title[data-v-4ed5bc90]{min-width:150px}.material-list-box .customer-need-box .table .con[data-v-4ed5bc90]{min-width:300px}.material-list-box .customer-need-box .table .con[data-v-4ed5bc90] .el-radio-group .el-radio{font-weight:400}.material-list-box .customer-need-box .table .con[data-v-4ed5bc90] .el-radio-group .el-radio__label{font-size:12px!important;color:#222}.material-list-box .customer-need-box .table .con[data-v-4ed5bc90] .el-checkbox-group .el-checkbox{font-weight:400}.material-list-box .customer-need-box .table .con[data-v-4ed5bc90] .el-checkbox-group .el-checkbox__label{font-size:12px;color:#222}.material-list-box .customer-need-box .table .con>div[data-v-4ed5bc90]{float:left}.material-list-box .customer-need-box .table .con .line[data-v-4ed5bc90]{float:left;height:0;width:6px;border-bottom:1px solid #ccc;margin:15px 10px 0 0}.material-list-box .customer-need-box .table .con .max-item[data-v-4ed5bc90],.material-list-box .customer-need-box .table .con .min-item[data-v-4ed5bc90]{width:85px}.material-list-box .customer-need-box .table .con .max-item[data-v-4ed5bc90] .el-input,.material-list-box .customer-need-box .table .con .min-item[data-v-4ed5bc90] .el-input{width:52px;float:left}.material-list-box .customer-need-box .table .con .max-item[data-v-4ed5bc90] .el-input .el-input__inner,.material-list-box .customer-need-box .table .con .min-item[data-v-4ed5bc90] .el-input .el-input__inner{height:30px;line-height:30px;font-size:12px;color:#222;padding:0 6px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0}.material-list-box .customer-need-box .table .con .max-item .input-unit[data-v-4ed5bc90],.material-list-box .customer-need-box .table .con .min-item .input-unit[data-v-4ed5bc90]{float:left;font-size:12px;color:#222;line-height:30px;margin-left:6px}.material-list-box .customer-need-box .table .con .min-item[data-v-4ed5bc90]{margin-right:10px}.material-list-box .customer-need-box .table .con .unit-operate[data-v-4ed5bc90]{float:left;margin-left:22px;line-height:30px;font-size:12px;color:#2776ef;cursor:pointer}.material-list-box .customer-need-box .table>.head[data-v-4ed5bc90]{color:#222;border:1px solid #f3f6f9}.material-list-box .customer-need-box .table>.head th[data-v-4ed5bc90]{font-size:16px;height:50px;text-align:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:10px 20px}.material-list-box .customer-need-box .table>.head th.swith[data-v-4ed5bc90]{min-width:150px;text-align:center}.material-list-box .customer-need-box .table>.body[data-v-4ed5bc90]{font-size:14px;color:#77808a;border-left:1px solid #f3f6f9}.material-list-box .customer-need-box .table>.body td[data-v-4ed5bc90]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:10px 20px;height:50px;word-wrap:break-word;word-break:break-all;border-right:1px solid #f3f6f9;border-bottom:1px solid #f3f6f9}.material-list-box .customer-need-box .table>.body td.swith[data-v-4ed5bc90]{text-align:center}.material-list-box .customer-need-box .table[data-v-4ed5bc90] .el-checkbox__input.is-checked .el-checkbox__inner,.material-list-box .customer-need-box .table[data-v-4ed5bc90] .el-radio__input.is-checked .el-radio__inner{background-color:#2776ef;border-color:#2776ef}.material-list-box .customer-need-box[data-v-4ed5bc90] .el-switch__label--left.is-active,.material-list-box .customer-need-box[data-v-4ed5bc90] .el-switch__label--right.is-active{z-index:1111;color:#fff!important}.material-list-box .customer-need-box[data-v-4ed5bc90] .el-switch__core:after{top:2px}.material-list-box .customer-need-box[data-v-4ed5bc90] .el-switch__label--left{position:relative;left:46px;color:#fff;z-index:-1111}.material-list-box .customer-need-box[data-v-4ed5bc90] .el-switch__label--right{position:relative;right:46px;color:#fff;z-index:-1111}.material-list-box .customer-need-box[data-v-4ed5bc90] .el-switch__core{height:22px!important;line-height:22px!important;width:46px!important;border-radius:15px!important}',""]),e.exports=t},f183:function(e,t,i){var a=i("d012"),o=i("861d"),r=i("5135"),s=i("9bf2").f,n=i("90e3"),l=i("bb2f"),c=n("meta"),u=0,d=Object.isExtensible||function(){return!0},m=function(e){s(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,c)){if(!d(e))return"F";if(!t)return"E";m(e)}return e[c].objectID},getWeakData:function(e,t){if(!r(e,c)){if(!d(e))return!0;if(!t)return!1;m(e)}return e[c].weakData},onFreeze:function(e){return l&&p.REQUIRED&&d(e)&&!r(e,c)&&m(e),e}};a[c]=!0},fd07:function(e,t,i){"use strict";var a=i("4ea4");i("99af"),i("4160"),i("a630"),i("d81d"),i("a434"),i("b0c0"),i("d3b7"),i("ac1f"),i("6062"),i("3ca3"),i("1276"),i("159b"),i("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("b85c"));i("96cf");var r=a(i("1da1")),s=a(i("5530")),n=a(i("6913")),l=a(i("f946")),c=i("7223"),u=i("2f62"),d={name:"takeLookList",data:function(){return{isLoading:!1,lock:!1,requireState:!1,isFir:!0,previewUrl:[],PhotoIsShow:!1,voucherDir:"online_contact_voucher",seeInfo:{},projectArr:[],orderUser:{},times:3,ajaxSpeed:"0",imgOnline2:"/dist/static/img/img-testspeed2.5279367.png",userRequire:{},typeList:[],houseTypeList:[],totalPrice:{},firstPrice:{},acreage:{},ruleForm:{customerInfo:[],projectList:[]},checked:!1,cusPhone:"222",cusName:"",sex:1,sexList:[{id:1,text:"男"},{id:2,text:"女"}],messageFlag:""}},created:function(){var e=this;this.seeId=this.$route.query.see_id,this.orderId=this.$route.query.order_id,this.pickerOptions={disabledDate:function(e){return e.getTime()<Date.now()-864e5}},this.getInitData().then((function(){e.pageView(),e.isFir=!1})),this.currProIndex=""},computed:(0,s.default)((0,s.default)({},(0,u.mapState)(["trackCommon"])),{},{seeProjectIndex:function(){return""},checkProject:function(){var e=[];return this.ruleForm.projectList.forEach((function(t,i){e.push(t)})),e}}),methods:{changeDuration:function(){var e={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id,predict_see_time:this.seeInfo.duration};c.commonFun.setTrack("7253",this.trackCommon.info,e,this.trackCommon.backendApi)},pageView:function(){var e={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id};c.commonFun.setTrackNew(7580,e)},verifyUser:function(){var e=this.userRequire,t=0,i=0;for(var a in e)0==e[a].is_show&&(t++,"total_price"==a||"first_price"==a||"acreage"==a?e[a].isMore?""!=e[a].value_max&&""!=e[a].value_min&&i++:""!=e[a].value_min&&i++:""!=e[a].value&&i++);return t==i},setShow:function(e,t){var i={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id,tab_id:t,is_show:e};c.commonFun.setTrack("7261",this.trackCommon.info,i,this.trackCommon.backendApi)},changeClient:function(e){var t={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id};1!==e||this.totalPrice.isMore?1===e&&this.totalPrice.isMore?t.input_total_price="".concat(this.totalPrice.value_min,",").concat(this.totalPrice.value_max):2!==e||this.firstPrice.isMore?2===e&&this.firstPrice.isMore?t.input_downpay="".concat(this.firstPrice.value_min,",").concat(this.firstPrice.value_max):3!==e||this.acreage.isMore?3===e&&this.acreage.isMore?t.input_proportion="".concat(this.acreage.value_min,",").concat(this.acreage.value_max):4===e?(t.project_type=[0],t.project_type[0]=this.userRequire.project_type.value):5===e?t.purchase_qualification=this.userRequire.qualifications.value:6===e?t.house_type=this.userRequire.house_type.value:7===e&&(t.purchase_purpose=this.userRequire.purchase_purpose.value):(t.proportion=[0],t.proportion[0]=this.acreage.value_min):t.down_payment_budget=parseInt(this.firstPrice.value_min):t.total_budget=this.totalPrice.value_min,c.commonFun.setTrack("7260",this.trackCommon.info,t,this.trackCommon.backendApi)},affirmPerson:function(e,t){1==t?(this.seeInfo.invitation_employee_id=e.id,this.seeInfo.invitation_employee_realname=e.text):(this.seeInfo.see_employee_id=e.id,this.seeInfo.see_employee_realname=e.text),this.seeInfo.duration=""},upVovher:function(e){console.log("111");var t={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id};c.commonFun.setTrack("7259",this.trackCommon.info,t,this.trackCommon.backendApi)},delVercherImg:function(e){this.ruleForm.projectList[e].img=[];var t=this.ruleForm.projectList[e];this.$set(this.ruleForm.projectList,e,t)},uploadSuccess:function(e){this.$set(this.ruleForm.projectList,e,this.ruleForm.projectList[e])},showPreview:function(e){this.previewUrl[0]=e,this.PhotoIsShow=!0},closeViewer:function(){this.PhotoIsShow=!1,this.previewUrl=[]},verifySalePhone:function(e,t,i){if(""!==t&&!c.commonFun.verifyTelNum(t))return i(new Error("请填写正确手机号"));i()},checkPhone:function(e,t,i){return""==t?i(new Error("请填写手机号")):c.commonFun.verifyTelNum(t)?void i():i(new Error("请填写正确手机号"))},saveListvify:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i={order_id:e.orderId,adviser_id:e.trackCommon.info.login_employee_id},c.commonFun.setTrack("7264",e.trackCommon.info,i,e.trackCommon.backendApi),e.ruleForm.projectList.forEach((function(e){e.online_contact_voucher=e.img&&e.img.length>0?e.img[0].name:""})),e.seeInfo.is_dress&&e.seeInfo.is_quiet){t.next=7;break}return e.$message({message:"线上带看准备内容确认为必填",duration:1e3,type:"warning"}),t.abrupt("return",!1);case 7:if(a=!1,o=!1,e.$refs.ruleForm.validate((function(e){e&&(a=!0)})),e.$refs.seeInfo.validate((function(e){e&&(o=!0)})),a&&o){t.next=14;break}return e.$message({message:"请完善信息",duration:1e3,type:"warning"}),t.abrupt("return",!1);case 14:if(e.verifyUser()){t.next=18;break}return e.$message({message:"请完善客户需求信息",duration:1e3,type:"warning"}),t.abrupt("return",!1);case 18:e.saveData(),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),console.log(t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()},saveData:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i,a,o,r,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("保存",e.lock),t.prev=1,!e.lock){t.next=4;break}return t.abrupt("return",!1);case 4:return(i=JSON.parse(JSON.stringify(e.seeInfo))).is_dress=i.is_dress?"1":"2",i.is_quiet=i.is_dress?"1":"2",i.plan_real_begin_datetime=i.plan_real_begin_datetime/1e3,a=e.ruleForm.projectList.map((function(e){return{project_id:e.project_id,project_name:e.project_name,sales_name:e.sales_name,sales_phone:e.sales_phone,online_contact_voucher:e.online_contact_voucher}})),o={customer_info:e.ruleForm.customerInfo,customer_cnt:e.ruleForm.customerInfo.length,order_user:e.orderUser,see_project_list:a,see_project_list_cnt:e.ruleForm.projectList.length,see_info:i,order_require:e.userRequire,order_id:e.orderId,see_id:e.seeId},e.lock=!0,t.next=13,n.default.saveSeeList(o);case 13:r=t.sent,0===(s=r.data).code?(e.lock=!1,e.$router.push({path:"/materialPrepare",query:{see_project_id:e.seeId}})):(e.lock=!1,alert(s.msg)),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),e.lock=!1,console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[1,18]])})))()},moveOrder:function(e,t){if(!("up"===e&&0===t||"down"===e&&t===this.ruleForm.projectList.length-1))if("up"===e&&t>0){this.ruleForm.projectList[t]=this.ruleForm.projectList.splice(t-1,1,this.ruleForm.projectList[t])[0];var i={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id};c.commonFun.setTrack("7254",this.trackCommon.info,i,this.trackCommon.backendApi)}else if("down"===e&&t!==this.ruleForm.projectList.length-1){this.ruleForm.projectList[t]=this.ruleForm.projectList.splice(t+1,1,this.ruleForm.projectList[t])[0];var a={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id};c.commonFun.setTrack("7255",this.trackCommon.info,a,this.trackCommon.backendApi)}},delProject:function(e){this.ruleForm.projectList.splice(e,1);var t={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id};c.commonFun.setTrack("7257",this.trackCommon.info,t,this.trackCommon.backendApi)},searchEmployee:function(e,t){var i=this;return(0,r.default)(regeneratorRuntime.mark((function a(){var r,s,l,c,u,d,m;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={q:e},s=[{}],a.next=4,n.default.getEmployee(r);case 4:if(l=a.sent,0===(c=l.data).code){i.projectArr=c.data.list,u=(0,o.default)(c.data.list);try{for(u.s();!(d=u.n()).done;)(m=d.value).value=m.text}catch(e){u.e(e)}finally{u.f()}s=c.data.list,t(s)}else t([]);case 7:case"end":return a.stop()}}),a)})))()},affirmProject:function(e,t){var i={project_id:e.id,project_name:e.text,sales_name:"",sales_phone:"",online_contact_voucher:""};this.$set(this.ruleForm.projectList,t,i)},searchProject:function(e,t,i){var a=this;return(0,r.default)(regeneratorRuntime.mark((function i(){var r,s,n,c,u,d,m,p;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=a.ruleForm.projectList.map((function(e){return e.project_id})),r=Array.from(new Set(r)),s={not_in_id:r,name:e},n=[{}],i.next=6,l.default.projectList(s);case 6:if(c=i.sent,0===(u=c.data).code){a.projectArr=u.data.list,d=(0,o.default)(u.data.list);try{for(d.s();!(m=d.n()).done;)(p=m.value).value=p.text}catch(e){d.e(e)}finally{d.f()}n=u.data.list,t(n)}else t([]);case 9:case"end":return i.stop()}}),i)})))()},changeArea:function(e,t){e.isMore=!e.isMore,this.$set(e,t,"")},checkarea:function(e){var t="添加范围";return e&&(t="取消范围"),t},addProject:function(){try{this.ruleForm.projectList.length>9?this.$message({message:"最多添加10个带看楼盘",duration:1e3,type:"warning"}):this.$set(this.ruleForm.projectList,this.ruleForm.projectList.length,{project_id:"",project_name:"",sales_name:"",sales_phone:"",online_contact_voucher:""});var e={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id};c.commonFun.setTrack("7252",this.trackCommon.info,e,this.trackCommon.backendApi)}catch(e){console.log(e)}},addUser:function(){4===this.ruleForm.customerInfo.length?this.$message({message:"最多添加5个客户",duration:1e3,type:"warning"}):this.ruleForm.customerInfo.push({customer_name:"",sex:"",customer_mobile:""});var e={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id};c.commonFun.setTrack("7250",this.trackCommon.info,e,this.trackCommon.backendApi)},getSpeedByAjax:function(e,t,i){var a,o,r,s=i=i||1,n=this;function l(){var l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState&&200===l.status&&(r||(r=l.responseText.length),--s<=0)){n.messageFlag.close(),o=Date.now();var t=r*i/((o-a)/1e3)/1024;e&&e(Math.floor(t))}},l.open("GET",t+"?cach="+Math.random(),!0),l.send()}a=Date.now();for(var c=i;c>0;c--)l()},getMoreAjaxSpeed:function(e){var t=this;this.messageFlag=this.$message({message:"网速测试中",duration:0,type:"success"}),this.getSpeedByAjax((function(e){t.ajaxSpeed=e}),e,this.times);var i={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id};c.commonFun.setTrack("7214",this.trackCommon.info,i,this.trackCommon.backendApi)},getInitData:function(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,i={see_id:e.seeId,order_id:e.orderId},t.prev=2,t.next=5,n.default.getInitList(i);case 5:a=t.sent,0==(o=a.data).code&&(e.isLoading=!1,e.seeInfo=o.data.see_info,1==e.seeInfo.is_dress?e.seeInfo.is_dress=!0:e.seeInfo.is_dress=!1,1==e.seeInfo.is_quiet?e.seeInfo.is_quiet=!0:e.seeInfo.is_quiet=!1,e.seeInfo.plan_real_begin_datetime=1e3*e.seeInfo.plan_real_begin_datetime,e.orderUser=o.data.order_user,e.ruleForm.customerInfo=o.data.customer_info,o.data.see_project_list.forEach((function(e){""!=e.online_contact_voucher&&(e.img=[{url:"",name:""}],e.img[0].name="".concat(e.online_contact_voucher.split(".com/")[1]),e.img[0].url="".concat(e.online_contact_voucher),e.isUpload=!0)})),e.ruleForm.projectList=o.data.see_project_list,e.userRequire=o.data.order_require,e.houseTypeList=o.data.require_default.house_type,e.typeList=o.data.require_default.require_project_type,e.purchaseList=o.data.require_default.purchase_purpose,e.qualificationList=o.data.require_default.qualifications,e.totalPrice=e.userRequire.total_price,e.firstPrice=e.userRequire.first_price,e.acreage=e.userRequire.acreage,e.firstPrice.value_max=e.firstPrice.value_max/1e4,e.firstPrice.value_min=e.firstPrice.value_min/1e4,e.totalPrice.value_max=e.totalPrice.value_max/1e4,e.totalPrice.value_min=e.totalPrice.value_min/1e4,e.$set(e.totalPrice,"isMore",!0),e.$set(e.firstPrice,"isMore",!0),e.$set(e.acreage,"isMore",!0),""!==e.totalPrice.value_max&&null!==e.totalPrice.value_max&&""!==e.totalPrice.value_min&&null!==e.totalPrice.value_min&&e.totalPrice.value_max!=e.totalPrice.value_min?e.totalPrice.isMore=!0:(e.totalPrice.isMore=!1,e.totalPrice.value_max=""),""!==e.firstPrice.value_max&&null!==e.firstPrice.value_max&&""!==e.firstPrice.value_min&&null!==e.firstPrice.value_min&&e.firstPrice.value_max!=e.firstPrice.value_min?e.firstPrice.isMore=!0:(e.firstPrice.isMore=!1,e.firstPrice.value_max=""),""!==e.acreage.value_max&&null!==e.acreage.value_max&&""!==e.acreage.value_min&&null!==e.acreage.value_min&&e.acreage.value_max!=e.acreage.value_min?e.acreage.isMore=!0:(e.acreage.isMore=!1,e.acreage.value_max="")),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),e.isLoading=!1,console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},deleteCusInfo:function(e){this.ruleForm.customerInfo.splice(e,1);var t={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id};c.commonFun.setTrack("7251",this.trackCommon.info,t,this.trackCommon.backendApi)}},watch:{"seeInfo.plan_real_begin_datetime":{handler:function(e,t){if(!this.isFir){var i={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id,see_time:this.seeInfo.plan_real_begin_datetime/1e3};c.commonFun.setTrack("7253",this.trackCommon.info,i,this.trackCommon.backendApi)}},deep:!0},"seeInfo.invitation_employee_id":{handler:function(e,t){if(!this.isFir){var i={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id,invite_adviser_id:this.seeInfo.invitation_employee_id};c.commonFun.setTrack("7253",this.trackCommon.info,i,this.trackCommon.backendApi)}},deep:!0},"seeInfo.see_employee_id":{handler:function(e,t){if(!this.isFir){var i={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id,see_adviser_id:this.seeInfo.see_employee_id};c.commonFun.setTrack("7253",this.trackCommon.info,i,this.trackCommon.backendApi)}},deep:!0},"seeInfo.is_dress":{handler:function(e,t){if(!this.isFir){var i={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id,is_affirm:e?0:1,tab_id:1};c.commonFun.setTrack("7263",this.trackCommon.info,i,this.trackCommon.backendApi)}},deep:!0},"seeInfo.is_quiet":{handler:function(e,t){if(!this.isFir){var i={order_id:this.orderId,adviser_id:this.trackCommon.info.login_employee_id,is_affirm:e?0:1,tab_id:2};c.commonFun.setTrack("7263",this.trackCommon.info,i,this.trackCommon.backendApi)}},deep:!0}}};t.default=d}}]);