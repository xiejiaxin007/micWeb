(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-256b53ec"],{"09d4":function(e,t,i){(t=i("24fb")(!1)).push([e.i,".main-title[data-v-c9961e7a]{font-size:16px;font-weight:700;border-bottom:1px solid #eee;padding-bottom:10px;margin-bottom:20px}.view-box[data-v-c9961e7a]{background:#fff;margin-bottom:20px;padding:20px;font-size:14px}.view-box .s-query[data-v-c9961e7a]{overflow:hidden}.view-box .router-link[data-v-c9961e7a]{float:right;margin-top:-10px;margin-left:10px}.view-box .info-cell[data-v-c9961e7a]{font-weight:700;margin:10px 0}.view-box .voucher-box[data-v-c9961e7a]{border:2px dashed #eee;padding:0 10px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.view-box .voucher-box .voucher-con[data-v-c9961e7a]{-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:33%;min-width:33%;padding-right:20px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:15px 10px}.view-box .voucher-box .voucher-con .voucher-title[data-v-c9961e7a]{color:#555;font-weight:700;padding-bottom:10px}.view-box .voucher-box .voucher-con .voucher-info[data-v-c9961e7a]{clear:both;padding-top:5px}.view-box .voucher-box .voucher-con .operate-btn[data-v-c9961e7a]{float:right;margin-top:-5px}.view-box .voucher-box .voucher-con .voucher-imgs[data-v-c9961e7a]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.view-box .voucher-box .voucher-con .voucher-imgs li[data-v-c9961e7a]{height:80px;width:20%;overflow:hidden;padding:5px;-webkit-box-sizing:border-box;box-sizing:border-box}.view-box .voucher-box .voucher-con .voucher-imgs li img[data-v-c9961e7a]{border:1px solid #eee;width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.view-box .voucher-box .voucher-con .time-info[data-v-c9961e7a]{color:#666;padding-bottom:5px;word-break:break-all}.view-box .voucher-box .voucher-con .time-info span[data-v-c9961e7a]{padding-right:20px}.text-success[data-v-c9961e7a]{color:#67c23a}.text-danger[data-v-c9961e7a]{color:#f56c6c}.text-blue[data-v-c9961e7a]{color:#409eff;text-decoration:underline}.check-info[data-v-c9961e7a]{padding:20px 0 10px}.check-info .check-item[data-v-c9961e7a]{display:inline-block;padding-right:50px;padding-bottom:10px}.check-info *[data-v-c9961e7a]{word-break:break-all}.text-center[data-v-c9961e7a]{text-align:center;margin-top:20px}.pad-l[data-v-c9961e7a]{padding-left:20px}.margin-b[data-v-c9961e7a]{margin-bottom:10px}.audit-info[data-v-c9961e7a]{padding-left:20px}.audit-info .audit-title[data-v-c9961e7a]{font-weight:700;padding:10px 0;margin-left:-20px}",""]),e.exports=t},"15ed":function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={name:"ReportRecord",components:{WarnMsg:a(i("3e9a")).default},props:{info:{type:Object,default:function(){return{}}}}};t.default=o},"15fd":function(e,t,i){"use strict";i("a4d3"),i("c975"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)return{};var i,a,r=(0,o.default)(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r};var a,o=(a=i("ccb5"))&&a.__esModule?a:{default:a}},"1e0e":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:"审核有效性",visible:e.dialogVisble,"close-on-click-modal":!1,width:"800px",center:""},on:{"update:visible":function(t){e.dialogVisble=t},close:e.cancel}},[i("el-form",{ref:"auditForm",attrs:{model:e.auditForm,"label-width":"80px"}},[i("el-form-item",{attrs:{prop:"result",label:"审核结果",rules:[{required:!0,message:"请选择",trigger:"change"}]}},[i("el-radio-group",{model:{value:e.auditForm.result,callback:function(t){e.$set(e.auditForm,"result",t)},expression:"auditForm.result"}},e._l(e.resultOpt,(function(t){return i("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1),"2"===e.auditForm.result?i("el-form-item",{attrs:{prop:"invalid_reason",label:"原因",rules:[{required:!0,message:"请选择",trigger:"change"}]}},[i("el-checkbox-group",{model:{value:e.auditForm.invalid_reason,callback:function(t){e.$set(e.auditForm,"invalid_reason",t)},expression:"auditForm.invalid_reason"}},e._l(e.invalidReasonOpt,(function(t){return i("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1):e._e(),"3"===e.auditForm.result?i("el-form-item",{attrs:{prop:"wait_reason",label:"原因",rules:[{required:!0,message:"请选择",trigger:"change"}]}},[i("el-checkbox-group",{model:{value:e.auditForm.wait_reason,callback:function(t){e.$set(e.auditForm,"wait_reason",t)},expression:"auditForm.wait_reason"}},e._l(e.waitReasonOpt,(function(t){return i("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.name))])})),1)],1):e._e(),"1"!==e.auditForm.result?i("el-form-item",{attrs:{prop:"remarks",label:"备注"}},[i("el-input",{attrs:{type:"textarea",placeholder:"不超过500字",maxlength:"500",autosize:{minRows:5,maxRows:10},resize:"none"},model:{value:e.auditForm.remarks,callback:function(t){e.$set(e.auditForm,"remarks",t)},expression:"auditForm.remarks"}})],1):e._e()],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.cancel}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)],1)},o=[]},2094:function(e,t,i){"use strict";i("2dcf")},2304:function(e,t,i){"use strict";i.r(t);var a=i("448d"),o=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t.default=o.a},"27d8":function(e,t,i){"use strict";i("864b")},"2dcf":function(e,t,i){var a=i("09d4");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i("499e").default)("34b3948b",a,!0,{sourceMap:!1,shadowMode:!1})},"2f4a":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"voucher-con"},[i("div",{staticClass:"voucher-title"},[e._v("咨询师App报备记录 "),i("el-tooltip",{attrs:{placement:"top"}},[i("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 认购、网签客户电话在认购时间前，在成交楼盘产生的报备信息 ")]),i("i",{staticClass:"el-icon-question",attrs:{"aria-hidden":"true"}})])],1),e.info.detail?i("div",{staticClass:"voucher-info"},[i("div",{staticClass:"el-alert"},[i("i",{staticClass:"el-alert__icon",class:"1"===e.info.detail.is_agreement?"el-icon-circle-check":"el-icon-circle-close"}),i("div",{staticClass:"el-alert__content"},[i("span",{staticClass:"el-alert__title"},[e._v("认购电话、网签电话"+e._s("1"===e.info.detail.is_agreement?"":"不")+"一致")])])]),i("div",[e._v("认购电话，共找到"+e._s(e.info.detail.subscribe_num)+"条报备记录 "),i("a",{staticClass:"pad-l",attrs:{href:e.info.detail.subscribe_report_url,target:"_blank",rel:"noopener noreferrer"}},[i("el-button",{attrs:{type:"text"}},[e._v("查看详情")])],1)]),"2"===e.info.detail.is_agreement?i("div",[e._v("网签电话，共找到"+e._s(e.info.detail.sign_num)+"条报备记录 "),i("a",{staticClass:"pad-l",attrs:{href:e.info.detail.sign_report_url,target:"_blank",rel:"noopener noreferrer"}},[i("el-button",{attrs:{type:"text"}},[e._v("查看详情")])],1)]):e._e()]):i("warn-msg",{attrs:{modalKey:e.info.key}})],1)},o=[]},"35cf":function(e,t,i){"use strict";i.r(t);var a=i("2f4a"),o=i("6e7e");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("9f2a");var n=i("2877"),s=Object(n.a)(o.default,a.a,a.b,!1,null,"8fa24466",null);t.default=s.exports},"3bfb":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o}));var a=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"voucher-info"},[t("div",{staticClass:"warn-msg el-alert"},[t("i",{staticClass:"el-alert__icon el-icon-warning-outline"}),t("div",{staticClass:"el-alert__content"},[t("span",{staticClass:"el-alert__title"},[this._v(this._s(this.msg))])])])])},o=[]},"3e9a":function(e,t,i){"use strict";i.r(t);var a=i("3bfb"),o=i("2304");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("7836");var n=i("2877"),s=Object(n.a)(o.default,a.a,a.b,!1,null,"494b589b",null);t.default=s.exports},"448d":function(e,t,i){"use strict";i("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={30:"未上传报备截图",39:"未找到报备记录",31:"未上传带看确认单",32:"未上传到访水印照片",34:"未上传缴费凭证",35:"未上传证明材料",36:"未上传标准的业绩确认单",37:"",38:"未标记回访情况"},o={props:{modalKey:{type:[String,Number],default:""}},computed:{msg:function(){var e=this.modalKey+"";return a[e]||"该模块暂无信息"}}};t.default=o},"45fc":function(e,t,i){"use strict";var a=i("23e7"),o=i("b727").some,r=i("a640"),n=i("ae40"),s=r("some"),l=n("some");a({target:"Array",proto:!0,forced:!s||!l},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"50db":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("23f7"),o={initStandard:function(e){return a.axios.get("/backend-api/expand/ex-commission-bill/init-create",{params:e})},updateStandard:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/update",e)},getStandardList:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/get-bill-select2-list",e)},createStandard:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/create",e)},getStandardData:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/list",e)},deleteStandard:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/delete",e)},getStandardInfo:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/detail",e)},getStandardHistoryInfo:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/history-detail",e)},getDealDetail:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/deal-detail",e)},updateReport:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/deal-detail-report-upload",e)},auditReport:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/deal-detail-report-audit",e)},customRevisit:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/deal-detail-return-visit",e)},checkDeal:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/deal-detail-check",e)},auditAvailability:function(e){return a.axios.post("/backend-api/expand/ex-commission-bill/audit-availability",e)},initAuditAvailability:function(){return a.axios.get("/backend-api/expand/ex-commission-bill/init-audit-availability")}};t.default=o},"521d":function(e,t,i){var a=i("82f7");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i("499e").default)("1491dc69",a,!0,{sourceMap:!1,shadowMode:!1})},"540a":function(e,t,i){(t=i("24fb")(!1)).push([e.i,".voucher-con .el-alert[data-v-8fa24466]{padding-left:0}.voucher-con .el-alert .el-alert__title[data-v-8fa24466]{font-size:14px;line-height:normal}.voucher-con .el-icon-circle-check[data-v-8fa24466]{color:#67c23a}.voucher-con .el-icon-circle-close[data-v-8fa24466]{color:#f56c6c}.voucher-con .pad-l[data-v-8fa24466]{padding-left:20px}.voucher-title[data-v-8fa24466]{color:#555;font-weight:700;padding-bottom:10px}",""]),e.exports=t},"6e7e":function(e,t,i){"use strict";i.r(t);var a=i("15ed"),o=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t.default=o.a},"76f7":function(e,t,i){"use strict";i.r(t);var a=i("ff73"),o=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t.default=o.a},7836:function(e,t,i){"use strict";i("521d")},"794d":function(e,t,i){"use strict";i.r(t);var a=i("c0c5"),o=i("f29c");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("27d8");var n=i("2877"),s=Object(n.a)(o.default,a.a,a.b,!1,null,"5f9a9b58",null);t.default=s.exports},"7d5f":function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-breadcrumb",{staticClass:"bread-crumb-box",attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",[i("a",{attrs:{href:"/"}},[e._v("首页")])]),i("el-breadcrumb-item",[i("a",{attrs:{href:e.info.prev_url,target:"_blank",rel:"noopener noreferrer"}},[e._v("回款管理页")])]),i("el-breadcrumb-item",[e._v(e._s(e.$route.meta.tit))])],1),i("div",{staticClass:"view-box"},[e.info.can_see?i("el-button",{staticClass:"router-link",attrs:{type:"primary"},on:{click:function(t){return e.toLink(e.info.bill_id)}}},[e._v("查看单据标准")]):e._e(),e.info.can_download?i("el-button",{staticClass:"router-link",attrs:{type:"primary"},on:{click:e.downLoad}},[e._v("下载全部")]):e._e(),i("div",{staticClass:"main-title"},[e._v(e._s(e.$route.meta.tit))]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("div",{staticClass:"info-cell"},[e._v("成交单ID："+e._s(e.id)+" "),i("a",{staticClass:"pad-l",attrs:{href:e.info.deal_url,target:"_blank",rel:"noopener noreferrer"}},[i("el-button",{attrs:{type:"text"}},[e._v("查看成交详情")])],1)]),e.reportRecord||e.reportScreenShot?[i("div",{staticClass:"info-cell"},[e._v("报备凭证")]),i("div",{staticClass:"voucher-box"},[e.reportRecord?i("report-record",{attrs:{info:e.reportRecord}}):e._e(),e.reportScreenShot?i("voucher-module",{attrs:{title:"报备截图",info:e.reportScreenShot,imgDomain:e.imgDomain},on:{showPreview:e.showPreview,updateReport:e.updateReport,rejectReport:e.rejectReport,passReport:e.passReport}}):e._e()],1)]:e._e(),e.lookVoucher?[i("div",{staticClass:"info-cell"},[e._v("带看凭证")]),i("div",{staticClass:"voucher-box"},e._l(e.lookVoucher,(function(t){return i("voucher-module",{key:t.key,attrs:{title:t.title,info:t,imgDomain:e.imgDomain},on:{showPreview:e.showPreview}})})),1)]:e._e(),e.dealVoucher||e.feeVoucher||e.proveMaterials?[i("div",{staticClass:"info-cell"},[e._v("交易凭证")]),i("div",{staticClass:"voucher-box"},[e.dealVoucher?e._l(e.dealVoucher,(function(t){return i("voucher-module",{key:t.key,attrs:{title:t.title,info:t,imgDomain:e.imgDomain},on:{showPreview:e.showPreview}})})):e._e(),e.feeVoucher?i("voucher-module",{attrs:{title:"缴费凭证",info:e.feeVoucher,imgDomain:e.imgDomain},on:{showPreview:e.showPreview}}):e._e(),e.proveMaterials?i("voucher-module",{attrs:{title:"证明材料",info:e.proveMaterials,imgDomain:e.imgDomain},on:{showPreview:e.showPreview}}):e._e()],2)]:e._e(),e.accountCheck||e.commissionContract||e.customersVisit?[i("div",{staticClass:"info-cell"},[e._v("业绩凭证")]),i("div",{staticClass:"voucher-box"},[e.accountCheck?i("voucher-module",{attrs:{title:"业绩确认单",info:e.accountCheck,imgDomain:e.imgDomain},on:{showPreview:e.showPreview}}):e._e(),e.commissionContract?i("div",{staticClass:"voucher-con"},[i("div",{staticClass:"voucher-title"},[e._v("结佣合同")]),e.commissionContract.detail?i("div",{staticClass:"voucher-info"},[i("div",{staticClass:"time-info"},[e._v("合同ID："+e._s(e.commissionContract.detail.contract_id))]),i("div",{staticClass:"time-info"},[e._v("合同进度： "),i("a",{staticClass:"text-blue",attrs:{href:e.commissionContract.detail.url,target:"_blank",rel:"noopener noreferrer"}},[e._v(e._s(e.commissionContract.detail.contract_status))])])]):e._e()]):e._e(),e.customersVisit?i("div",{staticClass:"voucher-con"},[i("div",{staticClass:"operate-btn"},[e.customersVisit.can_edit?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.auditVisit(e.key,e.index)}}},[e._v("修改")]):e._e()],1),i("div",{staticClass:"voucher-title"},[e._v("客户回访")]),e.customersVisit.detail?i("div",{staticClass:"voucher-info"},[i("div",{staticClass:"time-info"},[e._v("回访进度： "),1===e.customersVisit.detail.is_return_visit?i("span",{staticClass:"text-success"},[e._v("通过")]):e._e(),2===e.customersVisit.detail.is_return_visit?i("span",{staticClass:"text-danger"},[e._v("不通过")]):e._e()]),2===e.customersVisit.detail.is_return_visit?i("div",{staticClass:"time-info"},[e._v("不通过原因："+e._s(e.customersVisit.detail.return_visit_reason))]):e._e(),i("div",{staticClass:"time-info"},[e._v("最新修改："+e._s(e.customersVisit.detail.return_visit_datetime)+"，"+e._s(e.customersVisit.detail.return_visit_creator))])]):i("warn-msg",{attrs:{modalKey:38}})],1):e._e()],1)]:e._e(),e.validityData?i("div",{staticClass:"check-info audit-info"},[i("div",{staticClass:"audit-title"},[e._v("有效性审核记录")]),i("div",[i("span",{staticClass:"check-item"},[e._v("成交有效性："+e._s(e.validityData.audit_status_name))]),"0"!==e.validityData.audit_status?i("span",{staticClass:"check-item"},[e._v("审核人："+e._s(e.validityData.auditor||"---"))]):e._e(),"0"!==e.validityData.audit_status?i("span",{staticClass:"check-item"},[e._v("审核时间："+e._s(e.validityData.audit_datetime))]):e._e()]),"2"===e.validityData.audit_status||"3"===e.validityData.audit_status?i("div",[i("div",{staticClass:"margin-b"},[e._v("原因："+e._s(e.validityData.reason))]),i("div",[e._v("备注："+e._s(e.validityData.remarks))])]):e._e()]):e._e(),e.spotCheck&&e.spotCheck.is_bill_check?i("div",{staticClass:"check-info"},[i("div",[i("span",{staticClass:"check-item"},[e._v("抽查时间："+e._s(e.spotCheck.bill_check_datetime))]),i("span",{staticClass:"check-item"},[e._v("抽查人："+e._s(e.spotCheck.bill_check_creator||"---"))]),i("span",{staticClass:"check-item"},[e._v("抽查结果："+e._s(1===e.spotCheck.is_bill_check?"通过":"驳回"))])]),2===e.spotCheck.is_bill_check?i("div",[e._v("驳回原因："+e._s(e.spotCheck.bill_check_reason))]):e._e()]):e._e(),i("div",{staticClass:"text-center"},[e.spotCheck&&e.spotCheck.can_check?i("el-button",{attrs:{type:"primary"},on:{click:e.billCheck}},[e._v("单据抽查")]):e._e(),"1"===e.info.can_availability?i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.validVisible=!0}}},[e._v("审核有效性")]):e._e()],1)],2)],1),i("reject-dialog",{attrs:{title:"驳回",visible:e.rejectVisible,maxLength:100},on:{close:function(t){e.rejectVisible=!1},confirm:function(t){return e.checkReport(2,t)}}}),i("audit-dialog",{attrs:{title:e.auditDialog.title,visible:e.auditDialog.visible,label:e.auditDialog.label,radioGroup:e.auditDialog.radioGroup,rejectId:e.auditDialog.rejectId,maxLength:e.auditDialog.maxLength},on:{close:function(t){e.auditDialog.visible=!1},confirm:e.confirmSave}}),i("upload-img-dialog",{ref:"uploadImgDialog",attrs:{title:"报备截图",visible:e.updateVisible,limit:5,imgList:e.imgList},on:{close:function(t){e.updateVisible=!1},getImgs:e.getImgs}}),e.photoIsShow?i("jl-image-preview",{attrs:{showViewer:e.photoIsShow,currentIndex:e.currentIndex,urlList:e.previewUrl},on:{closeViewer:e.closeViewer}}):e._e(),i("audit-valid-dialog",{attrs:{visible:e.validVisible,info:e.validOptions},on:{close:function(t){e.validVisible=!1},confirm:e.confirmValid}})],1)},o=[]},"82f7":function(e,t,i){(t=i("24fb")(!1)).push([e.i,".warn-msg[data-v-494b589b]{color:#e6a23c;padding-left:0}.warn-msg .el-alert__title[data-v-494b589b]{font-size:14px;line-height:normal}",""]),e.exports=t},"864b":function(e,t,i){var a=i("ca93");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i("499e").default)("5edecf81",a,!0,{sourceMap:!1,shadowMode:!1})},"88a8":function(e,t,i){var a=i("540a");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i("499e").default)("d080c022",a,!0,{sourceMap:!1,shadowMode:!1})},"9b5d":function(e,t,i){"use strict";i.r(t);var a=i("c02b"),o=i("e1c8");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("9c9a");var n=i("2877"),s=Object(n.a)(o.default,a.a,a.b,!1,null,"66eafdd6",null);t.default=s.exports},"9c9a":function(e,t,i){"use strict";i("d6937")},"9f2a":function(e,t,i){"use strict";i("88a8")},a15b:function(e,t,i){"use strict";var a=i("23e7"),o=i("44ad"),r=i("fc6a"),n=i("a640"),s=[].join,l=o!=Object,c=n("join",",");a({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(r(this),void 0===e?",":e)}})},a769:function(e,t,i){"use strict";i.r(t);var a=i("1e0e"),o=i("af6c");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);var n=i("2877"),s=Object(n.a)(o.default,a.a,a.b,!1,null,null,null);t.default=s.exports},a930:function(e,t,i){"use strict";i.r(t);var a=i("7d5f"),o=i("76f7");for(var r in o)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(r);i("2094");var n=i("2877"),s=Object(n.a)(o.default,a.a,a.b,!1,null,"c9961e7a",null);t.default=s.exports},af6c:function(e,t,i){"use strict";i.r(t);var a=i("e032"),o=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t.default=o.a},b050:function(e,t,i){(t=i("24fb")(!1)).push([e.i,".upload-btn-box[data-v-66eafdd6]{padding-bottom:10px}.upload-btn-box .upload-btn[data-v-66eafdd6]{display:inline-block;margin-right:20px}.upload-btn-box .upload-tips[data-v-66eafdd6]{color:#888}.img-list[data-v-66eafdd6]{height:auto;overflow:hidden}.img-list li[data-v-66eafdd6]{position:relative;float:left;width:100px;height:100px;text-align:center;margin-right:12px;margin-bottom:10px;border:1px solid #eee}.img-list li .img-item-box[data-v-66eafdd6]{width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.img-list li .img-item-box img[data-v-66eafdd6]{max-width:100%;max-height:100%}.img-list li .img-name[data-v-66eafdd6]{position:absolute;bottom:0;left:0;right:0;display:-webkit-box;text-overflow:ellipsis;-webkit-line-clamp:1;-webkit-box-orient:vertical;background:rgba(0,0,0,.7);overflow:hidden;color:#fff;padding:0 4px;line-height:26px;font-size:12px;word-break:break-all}.img-list li .img-del[data-v-66eafdd6]{position:absolute;top:0;right:0;display:block;width:16px;height:16px;line-height:1;cursor:pointer}",""]),e.exports=t},c02b:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{attrs:{title:e.title,visible:e.dialogVisble,"close-on-click-modal":!1,width:"620px",center:""},on:{"update:visible":function(t){e.dialogVisble=t},close:e.cancel}},[i("el-form",{ref:"imgForm",attrs:{model:e.imgForm,rules:e.formRules}},[i("el-form-item",{attrs:{prop:"imgList"}},[i("div",{staticClass:"upload-btn-box"},[e.imgLimit?i("jl-file-upload",{ref:"fileUpload",staticClass:"upload-btn",attrs:{fileType:"jpg,png,jpeg",fileMaxSize:e.maxSize,upID:"imgUpload",isMulti:!0,limit:e.imgLimit,ossData:e.ossData},on:{beforeUpdate:e.beforeUpdate,getFileURL:e.getFileURL}},[i("el-button",{attrs:{type:"primary"}},[e._v("上传附件")])],1):e._e(),i("span",{staticClass:"upload-tips"},[e._v("可上传"+e._s(e.limit)+"张图片，仅限jpg，png和jpeg格式，单张不超过10M")])],1),e.imgForm.imgList.length>0?i("ul",{staticClass:"img-list"},e._l(e.imgForm.imgList,(function(t,a){return i("li",{key:t.file_path},[i("div",{staticClass:"img-item-box"},[i("img",{attrs:{src:t.file_path_full,alt:"图片凭证"}})]),t.fileName?i("div",{staticClass:"img-name"},[e._v(e._s(t.fileName))]):e._e(),i("i",{staticClass:"img-del iconfont iconicon-delete",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.delFile(a)}}})])})),0):e._e()])],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.cancel}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)],1)],1)},o=[]},c0c5:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return o}));var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"voucher-con"},[i("div",{staticClass:"operate-btn"},[e.info.can_edit?i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.updateReport(e.info.detail)}}},[e._v("修改")]):e._e(),e.info.can_approval?i("el-button",{attrs:{size:"small"},on:{click:e.rejectReport}},[e._v("驳回")]):e._e(),e.info.can_approval?i("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.passReport}},[e._v("通过")]):e._e()],1),i("div",{staticClass:"voucher-title"},[e._v(e._s(e.title))]),e.info.detail?i("div",{staticClass:"voucher-info"},[e.dealName?i("div",{staticClass:"time-info"},[e._v(e._s(e.dealName)+"姓名："+e._s(e.info.detail.customer_name))]):e._e(),e.dealName?i("div",{staticClass:"time-info"},[e._v(e._s(e.dealName)+"电话："+e._s(e.info.detail.customer_mobile))]):e._e(),e.pdfList&&e.pdfList.length?i("ul",{staticClass:"voucher-pdf"},e._l(e.pdfList,(function(t,a){return i("li",{key:"pdf_"+a},[i("a",{attrs:{href:e.imgDomain+t.file_url,target:"_blank",rel:"noopener noreferrer"}},[e._v(e._s(t.file_name))])])})),0):e._e(),e.imgList&&e.imgList.length?i("ul",{staticClass:"voucher-imgs"},e._l(e.imgList,(function(t,a){return i("li",{key:"img_"+a,on:{click:function(t){return e.showPreview(e.imgList,a)}}},[i("img",{attrs:{src:e.isFullImg(t)?t:e.imgDomain+t,alt:"图片"}})])})),0):e._e(),e.info.detail.newest_edit?i("div",{staticClass:"time-info"},[e._v("最新修改： "),e.info.detail.newest_edit.update_datetime?i("span",[e._v(e._s(e.info.detail.newest_edit.update_datetime))]):e._e(),e.info.detail.newest_edit.updator?i("span",[e._v(e._s(e.info.detail.newest_edit.updator))]):e._e()]):e._e(),e.info.detail.newest_approval&&e.info.detail.newest_approval.audit_status?i("div",{staticClass:"time-info"},[e._v("最新审核： "),e.info.detail.newest_approval.audit_datetime?i("span",[e._v(e._s(e.info.detail.newest_approval.audit_datetime))]):e._e(),e.info.detail.newest_approval.auditor?i("span",[e._v(e._s(e.info.detail.newest_approval.auditor))]):e._e(),e.info.detail.newest_approval.audit_status?i("span",[e._v(e._s(e.info.detail.newest_approval.audit_status))]):e._e()]):e._e(),e.info.detail.newest_approval&&e.info.detail.newest_approval.reject_reason?i("div",{staticClass:"text-danger"},[e._v("驳回原因："+e._s(e.info.detail.newest_approval.reject_reason))]):e._e()]):i("warn-msg",{attrs:{modalKey:e.info.key}})],1)},o=[]},c65e:function(e,t,i){"use strict";var a=i("4ea4");i("45fc"),i("a434"),i("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var o=a(i("1da1")),r=a(i("f946")),n={name:"upload-img-dialog",props:{title:{type:String,default:""},visible:{type:Boolean,default:!1},limit:{type:Number,default:5},maxSize:{type:String,default:"10mb"},imgList:{type:Array,default:function(){return[]}}},watch:{visible:function(e){this.dialogVisble=e},imgList:{handler:function(){this.imgForm.imgList=this.imgList,this.imgLimit=this.limit-this.imgList.length}}},data:function(){var e=this;return{dialogVisble:this.visible,imgLimit:this.limit,imgForm:{imgList:[]},formRules:{imgList:[{validator:function(t,i,a){0===e.imgForm.imgList.length?a(new Error):a()},message:"请选择图片"}]},ossData:{},photoIsShow:!1,previewUrl:[],uploadLoading:"",isSubmit:!1}},mounted:function(){this.getSignCode()},methods:{getSignCode:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var i,a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={cate:"commission"},t.prev=1,t.next=4,r.default.getSign(i);case 4:a=t.sent,0===(o=a.data).code&&(e.ossData=o.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},beforeUpdate:function(){this.uploadLoading=this.$loading({lock:!0,text:"请求中，请稍后",spinner:"el-icon-loading",customClass:"loading-default-box",background:"rgba(255, 255, 255, 0.8)"})},getFileURL:function(e){if(this.uploadLoading.close(),0!==e.length)for(var t=0;t<e.length;t++){var i={fileName:e[t].originName,file_path:e[t].upURL,file_path_full:e[t].fileURL};this.imgForm.imgList.some((function(i){return i.fileName===e[t].originName}))?this.$message("无法上传重复的凭证"):(this.imgForm.imgList.push(i),this.imgLimit--)}else this.$message("上传失败,请重新上传")},delFile:function(e){this.imgLimit++,this.imgForm.imgList.splice(e,1)},setSubmit:function(){this.isSubmit=!1},cancel:function(){this.$emit("close")},confirm:function(){var e=this;this.$refs.imgForm.validate(function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i){t.next=5;break}if(!e.isSubmit){t.next=3;break}return t.abrupt("return",!1);case 3:e.isSubmit=!0,e.$emit("getImgs",e.imgForm.imgList);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}};t.default=n},ca93:function(e,t,i){(t=i("24fb")(!1)).push([e.i,".voucher-box[data-v-5f9a9b58]{border:2px dashed #eee;padding:0 10px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.voucher-box .voucher-con[data-v-5f9a9b58]{-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:33%;min-width:33%;padding-right:20px;-webkit-box-sizing:border-box;box-sizing:border-box;padding:15px 10px}.voucher-box .voucher-con .voucher-title[data-v-5f9a9b58]{color:#555;font-weight:700;padding-bottom:10px}.voucher-box .voucher-con .voucher-info[data-v-5f9a9b58]{clear:both;padding-top:5px}.voucher-box .voucher-con .operate-btn[data-v-5f9a9b58]{float:right;margin-top:-5px}.voucher-box .voucher-con .voucher-pdf li[data-v-5f9a9b58]{display:block}.voucher-box .voucher-con .voucher-pdf li a[data-v-5f9a9b58]{color:#409eff}.voucher-box .voucher-con .voucher-imgs[data-v-5f9a9b58]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.voucher-box .voucher-con .voucher-imgs li[data-v-5f9a9b58]{height:80px;width:20%;overflow:hidden;padding:5px;-webkit-box-sizing:border-box;box-sizing:border-box}.voucher-box .voucher-con .voucher-imgs li img[data-v-5f9a9b58]{border:1px solid #eee;width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.voucher-box .voucher-con .time-info[data-v-5f9a9b58]{color:#666;padding-bottom:5px;word-break:break-all}.voucher-box .voucher-con .time-info span[data-v-5f9a9b58]{padding-right:20px}.text-danger[data-v-5f9a9b58]{color:#f56c6c}",""]),e.exports=t},ccb5:function(e,t,i){"use strict";i("c975"),i("b64b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)return{};var i,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)i=r[a],t.indexOf(i)>=0||(o[i]=e[i]);return o}},d6937:function(e,t,i){var a=i("b050");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i("499e").default)("1618ea4c",a,!0,{sourceMap:!1,shadowMode:!1})},e032:function(e,t,i){"use strict";var a=i("4ea4");i("a15b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("5530"));i("96cf");var r=a(i("1da1")),n={name:"audit-dialog",props:{visible:{type:Boolean,default:!1},info:{type:Object,default:function(){return{}}}},watch:{visible:function(e){this.dialogVisble=e}},computed:{waitReasonOpt:function(){return this.info.wait_reason||[]},invalidReasonOpt:function(){return this.info.invalid_reason||[]},resultOpt:function(){return this.info.result||[]}},data:function(){return{dialogVisble:this.visible,auditForm:{result:"1",invalid_reason:[],wait_reason:[],remarks:""}}},methods:{cancel:function(){this.$refs.auditForm.resetFields(),this.$emit("close")},confirm:function(){var e=this;this.$refs.auditForm.validate(function(){var t=(0,r.default)(regeneratorRuntime.mark((function t(i){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i&&(a=(0,o.default)((0,o.default)({},e.auditForm),{},{invalid_reason:e.auditForm.invalid_reason.join(","),wait_reason:e.auditForm.wait_reason.join(",")}),e.$emit("confirm",a));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}};t.default=n},e1c8:function(e,t,i){"use strict";i.r(t);var a=i("c65e"),o=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t.default=o.a},e54c:function(e,t,i){"use strict";var a=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"UploadImgDialog",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"VoucherModule",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"WarnMsg",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"AuditValidDialog",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"ReportRecord",{enumerable:!0,get:function(){return l.default}});var o=a(i("9b5d")),r=a(i("794d")),n=a(i("3e9a")),s=a(i("a769")),l=a(i("35cf"))},ef64:function(e,t,i){"use strict";var a=i("4ea4");i("4de4"),i("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={name:"VoucherModule",components:{WarnMsg:a(i("3e9a")).default},props:{title:{type:String,default:""},info:{type:Object,default:function(){return{}}},imgDomain:{type:String,default:""}},computed:{dealName:function(){return{3301:"排号",3302:"认购",3303:"草签",3304:"网签"}[Number(this.info.key)]||""},imgList:function(){var e=[],t=this.info.detail.file_list;if(36===Number(this.info.key)){t=this.info.detail.file_list_all;for(var i=0;i<t.length;i++)"1"===t[i].file_type&&e.push(t[i].file_url)}else e=t&&t.length>0?t:[];return e},pdfList:function(){var e=[];36===Number(this.info.key)&&(e=this.info.detail.file_list_all.filter((function(e){return"2"===e.file_type})));return e}},methods:{isFullImg:function(e){return/^(http|https):\/\/([\w.]+\/?)\S*$/.test(e)},showPreview:function(e,t){this.$emit("showPreview",{previewUrl:e,index:t})},updateReport:function(e){this.$emit("updateReport",e)},rejectReport:function(){this.$emit("rejectReport",!0)},passReport:function(){this.$emit("passReport",!0)}}};t.default=o},f29c:function(e,t,i){"use strict";i.r(t);var a=i("ef64"),o=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t.default=o.a},ff73:function(e,t,i){"use strict";var a=i("4ea4");i("d81d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(i("5530")),r=a(i("15fd"));i("96cf");var n=a(i("1da1")),s=a(i("50db")),l=i("2af9"),c=i("e54c"),d={components:{RejectDialog:l.RejectDialog,AuditDialog:l.AuditDialog,UploadImgDialog:c.UploadImgDialog,VoucherModule:c.VoucherModule,WarnMsg:c.WarnMsg,AuditValidDialog:c.AuditValidDialog,ReportRecord:c.ReportRecord},data:function(){return{imgDomain:"",spotCheck:{},validityData:{},info:{},reportScreenShot:{},reportRecord:{},lookVoucher:{},feeVoucher:{},proveMaterials:{},dealVoucher:{},accountCheck:{},commissionContract:{},customersVisit:{},id:"",loading:!1,imgList:[],updateVisible:!1,rejectVisible:!1,auditDialog:{id:"",visible:!1,title:"",label:"",radioGroup:[],rejectId:"",maxLength:100},photoIsShow:!1,previewUrl:[],currentIndex:0,validOptions:{},validVisible:!1,isSubmit:!1}},methods:{isFullImg:function(e){return/^(http|https):\/\/([\w.]+\/?)\S*$/.test(e)},showPreview:function(e){var t=this,i=e.previewUrl,a=e.index;this.photoIsShow=!0;var o=i.map((function(e){return t.isFullImg(e)?e:t.imgDomain+e}));this.previewUrl=o,this.currentIndex=a},closeViewer:function(){this.photoIsShow=!1,this.previewUrl=[]},downLoad:function(){window.location.href="/backend-api/expand/ex-commission-bill/download-deal-bill-img?deal_id="+this.id},toLink:function(e){var t=this.$router.resolve({path:"/contract/commissionInfo",query:{id:e}});window.open(t.href,"_blank").opener=null},initData:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var i,a,o,n,l,c,d,u,f,p,v,m,b,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,s.default.getDealDetail({deal_id:e.id});case 4:i=t.sent,a=i.data,o=a.code,n=a.msg,l=a.data,0===o?(c=l.img_domain,d=l.spot_check,u=l.availability_data,f=l.list,p=(0,r.default)(l,["img_domain","spot_check","availability_data","list"]),e.imgDomain=c,e.spotCheck=d,e.validityData=u,e.info=p,e.reportScreenShot=f[1].detail_list&&f[1].detail_list[30]?f[1].detail_list[30]:"",e.reportRecord=f[1].detail_list&&f[1].detail_list[39]?f[1].detail_list[39]:"",e.lookVoucher=f[2].detail_list?f[2].detail_list:"",v=f[3].detail_list,m=v[34],b=v[35],h=(0,r.default)(v,["34","35"]),e.feeVoucher=m,e.proveMaterials=b,e.dealVoucher=h||"",e.accountCheck=f[4].detail_list&&f[4].detail_list[36]?f[4].detail_list[36]:"",e.commissionContract=f[4].detail_list&&f[4].detail_list[37]?f[4].detail_list[37]:"",e.customersVisit=f[4].detail_list&&f[4].detail_list[38]?f[4].detail_list[38]:"","1"===p.can_availability&&e.auditValidity()):e.$message.error(n),e.loading=!1,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},updateReport:function(e){var t=this,i=[];e&&(i=e.file_list),i&&i.length>0&&(this.imgList=i.map((function(e){return{file_path:e,file_path_full:t.isFullImg(e)?e:t.imgDomain+e}}))),this.updateVisible=!0},getImgs:function(e){var t=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a,o,r,n,l,c,d;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=e.map((function(e){return e.file_path})),i.prev=1,o={deal_id:t.id,file_list:a},i.next=5,s.default.updateReport(o);case 5:r=i.sent,n=r.data,l=n.code,c=n.msg,d=n.data,0===l?(t.updateVisible=!1,t.updateModal("修改成功",d),t.$refs.uploadImgDialog.setSubmit()):(t.$message.error(c),t.$refs.uploadImgDialog.setSubmit()),i.next=16;break;case 13:i.prev=13,i.t0=i.catch(1),console.log(i.t0);case 16:case"end":return i.stop()}}),i,null,[[1,13]])})))()},rejectReport:function(){this.rejectVisible=!0},passReport:function(){this.checkReport(1)},checkReport:function(e,t){var i=this;return(0,n.default)(regeneratorRuntime.mark((function a(){var o,r,n,l,c,d;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o={deal_id:i.id,status:e},t&&(o.reject_reason=t),a.next=5,s.default.auditReport(o);case 5:r=a.sent,n=r.data,l=n.code,c=n.msg,d=n.data,0===l?1===e?i.updateModal("审核通过",d):(i.rejectVisible=!1,i.updateModal("驳回成功",d)):i.$message.error(c),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()},updateModal:function(e,t){this.$message({message:e,type:"success"}),this.$set(this,"reportScreenShot",t)},auditVisit:function(){this.auditDialog={id:"visit",visible:!0,title:"客户回访",label:"审核结果",radioGroup:[{value:1,name:"通过"},{value:2,name:"不通过"}],maxLength:100,rejectId:2}},billCheck:function(){this.auditDialog={id:"check",visible:!0,title:"单据抽查",label:"单据全部达标",radioGroup:[{value:1,name:"通过"},{value:2,name:"驳回"}],maxLength:200,rejectId:2}},confirmSave:function(e){var t={deal_id:this.id,status:e.audit,reject_reason:e.reason};"check"===this.auditDialog.id?this.checkDeal(t):this.customRevisit(t)},checkDeal:function(e){var t=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a,o,r,n,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,s.default.checkDeal(e);case 3:a=i.sent,o=a.data,r=o.code,n=o.msg,l=o.data,0===r?(t.auditDialog.visible=!1,t.spotCheck=l):t.$message.error(n),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(0),console.log(i.t0);case 14:case"end":return i.stop()}}),i,null,[[0,11]])})))()},customRevisit:function(e){var t=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a,o,r,n,l;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,s.default.customRevisit(e);case 3:a=i.sent,o=a.data,r=o.code,n=o.msg,l=o.data,0===r?(t.auditDialog.visible=!1,t.$message({message:"审核成功",type:"success"}),t.$set(t,"customersVisit",l)):t.$message.error(n),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(0),console.log(i.t0);case 14:case"end":return i.stop()}}),i,null,[[0,11]])})))()},auditValidity:function(){var e=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var i,a,o,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.default.initAuditAvailability();case 3:i=t.sent,a=i.data,o=a.code,r=a.msg,n=a.data,0===o?e.validOptions=n:e.$message.error(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},confirmValid:function(e){var t=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a,r,n,l,c,d;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.isSubmit){i.next=2;break}return i.abrupt("return",!1);case 2:return t.isSubmit=!0,i.prev=3,a=(0,o.default)({deal_id:t.id},e),i.next=7,s.default.auditAvailability(a);case 7:r=i.sent,n=r.data,l=n.code,c=n.msg,d=n.data,0===l?(t.$message({message:"审核成功",type:"success"}),t.validVisible=!1,t.validityData=d.availability_data,t.info.can_availability=d.can_availability,t.isSubmit=!1):(t.$message.error(c),t.isSubmit=!1),i.next=19;break;case 15:i.prev=15,i.t0=i.catch(3),t.isSubmit=!1,console.log(i.t0);case 19:case"end":return i.stop()}}),i,null,[[3,15]])})))()}},mounted:function(){this.id=this.$route.query.id,this.initData()}};t.default=d}}]);