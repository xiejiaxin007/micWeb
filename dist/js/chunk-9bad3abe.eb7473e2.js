(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9bad3abe"],{"03eb":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("23f7"),o={getCityListData:function(t){return a.axios.get("/backend-api/common/get-city-list",{params:t})},getBuildNameData:function(t){return a.axios.get("/backend-api/project/project-group/get-project-dropdown-list",{params:t})},getCompetingPhotoData:function(t){return a.axios.get("/backend-api/project/bd-project-img/get-imgs-by-group-id",{params:t})},getJulivePhotoData:function(t){return a.axios.get("/backend-api/project/cj-project-img/get-imgs-by-group-id",{params:t})},getGeneraInfoData:function(t){return a.axios.post("/backend-api/common/get-project-config",t)},getPhotoAuditData:function(t){return a.axios.post("/backend-api/project/project-img-audit/audit",t)},closeTaskData:function(t){return a.axios.get("/backend-api/project/cj-project-img/close-task",{params:t})},getDistrictInfoData:function(t){return a.axios.get("/backend-api/common/get-district-list",{params:t})},getProjectTypeData:function(t){return a.axios.get("/backend-api/common/get-project-type-list",{params:t})}};e.default=o},"26f5":function(t,e,i){"use strict";var a=i("4ea4");i("4de4"),i("4160"),i("a9e3"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=a(i("2909"));i("96cf");var n=a(i("1da1")),s=a(i("03eb")),r={props:{searchList:{type:Object,default:function(){return{}}},refalsh:{type:Number,default:0},currentPage:{type:Number,dafault:1}},watch:{searchList:function(t){this.buildingAudit.isHavePre=!1,this.$route.query.project_id&&this.$route.query.city_id&&(t.project_id=this.$route.query.project_id,t.city_id=this.$route.query.city_id),this.getCompetingPhotoInfo(t),this.getJulivePhotoInfo(t)},refalsh:function(t){this.getCompetingPhotoInfo(),this.getJulivePhotoInfo()},currentPage:function(t){this.julivePageination.currentPage=1,this.competingPageination.currentPage=1},deep:!0},data:function(){return{PhotoIsShow:!1,propertyGroupId:0,competingPhotoData:[],julivePhotoData:[],urlList:[],competingPageination:{totalNum:0,pageSize:30,startNum:0,endNum:0,competingDataShow:!0,currentPage:1},julivePageination:{totalNum:0,pageSize:20,startNum:0,endNum:0,juliveDataShow:!0,currentPage:1},buildingAudit:{projectName:"",isHavePre:!1,isHaveNext:!1,buildingNum:0,unAuditNum:0,someAuditNum:0,allAuditNum:0},juliveId:"",competHouseArr:[],juliveHouseArr:[],isAuditSuccessCompeting:!0,isAuditSuccessJulive:!0,isAuditPassJulive:!0,isAuditPassCompeting:!0,juliveAuditText:"",competingAuditText:"",objStatus:{1:[!0,!0,"未审核"],2:[!1,!0,"审核通过"],3:[!0,!1,"审核不通过"]},iscloseBtnShow:!0,batchPassBtnLoading:!1,batchNoBtnLoading:!1}},mounted:function(){this.closeIsShow(),this.juliveDataShow(),this.competingDataShow()},updated:function(){this.competingDataShow(this.competingPageination.currentPage),this.juliveDataShow(this.julivePageination.currentPage)},methods:{juliveDataShow:function(t){this.julivePageination.totalNum>0?(this.julivePageination.juliveDataShow=!0,t?(this.julivePageination.startNum=1===t?1:20*(t-1)+1,this.julivePageination.endNum=Math.ceil(this.julivePageination.totalNum/this.julivePageination.pageSize)===t?this.julivePageination.totalNum:20*t):(this.julivePageination.startNum=1,this.julivePageination.endNum=20)):this.julivePageination.juliveDataShow=!1},competingDataShow:function(t){this.competingPageination.totalNum>0?(this.competingPageination.competingDataShow=!0,t?(this.competingPageination.startNum=1===t?1:30*(t-1)+1,this.competingPageination.endNum=Math.ceil(this.competingPageination.totalNum/this.competingPageination.pageSize)===t?this.competingPageination.totalNum:30*t):(this.competingPageination.startNum=1,this.competingPageination.endNum=30)):this.competingPageination.competingDataShow=!1},closeIsShow:function(){this.$route.query.task_state?this.iscloseBtnShow=!0:this.iscloseBtnShow=!1},nextProjectInfo:function(){this.buildingAudit.isHavePre=!0,this.searchList.prev="",this.searchList.next=1,this.searchList.id=this.propertyGroupId,this.getCompetingPhotoInfo(this.searchList),this.getJulivePhotoInfo(this.searchList)},preProjectInfo:function(){this.searchList.prev=1,this.searchList.next="",this.searchList.id=this.propertyGroupId,this.getCompetingPhotoInfo(this.searchList),this.getJulivePhotoInfo(this.searchList)},pageChange:function(t,e){this.searchList.page=t,this.searchList.id=this.propertyGroupId,"competing"===e?this.getCompetingPhotoInfo(this.searchList):"julive"===e&&(this.searchList.project_id=this.juliveId,this.getJulivePhotoInfo(this.searchList),this.dataType="julive")},closeTask:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={project_id:t.juliveId},e.prev=1,e.next=4,s.default.closeTaskData(i);case 4:a=e.sent,0===a.data.code&&(t.iscloseBtnShow=!1,t.searchList.project_id=t.$route.query.project_id,t.searchList.city_id=t.$route.query.city_id,t.getCompetingPhotoInfo(t.searchList),t.getJulivePhotoInfo(t.searchList),t.$router.push({path:"/review/photoReview",query:{city_id:t.$route.query.city_id,project_id:t.$route.query.project_id}})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},passAudit:function(t,e,i,a,o){var r=this;return(0,n.default)(regeneratorRuntime.mark((function n(){var c,u,l,h,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u={},(c=[]).push(t+"_"+e),l=r.$route.query,"success"===a?u={id:r.propertyGroupId,img_ids:c,audit_status:2,project_id:o.project_id?l.project_id:""}:"pass"===a&&(u={id:r.propertyGroupId,img_ids:c,audit_status:3,project_id:o.project_id?l.project_id:""}),n.prev=5,n.next=8,s.default.getPhotoAuditData(u);case 8:h=n.sent,0===(d=h.data).code&&("success"===a?"julive"!==i&&"competing"!==i||r.$set(o,"audit_status","2"):"pass"===a&&("julive"!==i&&"competing"!==i||r.$set(o,"audit_status","3")),1===d.data.is_refresh&&(r.iscloseBtnShow=!1,l.city_id&&(r.searchList.city_id=l.city_id,r.searchList.project_id=l.project_id,r.getCompetingPhotoInfo(r.searchList),r.getJulivePhotoInfo(r.searchList)))),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(5),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[5,13]])})))()},batchPassAudit:function(t){var e=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a,o,n,r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e.batchPassBtnLoading=!0,a={},o=e.$route.query,"success"===t?a={id:e.propertyGroupId,img_ids:e.houseIdCheck(),audit_status:2,project_id:o.project_id?o.project_id:""}:"pass"===t&&(a={id:e.propertyGroupId,img_ids:e.houseIdCheck(),audit_status:3,project_id:o.project_id?o.project_id:""}),i.prev=4,i.next=7,s.default.getPhotoAuditData(a);case 7:n=i.sent,0===(r=n.data).code?(e.batchPassBtnLoading=!1,e.getCompetingPhotoInfo(e.searchList),e.getJulivePhotoInfo(e.searchList),e.$message({message:"审核完成",type:"success"}),1===r.data.is_refresh&&(e.iscloseBtnShow=!1,e.$router.push({path:"/review/photoReview",query:{city_id:e.$route.query.city_id,project_id:e.$route.query.project_id}}))):1012===r.code?e.batchPassBtnLoading=!1:(e.batchPassBtnLoading=!1,e.$message({message:"当前无可操作的数据",type:"warning"})),i.next=16;break;case 12:i.prev=12,i.t0=i.catch(4),e.batchPassBtnLoading=!1,console.log(i.t0);case 16:case"end":return i.stop()}}),i,null,[[4,12]])})))()},houseIdCheck:function(){var t=[];return this.competHouseArr.forEach((function(e){e.img_list.filter((function(e){"1"===e.audit_status&&t.push(e.source+"_"+e.id)}))})),t},getCompetingPhotoInfo:function(t){var e=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a,n,r,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a={},t&&(a=t),i.prev=2,i.next=5,s.default.getCompetingPhotoData(a);case 5:n=i.sent,0===(r=n.data).code&&(e.competingPhotoData=r.data.img_data,e.competingPageination.totalNum=r.data.total,e.buildingAudit.projectName=r.data.project_name,e.buildingAudit.isHaveNext=0!==r.data.is_have_next,e.buildingAudit.buildingNum=r.data.audit_total,e.buildingAudit.unAuditNum=r.data.audit_not,e.buildingAudit.someAuditNum=r.data.audit_part,e.buildingAudit.allAuditNum=r.data.audit_yes,e.propertyGroupId=r.data.id,e.competHouseArr=[],r.data.img_data&&r.data.img_data.length>0&&(c=e.competHouseArr).push.apply(c,(0,o.default)(r.data.img_data))),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(2),console.log(i.t0);case 13:case"end":return i.stop()}}),i,null,[[2,10]])})))()},getJulivePhotoInfo:function(t){var e=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a,n,r,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a={},t&&(a=t),i.prev=2,i.next=5,s.default.getJulivePhotoData(a);case 5:n=i.sent,0===(r=n.data).code&&(e.julivePhotoData=r.data.img_data,e.julivePageination.totalNum=r.data.total,e.juliveId=r.data.project_id,e.JuliveHouseArr=[],r.data.img_data&&r.data.img_data.length>0&&(c=e.JuliveHouseArr).push.apply(c,(0,o.default)(r.data.img_data))),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(2),console.log(i.t0);case 13:case"end":return i.stop()}}),i,null,[[2,10]])})))()},openPhotoViewer:function(t){this.urlList=[],this.urlList.push(t),this.PhotoIsShow=!0},closeViewer:function(t){document.body.style.overflow="auto",this.PhotoIsShow=t}}};e.default=r},"59a6":function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-box"},[i("div",{staticClass:"build-box clear-float"},[i("div",{staticClass:"building-left-box"},[i("p",{staticClass:"font-box"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.buildingAudit.isHavePre,expression:"buildingAudit.isHavePre"}],attrs:{type:"text"},on:{click:t.preProjectInfo}},[t._v(" 上一个楼盘 ")]),i("span",[t._v("当前审核楼盘: "+t._s(t.buildingAudit.projectName))]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.buildingAudit.isHaveNext,expression:"buildingAudit.isHaveNext"}],attrs:{type:"text"},on:{click:t.nextProjectInfo}},[t._v(" 下一个楼盘 ")])],1),i("p",[t._v("共"+t._s(t.buildingAudit.buildingNum)+"个楼盘，未审核"+t._s(t.buildingAudit.unAuditNum)+"个，部分审核"+t._s(t.buildingAudit.someAuditNum)+"个，全部审核"+t._s(t.buildingAudit.allAuditNum)+"个")])]),i("div",{staticClass:"building-right-box"},[i("p",{staticClass:"btn-box"},[t.iscloseBtnShow?i("el-button",{attrs:{type:"primary"},on:{click:t.closeTask}},[t._v(" 关闭任务 ")]):t._e(),i("span",[t._v("批量操作：")]),i("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.batchPassBtnLoading,expression:"batchPassBtnLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"success"},on:{click:function(e){return t.batchPassAudit("success")}}},[t._v(" 批量通过 ")]),i("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.batchNoBtnLoading,expression:"batchNoBtnLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"danger"},on:{click:function(e){return t.batchPassAudit("pass")}}},[t._v(" 批量不通过 ")])],1),i("p",{staticClass:"font-style"},[t._v("批量操作只对未审核状态的数据有效")])])]),i("div",{staticClass:"photo-show-area clear-float"},[i("div",{staticClass:"competing-photo-area"},[t.competingPageination.totalNum>0?i("div",t._l(t.competingPhotoData,(function(e,a){return i("div",{key:a,staticClass:"photo-continaer"},[i("h2",[t._v(t._s(e.img_type))]),i("div",{staticClass:"img-box clear-float"},[i("ul",t._l(e.img_list,(function(e){return i("li",{key:e.id},[i("p",{staticClass:"text-content clear-float"},[i("span",[t._v("数据源："+t._s(e.source_text)+" (")]),i("span",{staticClass:"no-warp"},[t._v(t._s(e.project_name)+")")])]),i("span",{directives:[{name:"show",rawName:"v-show",value:1===e.is_task,expression:"imgUrl.is_task === 1 ? true : false"}],staticClass:"font-position"},[t._v("新")]),i("el-image",{staticStyle:{width:"240px",height:"180px",border:"1px solid #f5f4f4","margin-right":"10px"},attrs:{src:e.img_url_show,fit:"scale-down",alt:e.title},on:{click:function(i){return t.openPhotoViewer(e.img_url_show)}}}),i("p",{staticClass:"audit-result"},[i("span",[t._v("审核结果: "+t._s(t.objStatus[e.audit_status][2]))]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.objStatus[e.audit_status][0],expression:"objStatus[imgUrl.audit_status][0]"}],attrs:{size:"mini",type:"success"},on:{click:function(i){return t.passAudit(e.source,e.id,"competing","success",e)}}},[t._v(" 通过 ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.objStatus[e.audit_status][1],expression:"objStatus[imgUrl.audit_status][1]"}],attrs:{size:"mini",type:"danger"},on:{click:function(i){return t.passAudit(e.source,e.id,"competing","pass",e)}}},[t._v(" 不通过 ")])],1)],1)})),0)])])})),0):i("div",{staticClass:"no-photo-info"},[i("h2",[t._v("当前条件下无图片信息")])]),t.competingPageination.competingDataShow?i("p",{staticClass:"data-show-style"},[t._v(" 第"+t._s(t.competingPageination.startNum)+"-"+t._s(t.competingPageination.endNum)+",共"+t._s(t.competingPageination.totalNum)+"条数据 ")]):t._e(),i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.competingPageination.totalNum,"page-size":t.competingPageination.pageSize,"hide-on-single-page":!0,"current-page":t.competingPageination.currentPage},on:{"update:currentPage":function(e){return t.$set(t.competingPageination,"currentPage",e)},"update:current-page":function(e){return t.$set(t.competingPageination,"currentPage",e)},"current-change":function(e){return t.pageChange(e,"competing")}}})],1),i("div",{staticClass:"competing-photo-area julive-photo-area"},[t.julivePageination.totalNum>0?i("div",t._l(t.julivePhotoData,(function(e,a){return i("div",{key:a,staticClass:"photo-continaer"},[i("h2",[t._v(t._s(e.img_type))]),i("div",{staticClass:"img-box clear-float"},[i("ul",t._l(e.img_list,(function(e){return i("li",{key:e.id},[i("p",{staticClass:"text-content clear-float"},[i("span",[t._v("数据源："+t._s(e.source_text)+" (")]),i("span",{staticClass:"no-warp"},[t._v(t._s(e.project_name)+")")])]),i("el-image",{staticStyle:{width:"240px",height:"180px",border:"1px solid #f5f4f4","margin-right":"10px"},attrs:{src:e.img_url_show,fit:"scale-down",alt:e.title},on:{click:function(i){return t.openPhotoViewer(e.img_url_show)}}}),i("p",{staticClass:"audit-result"},[i("span",[t._v("审核结果: "+t._s(t.objStatus[e.audit_status][2]))]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.objStatus[e.audit_status][0],expression:"objStatus[imgUrl.audit_status][0]"}],attrs:{size:"mini",type:"success"},on:{click:function(i){return t.passAudit(e.source,e.id,"julive","success",e)}}},[t._v(" 通过 ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.objStatus[e.audit_status][1],expression:"objStatus[imgUrl.audit_status][1]"}],attrs:{size:"mini",type:"danger"},on:{click:function(i){return t.passAudit(e.source,e.id,"julive","pass",e)}}},[t._v(" 不通过 ")])],1)],1)})),0)])])})),0):i("div",{staticClass:"no-photo-info"},[i("h2",[t._v("当前条件下无图片信息")])]),i("p",{directives:[{name:"show",rawName:"v-show",value:t.julivePageination.juliveDataShow,expression:"julivePageination.juliveDataShow"}],staticClass:"data-show-style"},[t._v(" 第"+t._s(t.julivePageination.startNum)+"-"+t._s(t.julivePageination.endNum)+",共"+t._s(t.julivePageination.totalNum)+"条数据 ")]),i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.julivePageination.totalNum,"page-size":t.julivePageination.pageSize,"hide-on-single-page":!0,"current-page":t.julivePageination.currentPage},on:{"update:currentPage":function(e){return t.$set(t.julivePageination,"currentPage",e)},"update:current-page":function(e){return t.$set(t.julivePageination,"currentPage",e)},"current-change":function(e){return t.pageChange(e,"julive")}}})],1),t.PhotoIsShow?i("jl-image-preview",{attrs:{showViewer:t.PhotoIsShow,urlList:t.urlList},on:{closeViewer:t.closeViewer}}):t._e()],1)])},o=[]},"5deb":function(t,e,i){(e=i("24fb")(!1)).push([t.i,'.build-box[data-v-917e0478]{width:100%;background:#ebebeb}.build-box .building-left-box[data-v-917e0478]{float:left;font-size:14px;color:#666;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box}.build-box .building-left-box .font-box[data-v-917e0478]{margin:10px 0 12px}.build-box .building-right-box[data-v-917e0478]{float:right;font-size:14px;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box;color:#666}.build-box .building-right-box .btn-box[data-v-917e0478]{margin:10px 0}.build-box .building-right-box .font-style[data-v-917e0478]{float:right;margin-right:74px}.photo-show-area[data-v-917e0478]{margin-top:20px;display:-webkit-box;display:-ms-flexbox;display:flex}.photo-show-area .competing-photo-area[data-v-917e0478]{width:764px}.photo-show-area .competing-photo-area .photo-continaer[data-v-917e0478]{margin-top:30px}.photo-show-area .competing-photo-area .photo-continaer h3[data-v-917e0478]{margin-bottom:10px}.photo-show-area .competing-photo-area .photo-continaer .img-box li[data-v-917e0478]{float:left;position:relative;margin-top:20px}.photo-show-area .competing-photo-area .photo-continaer .img-box li .font-position[data-v-917e0478]{position:absolute;top:20;left:0;width:20px;height:20px;border-radius:2px;background:#92aef7;color:#fff;text-align:center;z-index:2}.photo-show-area .competing-photo-area .photo-continaer .img-box li .text-content[data-v-917e0478]{margin-bottom:10px;color:#666}.photo-show-area .competing-photo-area .photo-continaer .img-box li .text-content span[data-v-917e0478]{float:left}.photo-show-area .competing-photo-area .photo-continaer .img-box li .text-content .no-warp[data-v-917e0478]{width:150px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.photo-show-area .competing-photo-area .photo-continaer .img-box li .audit-result[data-v-917e0478]{margin-top:10px}.photo-show-area .competing-photo-area .photo-continaer .img-box li .audit-result[data-v-917e0478] .el-button{margin-left:10px}.photo-show-area .julive-photo-area[data-v-917e0478]{-webkit-box-flex:1;-ms-flex:1;flex:1}.photo-show-area .no-photo-info[data-v-917e0478]{width:100%}.photo-show-area .no-photo-info h2[data-v-917e0478]{text-align:center}.photo-show-area .data-show-style[data-v-917e0478]{font-size:14px;margin-top:20px}.photo-show-area[data-v-917e0478] .el-pagination{margin:40px 0;text-align:center}.clear-float[data-v-917e0478]:after{display:block;clear:both;height:0;content:"";visibility:hidden;overflow:hidden}',""]),t.exports=e},"5f62":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={pagesSelect:[{url:"/dist/review/photoReview",text:"图片审核"},{url:"/index.php?r=bd-project-dongtai/index",text:"楼盘动态审核"},{url:"/index.php?r=bd-project-comment%2Findex",text:"用户评论审核"}]};e.default=a},6340:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"collocation-wrap"},[i("el-breadcrumb",{staticClass:"bread-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",[i("a",{attrs:{href:"/"}},[t._v("首页")])]),i("el-breadcrumb-item",[t._v(" 人工审核 ")])],1),i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.urlChange},model:{value:t.pageVal,callback:function(e){t.pageVal=e},expression:"pageVal"}},t._l(t.pageOptions,(function(t){return i("el-option",{key:t.url,attrs:{label:t.text,value:t.url}})})),1),i("div",{staticClass:"content-box"},[t._m(0),i("div",{staticClass:"search-box"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.searchForm}},[i("el-form-item",{attrs:{label:"城市:"}},[i("el-select",{attrs:{placeholder:"请选择城市",filterable:""},on:{change:t.cityValChange,focus:t.blurGetCity},model:{value:t.searchForm.cityVal,callback:function(e){t.$set(t.searchForm,"cityVal",e)},expression:"searchForm.cityVal"}},t._l(t.searchForm.cityOpations,(function(t){return i("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"是否合作:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.searchForm.isComblen,callback:function(e){t.$set(t.searchForm,"isComblen",e)},expression:"searchForm.isComblen"}},t._l(t.searchForm.isComblenOpations,(function(t){return i("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"楼盘名称:"}},[i("el-select",{attrs:{placeholder:"请选择","value-key":"project_id",filterable:"",remote:"",clearable:"","remote-method":t.remoteBuildName,loading:t.searchLoading},on:{focus:t.projectFocus},model:{value:t.searchForm.buildName,callback:function(e){t.$set(t.searchForm,"buildName",e)},expression:"searchForm.buildName"}},t._l(t.searchForm.buildOpations,(function(t,e){return i("el-option",{key:e,attrs:{label:t.text,value:t}})})),1)],1),i("el-form-item",{attrs:{label:"区域:"}},[i("el-select",{attrs:{placeholder:"请选择",multiple:"",filterable:""},on:{focus:t.blurDistrictInfo},model:{value:t.searchForm.areaName,callback:function(e){t.$set(t.searchForm,"areaName",e)},expression:"searchForm.areaName"}},t._l(t.searchForm.areaOpations,(function(t){return i("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1),i("el-form-item",{attrs:{label:"业态:"}},[i("el-select",{attrs:{placeholder:"请选择",multiple:"",filterable:""},on:{focus:t.focusBusinessInfo},model:{value:t.searchForm.businessName,callback:function(e){t.$set(t.searchForm,"businessName",e)},expression:"searchForm.businessName"}},t._l(t.searchForm.businessOpations,(function(t){return i("el-option",{key:t.id,attrs:{label:t.text,value:t.id}})})),1)],1)],1),i("div",{staticClass:"check-box"},[i("el-form",{attrs:{"label-width":"130px"}},[i("el-form-item",{attrs:{label:"楼盘组审核状态："}},[i("el-checkbox",{on:{change:function(e){return t.handleCheckAllChange(e,"build")}},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v(" 不限 ")]),i("el-checkbox-group",{on:{change:function(e){return t.handleSingleChange(e,"build")}},model:{value:t.checkedCities,callback:function(e){t.checkedCities=e},expression:"checkedCities"}},t._l(t.buildCities,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(" "+t._s(e.text)+" ")])})),1)],1),i("el-form-item",{attrs:{label:"图片审核结果："}},[i("el-checkbox",{on:{change:function(e){return t.handleCheckAllChange(e,"photoAudit")}},model:{value:t.photoCheckAll,callback:function(e){t.photoCheckAll=e},expression:"photoCheckAll"}},[t._v(" 不限 ")]),i("el-checkbox-group",{on:{change:function(e){return t.handleSingleChange(e,"photoAudit")}},model:{value:t.photoAudioCities,callback:function(e){t.photoAudioCities=e},expression:"photoAudioCities"}},t._l(t.photosCities,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(" "+t._s(e.text)+" ")])})),1)],1),i("el-form-item",{attrs:{label:"图片类型："}},[i("el-checkbox",{on:{change:function(e){return t.handleCheckAllChange(e,"photoTypes")}},model:{value:t.photoTypesAll,callback:function(e){t.photoTypesAll=e},expression:"photoTypesAll"}},[t._v(" 不限 ")]),i("el-checkbox-group",{on:{change:function(e){return t.handleSingleChange(e,"photoTypes")}},model:{value:t.photoTypecCheckCities,callback:function(e){t.photoTypecCheckCities=e},expression:"photoTypecCheckCities"}},t._l(t.photoTypesCitites,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(" "+t._s(e.text)+" ")])})),1)],1),i("el-form-item",{attrs:{label:"数据源："}},[i("el-checkbox",{on:{change:function(e){return t.handleCheckAllChange(e,"resourceOrigin")}},model:{value:t.resouceAll,callback:function(e){t.resouceAll=e},expression:"resouceAll"}},[t._v(" 不限 ")]),i("el-checkbox-group",{on:{change:function(e){return t.handleSingleChange(e,"resourceOrigin")}},model:{value:t.resourceCheckCities,callback:function(e){t.resourceCheckCities=e},expression:"resourceCheckCities"}},t._l(t.resourceOriginCities,(function(e){return i("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(" "+t._s(e.text)+" ")])})),1)],1)],1),i("div",{staticClass:"btn-box"},[i("el-button",{on:{click:t.resetSearch}},[t._v("重置")]),i("el-button",{attrs:{type:"primary"},on:{click:t.searchMethod}},[t._v(" 搜索 ")])],1)],1)],1)]),i("photo-list-show",{attrs:{searchList:t.searchList,refalsh:t.refalsh,currentPage:t.currentPage}})],1)},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"photo-review-border"},[e("h2",[this._v("图片审核")])])}]},"6cbc":function(t,e,i){var a=i("5deb");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i("499e").default)("0af7e7f4",a,!0,{sourceMap:!1,shadowMode:!1})},9199:function(t,e,i){"use strict";i.r(e);var a=i("26f5"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e.default=o.a},a1f0:function(t,e,i){(e=i("24fb")(!1)).push([t.i,".collocation-wrap[data-v-7d74d034]{width:100%;padding:20px 0 0 20px;margin:0 auto;-webkit-box-sizing:border-box;box-sizing:border-box}.collocation-wrap .bread-nav[data-v-7d74d034]{margin-bottom:20px}.collocation-wrap .content-box[data-v-7d74d034]{width:100%;background:#fff;margin-top:20px;padding:20px 20px 20px 30px;-webkit-box-sizing:border-box;box-sizing:border-box}.collocation-wrap .content-box .photo-review-border[data-v-7d74d034]{border-bottom:1px solid #ccc;padding-bottom:10px;-webkit-box-sizing:border-box;box-sizing:border-box}.collocation-wrap .content-box .search-box[data-v-7d74d034]{margin-top:20px}.collocation-wrap .content-box .search-box[data-v-7d74d034] .el-form--inline .el-form-item{margin-right:100px}.collocation-wrap .content-box .search-box .check-box[data-v-7d74d034] .el-checkbox-group{display:inline-block;margin-left:20px}.collocation-wrap .content-box .search-box .check-box[data-v-7d74d034] .el-form-item{margin-bottom:0}.collocation-wrap .content-box .search-box .check-box[data-v-7d74d034] .el-form-item__content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.collocation-wrap .content-box .search-box .btn-box[data-v-7d74d034]{text-align:center;margin-top:20px}.collocation-wrap .content-box .search-box .btn-box[data-v-7d74d034] .el-button{width:120px;margin-left:20px}",""]),t.exports=e},a40e:function(t,e,i){"use strict";i.r(e);var a=i("59a6"),o=i("9199");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("c5e2");var s=i("2877"),r=Object(s.a)(o.default,a.a,a.b,!1,null,"917e0478",null);e.default=r.exports},aceb:function(t,e,i){"use strict";i.r(e);var a=i("b7a2"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e.default=o.a},af9a:function(t,e,i){var a=i("a1f0");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i("499e").default)("a10dbabc",a,!0,{sourceMap:!1,shadowMode:!1})},b7a2:function(t,e,i){"use strict";var a=i("4ea4");i("7db0"),i("d81d"),i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var o=a(i("1da1")),n=a(i("5f62")),s=a(i("a40e")),r=a(i("03eb")),c={name:"photoReview",data:function(){return{pageVal:"",pageOptions:n.default.pagesSelect,searchLoading:!1,searchForm:{cityVal:"",cityOpations:[],isComblen:"",isComblenOpations:[],buildName:{project_id:"",id:""},buildOpations:[],areaName:"",areaOpations:[],businessName:"",businessOpations:[]},checkAll:!0,checkedCities:[],buildCities:[],photoCheckAll:!1,photoAudioCities:[1],photosCities:[],photoTypesAll:!0,photoTypecCheckCities:[],photoTypesCitites:[],resouceAll:!0,resourceCheckCities:[],resourceOriginCities:[],searchList:{},refalsh:0,currentPage:1}},created:function(){this.getBuildingGeneraInfoData()},mounted:function(){this.getCityData("noInitData","notSelectFiirst"),this.remoteDistrictInfo(),this.remoteProjectType(),this.pageVal=this.pageOptions[0].url},methods:{urlChange:function(t){window.location.href=t},searchMethod:function(){var t=this;this.searchList={id:this.searchForm.buildName.id||this.$route.query.id||"",city_id:this.searchForm.cityVal,is_cooperate:this.searchForm.isComblen,state:this.checkedCities,audit_status:this.photoAudioCities,img_type:this.photoTypecCheckCities,source:this.resourceCheckCities,district_id:this.searchForm.areaName,project_type:this.searchForm.businessName,page:1},setTimeout((function(){t.searchList.city_id=t.searchForm.cityVal}),0),this.currentPage+=1},getBuildingGeneraInfoData:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={type:[17,18,19,20,21],city_id:t.searchForm.cityVal},e.prev=1,e.next=4,r.default.getGeneraInfoData(i);case 4:a=e.sent,0===(o=a.data).code&&(t.searchForm.isComblenOpations=o.data.is_cooperate,t.buildCities=o.data.group_audit,t.checkAll&&t.buildCities.map((function(e){t.checkedCities.push(e.id)})),t.photosCities=o.data.pic_audit,t.photoCheckAll&&t.photosCities.map((function(e){t.photoAudioCities.push(e.id)})),t.photoTypesCitites=o.data.img_type,t.photoTypesAll&&t.photoTypesCitites.map((function(e){t.photoTypecCheckCities.push(e.id)})),t.resourceOriginCities=o.data.source_list,t.resouceAll&&t.resourceOriginCities.map((function(e){t.resourceCheckCities.push(e.id)}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},blurGetCity:function(){this.getCityData("initData","notSelectFiirst")},getCityData:function(t,e){var i=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,o,n,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={q:"",type:"1"},t.prev=1,t.next=4,r.default.getCityListData(a);case 4:o=t.sent,0===(n=o.data).code&&(i.searchForm.cityOpations=n.data,"notSelectFiirst"==e&&(i.$route.query.city_id?(s=i.searchForm.cityOpations.find((function(t){return t.id===Number(i.$route.query.city_id)})),i.searchForm.cityVal=s.id,i.searchMethod()):(i.searchForm.cityVal=i.searchForm.cityOpations[0].id,i.searchMethod()))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},cityValChange:function(t){this.searchForm.areaName="",this.searchForm.businessName="",this.searchForm.buildName={id:"",project_id:""},this.searchForm.areaOpations=[],this.searchForm.businessOpations=[],this.searchForm.buildOpations=[],this.searchForm.cityVal>"0"?(this.remoteDistrictInfo(),this.remoteProjectType()):(this.searchForm.areaOpations=[],this.searchForm.businessOpations=[]),this.$route.query.id&&this.$router.push({path:"/review/photoReview",query:{city_id:this.$route.query.city_id,audit_obj:this.$route.query.audit_obj}})},projectFocus:function(){this.remoteBuildName()},remoteBuildName:function(t){var e=this;return(0,o.default)(regeneratorRuntime.mark((function i(){var a,o,n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e.searchLoading=!0,a={q:t,city_id:e.searchForm.cityVal,result_type:"3"},i.prev=2,i.next=5,r.default.getBuildNameData(a);case 5:o=i.sent,0===(n=o.data).code?(e.searchLoading=!1,e.searchForm.buildOpations=n.data):e.searchLoading=!1,i.next=14;break;case 10:i.prev=10,i.t0=i.catch(2),console.log(i.t0),e.searchLoading=!1;case 14:case"end":return i.stop()}}),i,null,[[2,10]])})))()},blurDistrictInfo:function(){this.remoteDistrictInfo()},remoteDistrictInfo:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.searchForm.cityVal>"0")){e.next=15;break}return i={q:t.searchForm.areaName,city_id:t.searchForm.cityVal,status:1},e.prev=2,e.next=5,r.default.getDistrictInfoData(i);case 5:a=e.sent,0===(o=a.data).code&&(t.searchForm.areaOpations=o.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:e.next=16;break;case 15:t.searchForm.areaOpations=[];case 16:case"end":return e.stop()}}),e,null,[[2,10]])})))()},focusBusinessInfo:function(){this.remoteProjectType()},remoteProjectType:function(){var t=this;return(0,o.default)(regeneratorRuntime.mark((function e(){var i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.searchForm.cityVal>"0")){e.next=15;break}return i={q:t.searchForm.businessName,city_id:t.searchForm.cityVal},e.prev=2,e.next=5,r.default.getProjectTypeData(i);case 5:a=e.sent,0===(o=a.data).code&&(t.searchForm.businessOpations=o.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:e.next=16;break;case 15:t.searchForm.businessOpations=[];case 16:case"end":return e.stop()}}),e,null,[[2,10]])})))()},handleCheckAllChange:function(t,e){var i=[];"build"===e?(this.buildCities.map((function(t){i.push(t.id)})),this.checkedCities=t?i:[]):"photoAudit"===e?(this.photosCities.map((function(t){i.push(t.id)})),this.photoAudioCities=t?i:[]):"photoTypes"===e?(this.photoTypesCitites.map((function(t){i.push(t.id)})),this.photoTypecCheckCities=t?i:[]):"resourceOrigin"===e&&(this.resourceOriginCities.map((function(t){i.push(t.id)})),this.resourceCheckCities=t?i:[])},handleSingleChange:function(t,e){var i=t.length;"build"===e?this.checkAll=i===this.buildCities.length:"photoAudit"===e?this.photoCheckAll=i===this.photosCities.length:"photoTypes"===e?this.photoTypesAll=i===this.photoTypesCitites.length:"resourceOrigin"===e&&(this.resouceAll=i===this.resourceOriginCities.length)},resetSearch:function(){if(this.searchForm={cityVal:this.searchForm.cityOpations[0].id,cityOpations:this.searchForm.cityOpations,isComblen:"",isComblenOpations:this.searchForm.isComblenOpations,buildName:{id:"",project_id:""},buildOpations:[],areaName:"",areaOpations:[],businessName:"",businessOpations:[]},this.checkAll=!0,this.checkedCities=[],this.photoCheckAll=!1,this.photoAudioCities=[1],this.photoTypesAll=!0,this.photoTypecCheckCities=[],this.refalsh+=1,this.resouceAll=!0,this.resourceCheckCities=[],this.$route.query.city_id){var t=this.$router.resolve({path:"/review/photoReview"});window.location.href=t.href}}},components:{PhotoListShow:s.default}};e.default=c},b8b3:function(t,e,i){"use strict";i.r(e);var a=i("6340"),o=i("aceb");for(var n in o)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(n);i("f060");var s=i("2877"),r=Object(s.a)(o.default,a.a,a.b,!1,null,"7d74d034",null);e.default=r.exports},c5e2:function(t,e,i){"use strict";i("6cbc")},f060:function(t,e,i){"use strict";i("af9a")}}]);