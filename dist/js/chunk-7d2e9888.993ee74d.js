(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7d2e9888"],{"0b5b":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a("23f7"),l={getTaskList:function(e){return o.axios.post("/backend-api/employee_order/yw-sys-number-talk-task/list",e)},saveFollow:function(e){return o.axios.post("/backend-api/employee_order/yw-sys-number-talk-task/edit-follow-employee",e)},getCompanyData:function(e){return o.axios.get("/backend-api/select2/select2/get-auth-org-list",{params:e})}};t.default=l},3517:function(e,t,a){(t=a("24fb")(!1)).push([e.i,".v-box[data-v-25fd86f6]{background:#fff;padding:20px}.v-box .main-title[data-v-25fd86f6]{font-weight:700;font-size:16px;padding-bottom:20px}.v-box .search-box[data-v-25fd86f6]{float:right}.v-box .search-box .s-query li .th[data-v-25fd86f6]{width:auto}.v-box .search-box .s-query li .td[data-v-25fd86f6]{padding-right:20px}.v-box .search-box .s-query li .td .el-select[data-v-25fd86f6]{width:100%}.v-box .statistics-box[data-v-25fd86f6]{background:#f8f8f8;padding:10px 0 10px 20px;border:1px solid #eee;margin:20px 0}.v-box .statistics-box .s-query li[data-v-25fd86f6]{width:auto;padding-right:50px;margin:0}.v-box .statistics-box .s-query li.pull-right[data-v-25fd86f6]{float:right}.v-box .table-box .sub-title[data-v-25fd86f6]{line-height:1.4;padding:5px 0}.v-box .table-box[data-v-25fd86f6] .el-input,.v-box .table-box[data-v-25fd86f6] .el-select{display:block;padding-left:0;padding-right:0}.v-box .table-box .search-select[data-v-25fd86f6]{display:block;padding:0}.v-box .table-box .search-select[data-v-25fd86f6] .el-input{padding-left:0;padding-right:0}.v-box .pagination[data-v-25fd86f6]{text-align:center;margin-top:10px}.v-box .el-range-input[data-v-25fd86f6]{background:transparent}.dialog-info[data-v-25fd86f6]{margin-bottom:20px}.dialog-info span[data-v-25fd86f6]{padding-right:20px}.dialog-info span[data-v-25fd86f6],.dialog-search-select[data-v-25fd86f6]{display:inline-block}",""]),e.exports=t},"60b9":function(e,t,a){"use strict";var o=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var l=o(a("1da1")),r=o(a("0b5b")),s=o(a("f946")),n={data:function(){return{searchDate:[],cityId:"",processingCount:"",delayedCount:"",followCount:"",delayCount:"",currentPage:1,totalNum:0,tableList:[],loading:!1,pageSize:20,cityOptions:[],userApi:{api:s.default.getStaffList,params:{q:"",role:"header"}},managerApi:{api:s.default.getStaffList,params:{q:"",role:"header_manager"}},followApi:{api:s.default.getStaffByLogin,params:{q:""}},orderStateOptions:[],followOptions:[],searchForm:{cityId:"",orderId:"",orderState:"",belongId:"",managerId:"",bandId:"",preserveId:"",followState:"",followId:""},showOpt:!0,chosenObj:{},dialogShow:!1,dialogInfo:{},followId:"",companyVal:"",companyData:[]}},components:{SearchSelectRadio:a("2af9").SearchSelectRadio},methods:{companyQuery:function(e){var t=this;return(0,l.default)(regeneratorRuntime.mark((function a(){var o,l,s,n,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o={q:e},a.next=4,r.default.getCompanyData(o);case 4:l=a.sent,s=l.data,n=s.code,i=s.data,0===n&&(t.companyData=i.list),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))()},focusCompany:function(){this.companyQuery("")},changeSelect:function(){this.getList(1)},getCityList:function(){var e=this;return(0,l.default)(regeneratorRuntime.mark((function t(){var a,o,l,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={type:2,param:"withAll"},t.next=4,s.default.getDetailCityListData(a);case 4:o=t.sent,l=o.data,r=l.code,n=l.data,0===r&&(e.cityOptions=n.list),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},getList:function(e){var t=this;return(0,l.default)(regeneratorRuntime.mark((function a(){var o,l,s,n,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.currentPage=e,a.prev=1,t.loading=!0,o={page:t.currentPage,city_id:t.searchForm.cityId,order_id:t.searchForm.orderId,order_status:t.searchForm.orderState,employee_id:t.searchForm.belongId,employee_manager_id:t.searchForm.managerId,follow_status:t.searchForm.followState,follow_employee_id:t.searchForm.followId,see_employee_id:t.searchForm.bandId,maintain_employee_id:t.searchForm.preserveId,call_begin_time_min:t.searchDate?t.searchDate[0]:"",call_begin_time_max:t.searchDate?t.searchDate[1]:"",org_id:t.companyVal},a.next=6,r.default.getTaskList(o);case 6:l=a.sent,s=l.data,n=s.code,i=s.data,0===n?(t.processingCount=i.statisticsData.prossing,t.delayedCount=i.statisticsData.delay,t.followCount=i.statisticsData.complate_normal,t.delayCount=i.statisticsData.complate_delay,t.orderStateOptions=i.statusList,t.followOptions=i.followStatusList,t.tableList=i.list,t.totalNum=i.total?parseInt(i.total):0,t.showOpt=i.update_role_auth,t.loading=!1):t.loading=!1,a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[1,13]])})))()},pageChange:function(e){this.getList(e)},updateFollow:function(e,t,a,o,l,r){this.dialogInfo={id:e,orderId:t,name:a,time:o},this.followId=l,this.chosenObj={value:l,name:r},this.dialogShow=!0},close:function(){this.dialogShow=!1},confirmUpdate:function(){var e=this;return(0,l.default)(regeneratorRuntime.mark((function t(){var a,o,l,s,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.followId){t.next=5;break}return e.$message.error("请选择跟进咨询师"),t.abrupt("return",!1);case 5:return t.prev=5,a={id:e.dialogInfo.id,employee_id:e.followId},t.next=9,r.default.saveFollow(a);case 9:o=t.sent,l=o.data,s=l.code,n=l.msg,0===s?(e.dialogShow=!1,e.getList(1)):e.$message.error(n),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[5,16]])})))()}},created:function(){this.getCityList(),this.getList(1)}};t.default=n},"77b77":function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l}));var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-box"},[a("el-breadcrumb",{staticClass:"bread-crumb-box",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[e._v("首页")])]),a("el-breadcrumb-item",[e._v("响应任务管理")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"v-box"},[a("div",{staticClass:"search-box"},[a("span",[e._v("来电时间：")]),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.changeSelect},model:{value:e.searchDate,callback:function(t){e.searchDate=t},expression:"searchDate"}})],1),a("div",{staticClass:"main-title"},[e._v("响应客户管理")]),a("div",{staticClass:"statistics-box"},[a("ul",{staticClass:"s-query clearfix"},[a("li",[e._v("处理中："+e._s(e.processingCount))]),a("li",[e._v("已延迟："+e._s(e.delayedCount))]),a("li",[e._v("正常跟进完成："+e._s(e.followCount))]),a("li",[e._v("延迟跟进完成："+e._s(e.delayCount))])])]),a("div",{staticClass:"table-box"},[a("el-table",{attrs:{border:"",data:e.tableList,size:"small","row-class-name":"row","cell-class-name":"column","highlight-current-row":!0,"header-cell-style":{background:"#f8f8f8"}}},[a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"city_id"}},[a("template",{slot:"header"},[a("span",{staticClass:"sub-title"},[e._v("城市")]),a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},on:{change:e.changeSelect},model:{value:e.searchForm.cityId,callback:function(t){e.$set(e.searchForm,"cityId",t)},expression:"searchForm.cityId"}},e._l(e.cityOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],2),a("el-table-column",{attrs:{"min-width":"130",align:"center",prop:"org_name"}},[a("template",{slot:"header"},[a("span",{staticClass:"sub-title"},[e._v("公司")]),a("el-select",{attrs:{clearable:"",filterable:"",remote:"","remote-method":e.companyQuery,placeholder:"请选择公司"},on:{focus:e.focusCompany,change:e.changeSelect},model:{value:e.companyVal,callback:function(t){e.companyVal=t},expression:"companyVal"}},e._l(e.companyData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],2),a("el-table-column",{attrs:{"min-width":"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:t.row.order_view_url,target:"_blank",rel:"noopener noreferrer"}},[a("el-button",{attrs:{type:"text",size:"small"}},[e._v(" "+e._s(t.row.order_id)+" ")])],1)]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"sub-title"},[e._v("订单")]),a("el-input",{attrs:{placeholder:"请输入"},on:{blur:e.changeSelect},model:{value:e.searchForm.orderId,callback:function(t){e.$set(e.searchForm,"orderId",t)},expression:"searchForm.orderId"}})],1)],2),a("el-table-column",{attrs:{label:"客户姓名","min-width":"90",align:"center",prop:"user_realname"}}),a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"order_status"}},[a("template",{slot:"header"},[a("span",{staticClass:"sub-title"},[e._v("订单状态")]),a("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:e.changeSelect},model:{value:e.searchForm.orderState,callback:function(t){e.$set(e.searchForm,"orderState",t)},expression:"searchForm.orderState"}},e._l(e.orderStateOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],2),a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"employee_id"}},[a("template",{slot:"header"},[a("span",{staticClass:"sub-title"},[e._v("所属咨询师")]),a("search-select-radio",{staticClass:"search-select",attrs:{placeholder:"请选择",clearable:!0,apiInfo:e.userApi},on:{input:e.changeSelect},model:{value:e.searchForm.belongId,callback:function(t){e.$set(e.searchForm,"belongId",t)},expression:"searchForm.belongId"}})],1)],2),a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"employee_manager_id"}},[a("template",{slot:"header"},[a("span",{staticClass:"sub-title"},[e._v("咨询主管")]),a("search-select-radio",{staticClass:"search-select",attrs:{placeholder:"请选择",clearable:!0,apiInfo:e.managerApi},on:{input:e.changeSelect},model:{value:e.searchForm.managerId,callback:function(t){e.$set(e.searchForm,"managerId",t)},expression:"searchForm.managerId"}})],1)],2),a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"see_employee"}},[a("template",{slot:"header"},[a("span",{staticClass:"sub-title"},[e._v("带看咨询师")]),a("search-select-radio",{staticClass:"search-select",attrs:{placeholder:"请选择",clearable:!0,apiInfo:e.userApi},on:{input:e.changeSelect},model:{value:e.searchForm.bandId,callback:function(t){e.$set(e.searchForm,"bandId",t)},expression:"searchForm.bandId"}})],1)],2),a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"maintion_employee"}},[a("template",{slot:"header"},[a("span",{staticClass:"sub-title"},[e._v("共同维护人")]),a("search-select-radio",{staticClass:"search-select",attrs:{placeholder:"请选择",clearable:!0,apiInfo:e.userApi},on:{input:e.changeSelect},model:{value:e.searchForm.preserveId,callback:function(t){e.$set(e.searchForm,"preserveId",t)},expression:"searchForm.preserveId"}})],1)],2),a("el-table-column",{attrs:{label:"来电时间","min-width":"90",align:"center",prop:"call_begin_time"}}),a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"follow_status"}},[a("template",{slot:"header"},[a("span",{staticClass:"sub-title"},[e._v("跟进状态")]),a("el-select",{attrs:{placeholder:"请选择",clearable:""},on:{change:e.changeSelect},model:{value:e.searchForm.followState,callback:function(t){e.$set(e.searchForm,"followState",t)},expression:"searchForm.followState"}},e._l(e.followOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],2),a("el-table-column",{attrs:{"min-width":"110",align:"center",prop:"follow_employee_name"}},[a("template",{slot:"header"},[a("span",{staticClass:"sub-title"},[e._v("跟进人")]),a("search-select-radio",{staticClass:"search-select",attrs:{placeholder:"请选择",clearable:!0,apiInfo:e.followApi},on:{input:e.changeSelect},model:{value:e.searchForm.followId,callback:function(t){e.$set(e.searchForm,"followId",t)},expression:"searchForm.followId"}})],1)],2),a("el-table-column",{attrs:{label:"跟进时间","min-width":"90",align:"center",prop:"update_datetime"}}),e.showOpt?a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.update_auth?a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.updateFollow(t.row.id,t.row.order_id,t.row.user_realname,t.row.call_begin_time,t.row.follow_employee_id,t.row.follow_employee_name)}}},[e._v(" 修改跟进人 ")]):e._e()]}}],null,!1,911198831)}):e._e()],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"hide-on-single-page":!0,background:"","page-size":e.pageSize,layout:"prev, pager, next","current-page":e.currentPage,total:e.totalNum},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.pageChange}})],1)],1)]),a("el-dialog",{staticClass:"rest-dialog",attrs:{"custom-class":"common-dialog-wrapper",visible:e.dialogShow,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,center:"",title:"修改跟进人",width:"580px"},on:{"update:visible":function(t){e.dialogShow=t}}},[a("div",{staticClass:"body-box"},[a("div",{staticClass:"dialog-info"},[a("span",[e._v("订单："+e._s(e.dialogInfo.orderId))]),a("span",[e._v("客户姓名："+e._s(e.dialogInfo.name))]),a("span",[e._v("来电时间："+e._s(e.dialogInfo.time))])]),a("div",{staticClass:"dialog-info"},[e._v(" 跟进咨询师： "),a("search-select-radio",{staticClass:"dialog-search-select",attrs:{placeholder:"请选择",apiInfo:e.followApi,chosenObj:e.chosenObj},model:{value:e.followId,callback:function(t){e.followId=t},expression:"followId"}}),e._v(" 跟进咨询师会成为订单共同维护人 ")],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("div",[a("el-button",{staticClass:"cancel",on:{click:e.close}},[e._v("取消")]),a("el-button",{staticClass:"confirm",attrs:{type:"primary"},on:{click:e.confirmUpdate}},[e._v("确定")])],1)])])],1)},l=[]},"898f":function(e,t,a){"use strict";a("8b41")},"8b41":function(e,t,a){var o=a("3517");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,a("499e").default)("41f77af8",o,!0,{sourceMap:!1,shadowMode:!1})},a42f:function(e,t,a){"use strict";a.r(t);var o=a("77b77"),l=a("adbc");for(var r in l)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return l[e]}))}(r);a("898f");var s=a("2877"),n=Object(s.a)(l.default,o.a,o.b,!1,null,"25fd86f6",null);t.default=n.exports},adbc:function(e,t,a){"use strict";a.r(t);var o=a("60b9"),l=a.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(r);t.default=l.a}}]);