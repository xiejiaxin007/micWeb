(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-547d41d7"],{2254:function(t,e,a){"use strict";a.r(e);var r=a("6ab8"),n=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);e.default=n.a},3345:function(t,e,a){"use strict";a("fa7c")},"369f":function(t,e,a){"use strict";a.r(e);var r=a("bcf8"),n=a("2254");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("3345");var l=a("2877"),o=Object(l.a)(n.default,r.a,r.b,!1,null,"3912b355",null);e.default=o.exports},"3fdf":function(t,e,a){(e=a("24fb")(!1)).push([t.i,".virtual-box[data-v-506764b4]{padding:20px 50px;-webkit-box-sizing:border-box;box-sizing:border-box}.virtual-box .content-box[data-v-506764b4]{background:#fff;padding:20px 20px;margin-top:30px}.virtual-box .content-box[data-v-506764b4] .jl-textarea{width:500px}.virtual-box .content-box[data-v-506764b4] .jl-textarea .el-textarea__inner{height:100px}.virtual-box .content-box .btn-box[data-v-506764b4]{text-align:center}",""]),t.exports=e},"4ddf1":function(t,e,a){(e=a("24fb")(!1)).push([t.i,".virtual-box[data-v-3912b355]{padding:20px 50px;-webkit-box-sizing:border-box;box-sizing:border-box}.virtual-box .content-box[data-v-3912b355]{background:#fff;padding:20px 20px;margin-top:30px}.virtual-box .content-box .fiflter-box[data-v-3912b355]{margin-bottom:30px}.virtual-box .content-box .fiflter-box .serach-box[data-v-3912b355]{text-align:center;margin-top:30px}.virtual-box .content-box .fiflter-box[data-v-3912b355] .el-form-item{margin-right:50px}.virtual-box .content-box .table-box .btn-add[data-v-3912b355]{margin-bottom:20px}.virtual-box .content-box .table-box[data-v-3912b355] .el-pagination{text-align:center;margin-top:20px}",""]),t.exports=e},5919:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return n}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"virtual-box"},[a("el-breadcrumb",{staticClass:"bread-crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[t._v("首页")])]),a("el-breadcrumb-item",[t._v("虚拟号管理")]),a("el-breadcrumb-item",{attrs:{to:{path:"/virtualNum/virtualNumStock"}}},[t._v("虚拟号库存")]),a("el-breadcrumb-item",[t._v("添加虚拟号")])],1),a("div",{staticClass:"content-box"},[a("el-form",{ref:"formInline",attrs:{model:t.formInline,rules:t.rules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"虚拟号归属城市:",prop:"getCityVal"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择虚拟号归属城市"},model:{value:t.formInline.getCityVal,callback:function(e){t.$set(t.formInline,"getCityVal",e)},expression:"formInline.getCityVal"}},t._l(t.getCityData,(function(t,e){return a("el-option",{key:e,attrs:{label:t.text,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"虚拟号类型:",prop:"virtualType"}},[a("el-select",{attrs:{placeholder:"请选择虚拟号类型"},model:{value:t.formInline.virtualType,callback:function(e){t.$set(t.formInline,"virtualType",e)},expression:"formInline.virtualType"}},t._l(t.virtualNumTypeData,(function(t,e){return a("el-option",{key:e,attrs:{label:t.text,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"虚拟号号码:",prop:"virtualNum"}},[a("el-input",{staticClass:"jl-textarea",attrs:{type:"textarea",placeholder:"请输入虚拟号号码"},model:{value:t.formInline.virtualNum,callback:function(e){t.$set(t.formInline,"virtualNum",e)},expression:"formInline.virtualNum"}})],1)],1),a("div",{staticClass:"btn-box"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("formInline")}}},[t._v("保存")])],1)],1)],1)},n=[]},"6ab8":function(t,e,a){"use strict";var r=a("4ea4");a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n=r(a("1da1")),i=r(a("800f")),l=r(a("c87c")),o={data:function(){return{formInline:{isUseStatus:"",virtualType:"",virtualNumber:"",getCityVal:""},getCityData:[],virtualNumTypeData:[],isUseData:[],virtualTableData:{list:[],totalNum:1},currenPage:1}},mounted:function(){this.getAllCityList(),this.getGeneralSelConfig(),this.getvirtualListInfo()},methods:{currentChange:function(t){this.currenPage=t,this.getvirtualListInfo()},getvirtualListInfo:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={city_id:t.formInline.getCityVal,type:t.formInline.virtualType,phone:t.formInline.virtualNumber,is_use:t.formInline.isUseStatus,page:t.currenPage},e.next=4,l.default.getvirtualListData(a);case 4:r=e.sent,n=r.data,console.log(n),0===n.code&&(t.virtualTableData.list=n.data.list,t.virtualTableData.totalNum=Number(n.data.total_count)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},deleteVirtualNumInfo:function(t){var e=this;return(0,n.default)(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={id:t},a.next=4,l.default.deleteVirtualNumData(r);case 4:n=a.sent,i=n.data,console.log(i),0===i.code?(e.getvirtualListInfo(),e.$message("删除成功")):e.$message(i.msg),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},getAllCityList:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={type:"2"},e.next=4,l.default.getCityListData(a);case 4:r=e.sent,n=r.data,console.log(n),0===n.code&&(t.getCityData=n.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getGeneralSelConfig:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={type:[1,2,3]},e.next=4,i.default.getConfigListData(a);case 4:r=e.sent,n=r.data,console.log(n),0===n.code&&(t.virtualNumTypeData=n.data.virtual_type,t.isUseData=n.data.use_type),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},addVirtualNum:function(){this.$router.push({path:"/virtualNum/virtualAddNum"})},viewBindDetail:function(t){this.$router.push({path:"/virtualNum/virtualBindDetail",query:{phone:t}})},resetForm:function(t){this.$refs[t].resetFields(),this.currenPage=1,this.getvirtualListInfo()}}};e.default=o},"800f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("23f7"),n={getConfigListData:function(t){return r.axios.post("/backend-api/virtual-phone/common-select",t)},getCityListData:function(t){return r.axios.get("/backend-api/common/get-all-city-list",{params:t})}};e.default=n},"8a16":function(t,e,a){"use strict";a("a758")},a758:function(t,e,a){var r=a("3fdf");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a("499e").default)("074c8260",r,!0,{sourceMap:!1,shadowMode:!1})},bcf8:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return n}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"virtual-box"},[a("el-breadcrumb",{staticClass:"bread-crumb",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[t._v("首页")])]),a("el-breadcrumb-item",[t._v("虚拟号管理")]),a("el-breadcrumb-item",[t._v("虚拟号库存")])],1),a("div",{staticClass:"content-box"},[a("div",{staticClass:"fiflter-box"},[a("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"虚拟号归属城市:",prop:"getCityVal"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择城市"},model:{value:t.formInline.getCityVal,callback:function(e){t.$set(t.formInline,"getCityVal",e)},expression:"formInline.getCityVal"}},t._l(t.getCityData,(function(t,e){return a("el-option",{key:e,attrs:{label:t.text,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"虚拟号类型:",prop:"virtualType"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.formInline.virtualType,callback:function(e){t.$set(t.formInline,"virtualType",e)},expression:"formInline.virtualType"}},t._l(t.virtualNumTypeData,(function(t,e){return a("el-option",{key:e,attrs:{label:t.text,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"虚拟号号码:",prop:"virtualNumber"}},[a("el-input",{attrs:{placeholder:"请输入虚拟号"},model:{value:t.formInline.virtualNumber,callback:function(e){t.$set(t.formInline,"virtualNumber",e)},expression:"formInline.virtualNumber"}})],1),a("el-form-item",{attrs:{label:"占用状态:",prop:"isUseStatus"}},[a("el-select",{attrs:{placeholder:"请选择占用状态"},model:{value:t.formInline.isUseStatus,callback:function(e){t.$set(t.formInline,"isUseStatus",e)},expression:"formInline.isUseStatus"}},t._l(t.isUseData,(function(t,e){return a("el-option",{key:e,attrs:{label:t.text,value:t.id}})})),1)],1)],1),a("div",{staticClass:"serach-box"},[a("el-button",{attrs:{type:"primary"},on:{click:t.getvirtualListInfo}},[t._v(" 搜索 ")]),a("el-button",{attrs:{type:"default"},on:{click:function(e){return t.resetForm("formInline")}}},[t._v(" 重置 ")])],1)],1),a("div",{staticClass:"table-box"},[a("el-button",{staticClass:"btn-add",attrs:{type:"primary"},on:{click:t.addVirtualNum}},[t._v(" + 添加虚拟号 ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.virtualTableData.list,border:""}},[a("el-table-column",{attrs:{prop:"city_name",label:"虚拟号归属城市"}}),a("el-table-column",{attrs:{prop:"type",label:"虚拟号类型"}}),a("el-table-column",{attrs:{prop:"phone",label:"虚拟号号码"}}),a("el-table-column",{attrs:{prop:"is_use_text",label:"占用状态"}}),a("el-table-column",{attrs:{prop:"use_num",label:"绑定情况"}}),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:"1"==e.row.is_use,expression:"scope.row.is_use == '1'"}],attrs:{type:"text"},on:{click:function(a){return t.viewBindDetail(e.row.phone)}}},[t._v(" 查看绑定明细 ")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"2"==e.row.is_use,expression:"scope.row.is_use == '2'"}],attrs:{type:"text"},on:{click:function(a){return t.deleteVirtualNumInfo(e.row.id)}}},[t._v(" 删除 ")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.virtualTableData.totalNum,"page-size":20,"current-page":t.currenPage},on:{"update:currentPage":function(e){t.currenPage=e},"update:current-page":function(e){t.currenPage=e},"current-change":t.currentChange}})],1)])],1)},n=[]},c87c:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a("23f7"),n={getCityListData:function(t){return r.axios.get("/backend-api/common/get-all-city-list",{params:t})},getvirtualListData:function(t){return r.axios.get("/backend-api/virtual-phone/list",{params:t})},addVirtualNumData:function(t){return r.axios.post("/backend-api/virtual-phone/create",t)},deleteVirtualNumData:function(t){return r.axios.get("/backend-api/virtual-phone/delete",{params:t})}};e.default=n},db04:function(t,e,a){"use strict";var r=a("4ea4");a("c975"),a("ac1f"),a("5319"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var n=r(a("1da1")),i=r(a("800f")),l=r(a("c87c")),o={data:function(){return{formInline:{getCityVal:"",virtualType:"",virtualNum:""},getCityData:[],virtualNumTypeData:[],rules:{getCityVal:[{required:!0,message:"请选择虚拟号归属城市",trigger:"change"}],virtualType:[{required:!0,message:"请选择虚拟号类型",trigger:"change"}],virtualNum:[{required:!0,message:"请输入虚拟号号码",trigger:"blur"}]}}},mounted:function(){this.getAllCityList(),this.getGeneralSelConfig()},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(){var t=(0,n.default)(regeneratorRuntime.mark((function t(a){var r,n,i,o,u,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a){t.next=3;break}return t.abrupt("return");case 3:if(((n=e.formInline.virtualNum.replace(/\，/g,",")).substring(n.length-1).indexOf(",")>-1||n.substring(n.length-1).indexOf("，")>-1)&&(console.log(),n=n.substring(0,n.length-1)),r=n.split(","),(i=e.isRepeat(r)).minNum){t.next=10;break}return e.$alert(i.elData+"格式错误，请检查"),t.abrupt("return");case 10:if(i.flag){t.next=13;break}return e.$alert(i.elData+"已经存在，请检查"),t.abrupt("return");case 13:return o={city_id:e.formInline.getCityVal,type:e.formInline.virtualType,phones:n},t.next=16,l.default.addVirtualNumData(o);case 16:u=t.sent,s=u.data,console.log(s),0===s.code?(e.$message("提交成功"),e.$router.push({path:"/virtualNum/virtualNumStock"})):e.$alert(s.msg),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(0),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[0,22]])})));return function(e){return t.apply(this,arguments)}}())},isRepeat:function(t){var e={};for(var a in t){if(t[a].length<11)return{minNum:!1,elData:t[a]};if(e[t[a]])return{flag:!1,elData:t[a]};e[t[a]]=!0}return{flag:!0,minNum:!0}},getAllCityList:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={type:"2"},e.next=4,l.default.getCityListData(a);case 4:r=e.sent,n=r.data,console.log(n),0===n.code&&(t.getCityData=n.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getGeneralSelConfig:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var a,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={type:[1,2,3]},e.next=4,i.default.getConfigListData(a);case 4:r=e.sent,n=r.data,console.log(n),0===n.code&&(t.virtualNumTypeData=n.data.virtual_type),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}}};e.default=o},f1c1:function(t,e,a){"use strict";a.r(e);var r=a("5919"),n=a("f602");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("8a16");var l=a("2877"),o=Object(l.a)(n.default,r.a,r.b,!1,null,"506764b4",null);e.default=o.exports},f602:function(t,e,a){"use strict";a.r(e);var r=a("db04"),n=a.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(i);e.default=n.a},fa7c:function(t,e,a){var r=a("4ddf1");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a("499e").default)("70e0ffda",r,!0,{sourceMap:!1,shadowMode:!1})}}]);