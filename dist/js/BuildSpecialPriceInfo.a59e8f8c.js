(window.webpackJsonp=window.webpackJsonp||[]).push([["BuildSpecialPriceInfo"],{"0f4b":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o("23f7"),a={delSpecialHouseData:function(e){return i.axios.get("/backend-api/project/project-maintenance/del-special-house-by-id",{params:e})},initSpecialInfoData:function(e){return i.axios.post("/backend-api/project/project-maintenance/get-discount-page-info",e)},saveSpecialHouseData:function(e){return i.axios.post("/backend-api/project/discount/save",e)},checkSensitiveWordsData:function(e){return i.axios.get("/backend-api/common/check-keywords",{params:e})},delHideSpecialHouse:function(e){return i.axios.post("/backend-api/project/discount/del-hide-special-house",e)},isEdit:function(e){return i.axios.get("/backend-api/project/discount/is-edit",{params:e})}};t.default=a},1067:function(e,t,o){"use strict";var i=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o("96cf");var a=i(o("1da1")),n=i(o("8fa0")),r={data:function(){return{isProjectShow:"",isSubmiting:!1}},mounted:function(){this.getProjectInfo()},methods:{getProjectInfo:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,i,a,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.default.getProjectInfoById({project_id:e.$route.query.projectId,fields:"is_show"});case 3:o=t.sent,i=o.data,a=i.code,r=i.msg,c=i.data,0===a?e.isProjectShow=c.is_show:e.$message.error(r),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},autoSetDynamic:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,i,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.isSubmiting){t.next=3;break}return t.abrupt("return");case 3:return e.isSubmiting=!0,t.next=6,n.default.autoCreat({project_id:e.$route.query.projectId});case 6:o=t.sent,i=o.data,a=i.code,r=i.msg,0===a?(e.isSubmiting=!1,e.$message({type:"success",message:r})):(e.$message({type:"warning",message:r}),e.isSubmiting=!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),e.isSubmiting=!1,console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}};t.default=r},"162a":function(e,t,o){"use strict";o("d626")},2193:function(e,t,o){"use strict";o.r(t);var i=o("3b52"),a=o.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(n);t.default=a.a},"364f":function(e,t,o){"use strict";o.r(t);var i=o("94a8"),a=o.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(n);t.default=a.a},"3b52":function(e,t,o){"use strict";var i=o("4ea4");o("caad"),o("a434"),o("d3b7"),o("2532"),o("3ca3"),o("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o("96cf");var a=i(o("1da1")),n=i(o("0f4b")),r=i(o("8fa0")),c=o("4c3a"),s={name:"BuildSpecialPriceInfo",data:function(){return{projectDiscountInfo:{},modle:{projectDiscountSpecialHouse:[]},expireTimeOption:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},pageLoading:!1,breadText:"楼盘列表"}},mounted:function(){this.toRouterLink=c.toRouterLink,this.specialInfoIsEdit(),this.initSpecialInfoList(),this.isOperation()},computed:{isRequired:function(){var e=this.modle.projectDiscountSpecialHouse,t=e.length,o=!1;if(t>0)for(var i=0;i<t;i++)1===e[i].is_show.field_value&&(o=!0);return o}},methods:{specialInfoIsEdit:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,i,a,r,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={project_id:e.$route.query.projectId},t.next=4,n.default.isEdit(o);case 4:i=t.sent,a=i.data,r=a.code,c=a.msg,s=a.data,0===r?s&&"2"===s.is_edit&&(e.$message({type:"warning",message:"活动期间不允许编辑优惠和特价房信息！"}),e.toRouterLink(5)):e.$message.error(c),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},handleShortCut:function(){this.saveDataList("formList","formListRules")},descIsRequired:function(e,t,o){this.isRequired&&!t?o(new Error):o()},isValidate:function(){this.$refs.formList.validateField("special_price_house_desc.field_value")},inputVal:function(e){"0"==e.house_num.field_value&&this.$set(e.house_num,"field_value","1")},goToListPage:function(){"operation"===this.$route.query.role?window.location.href="/index.php?r=yw-projects/index":"expand"===this.$route.query.role&&this.$router.push({path:"/building/ExpandTaskList"})},isOperation:function(){"operation"===this.$route.query.role?this.breadText="楼盘列表":"expand"===this.$route.query.role&&(this.breadText="楼盘任务列表")},initSpecialInfoList:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={project_id:e.$route.query.projectId,task_id:e.$route.query.taskId},t.next=4,n.default.initSpecialInfoData(o);case 4:i=t.sent,0===(a=i.data).code?(e.projectDiscountInfo=a.data.project_discount_info.data,e.modle.projectDiscountSpecialHouse=a.data.project_discount_special_house.data,e.projectDiscountInfo.end_datetime&&(e.projectDiscountInfo.end_datetime.field_value=(0,c.filterDate)(e.projectDiscountInfo.end_datetime.field_value,"YYYY-MM-DD")),e.projectDiscountInfo.discount_end_datetime&&(e.projectDiscountInfo.discount_end_datetime.field_value=(0,c.filterDate)(e.projectDiscountInfo.discount_end_datetime.field_value,"YYYY-MM-DD"))):e.$message(a.msg),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},removeLine:function(e,t,o){var i=this;this.$refs.formListRules.clearValidate(),this.$confirm("一旦删除则无法恢复确认是否删除！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((0,a.default)(regeneratorRuntime.mark((function a(){var r,c,s,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.id.field_value){a.next=4;break}return o.splice(t,1),i.isValidate(),a.abrupt("return");case 4:return a.prev=4,r=i.$route.query,c={project_id:r.projectId,task_id:r.taskId,id:e.id.field_value},a.next=9,n.default.delSpecialHouseData(c);case 9:s=a.sent,0===(l=s.data).code?(-1!==t&&o.splice(t,1),i.isValidate(),i.$message({type:"success",message:"删除成功!"})):i.$message(l.msg),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(4),console.log(a.t0);case 17:case"end":return a.stop()}}),a,null,[[4,14]])})))).catch((function(){i.$message({type:"info",message:"已取消删除"})}))},addSpeicalRoom:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={page_id:5,task_id:e.$route.query.taskId||""},t.next=4,r.default.getPageModuleData(o);case 4:i=t.sent,0===(a=i.data).code?(e.modle.projectDiscountSpecialHouse.push(a.data.project_discount_special_house.data),e.isValidate()):e.$message(a.msg),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},cancel:function(){this.$emit("specialChangeStatus",!1)},checkSensitiveWordsInfo:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,i,a,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i in o="",e.projectDiscountInfoCopy=JSON.parse(JSON.stringify(e.projectDiscountInfo)),e.projectDiscountInfoCopy)"discount_end_datetime"!==i&&"end_datetime"!==i&&(o+=e.projectDiscountInfoCopy[i].field_desc+"$"+e.projectDiscountInfoCopy[i].field_value+"|||");return o=o.substr(0,o.length-3),t.prev=4,a={str:o,project_id:e.$route.query.projectId,is_create_project:2},t.next=8,n.default.checkSensitiveWordsData(a);case 8:if(r=t.sent,200!==(c=r.data).code){t.next=14;break}Promise.resolve(!0),t.next=16;break;case 14:return e.$message(c.msg),t.abrupt("return",!1);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(4),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[4,18]])})))()},saveDataList:function(e,t){var o=this,i=new Promise((function(t,i){o.$refs[e].validate((function(e){if(!e)return!1;t(!0)}))})),r=new Promise((function(e,i){o.$refs[t].validate(function(){var t=(0,a.default)(regeneratorRuntime.mark((function t(o){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o){t.next=4;break}e(!0),t.next=5;break;case 4:return t.abrupt("return",!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),c=this.checkSensitiveWordsInfo();Promise.all([i,r,c]).then(function(){var e=(0,a.default)(regeneratorRuntime.mark((function e(t){var i,a,r,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.includes(!1)){e.next=21;break}if(!(""===o.projectDiscountInfo.pay_title.field_value&&""!==o.projectDiscountInfo.pay_info.field_value||""!==o.projectDiscountInfo.pay_title.field_value&&""===o.projectDiscountInfo.pay_info.field_value)){e.next=5;break}o.$alert("优惠概述和当期折扣概述需要同时有值或者同时为空！","提示",{confirmButtonText:"确定",callback:function(e){return!1}}),e.next=21;break;case 5:return o.pageLoading=!0,e.prev=6,i=o.$route.query,a={project_discount_info:{data:o.projectDiscountInfo,module_name:"优惠信息"},project_discount_special_house:{module_name:"特价房信息",data:o.modle.projectDiscountSpecialHouse}},r={project_id:i.projectId,task_id:i.taskId,data:a},e.next=12,n.default.saveSpecialHouseData({params:JSON.stringify(r)});case 12:c=e.sent,0===(s=c.data).code?(o.pageLoading=!1,o.$message({type:"success",message:"提交成功"}),o.$emit("specialChangeStatus",!1)):(o.pageLoading=!1,o.$message(s.msg)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),o.pageLoading=!1,console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t){return e.apply(this,arguments)}}())}}};t.default=s},"53ec":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a}));var i=function(){var e=this.$createElement,t=this._self._c||e;return this.isProjectShow&&"1"===this.isProjectShow&&!this.$route.query.taskId?t("el-button",{attrs:{type:"warning"},on:{click:this.autoSetDynamic}},[this._v(" 自动生成动态 ")]):this._e()},a=[]},5685:function(e,t,o){var i=o("8d55");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,o("499e").default)("25e2899f",i,!0,{sourceMap:!1,shadowMode:!1})},6039:function(e,t,o){"use strict";o("5685")},"65ba":function(e,t,o){"use strict";o.r(t);var i=o("53ec"),a=o("85db");for(var n in a)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return a[e]}))}(n);var r=o("2877"),c=Object(r.a)(a.default,i.a,i.b,!1,null,"19f1d1d2",null);t.default=c.exports},"7acb":function(e,t,o){(t=o("24fb")(!1)).push([e.i,'.special-price-box[data-v-c74c52cc]{padding:15px 15px;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#fff;border-radius:7px}.special-price-box .head-line[data-v-c74c52cc]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-top:15px;padding-bottom:15px;font-size:16px}.special-price-box .form-content-box[data-v-c74c52cc]{width:1050px;padding-left:30px;margin-top:10px}.special-price-box .form-content-box .special-text[data-v-c74c52cc]{width:400px;word-break:break-all}.special-price-box .form-content-box .specia-photo-box[data-v-c74c52cc]{margin-top:30px}.special-price-box .form-content-box .photo-text[data-v-c74c52cc]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.special-price-box .form-content-box .photo-text h4[data-v-c74c52cc]{margin-right:20px}.special-price-box .form-content-box .photo-text span[data-v-c74c52cc]{font-size:12px;margin-top:2px}.special-price-box .footer[data-v-c74c52cc]{text-align:center;margin-top:30px}.special-price-box .footer[data-v-c74c52cc] .el-button{width:100px}.special-price-box .clear-float-box[data-v-c74c52cc]:after{display:block;clear:both;content:"";visibility:hidden;height:0}',""]),e.exports=t},"85db":function(e,t,o){"use strict";o.r(t);var i=o("1067"),a=o.n(i);for(var n in i)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(n);t.default=a.a},"8d55":function(e,t,o){(t=o("24fb")(!1)).push([e.i,".el-icon-warning[data-v-263e709c]{color:#ff6e0e;font-size:20px;margin-top:10px;margin-left:6px}.el-icon-warning.title-tip[data-v-263e709c]{margin-top:0}.header-title-box[data-v-263e709c]{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start}.special-price-box[data-v-263e709c]{padding:20px 15px;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#fff;border-radius:7px}.special-price-box .head-line[data-v-263e709c]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-top:15px;padding-bottom:15px;font-size:16px;min-height:40px}.special-price-box .form-content-box[data-v-263e709c]{width:1050px;margin-top:20px}.special-price-box .form-content-box .el-input[data-v-263e709c],.special-price-box .form-content-box .el-textarea[data-v-263e709c]{width:85%}.special-price-box .form-content-box .el-date-editor.el-input[data-v-263e709c]{width:330px}.special-price-box .form-content-box[data-v-263e709c] .btn-add-speical-room{margin-top:20px}.special-price-box .form-content-box .specia-photo-box[data-v-263e709c]{margin-top:30px}.special-price-box .form-content-box .photo-text[data-v-263e709c]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.special-price-box .form-content-box .photo-text h4[data-v-263e709c]{margin-right:20px}.special-price-box .form-content-box .photo-text span[data-v-263e709c]{font-size:12px;margin-top:2px}.special-price-box .form-content-box[data-v-263e709c] .el-radio{margin-bottom:5px}.special-price-box .footer[data-v-263e709c]{text-align:center;margin-top:30px}.special-price-box .footer[data-v-263e709c] .el-button{width:100px}",""]),e.exports=t},"94a8":function(e,t,o){"use strict";var i=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o("96cf");var a=i(o("1da1")),n=i(o("5530")),r=o("2af9"),c=i(o("0f4b")),s=i(o("65ba")),l=o("4c3a"),u=o("2f62"),d={name:"BuildSpecialPriceInfo",components:{AutoSetDynamic:s.default,ConfirmDialog:r.ConfirmDialog},data:function(){return{projectDiscountInfo:{},modle:{projectDiscountSpecialHouse:[]},breadText:"楼盘列表",confirmVisible:!1,flag:!0,loading:!1,isEdit:!1}},computed:(0,n.default)({},(0,u.mapState)({getEditAuth:function(e){return e.buildingDictionary.isAuditorAuth}})),mounted:function(){this.specialInfoIsEdit(),this.initSpecialInfoList(),this.isOperation()},methods:{specialInfoIsEdit:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,i,a,n,r,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={project_id:e.$route.query.projectId},t.next=4,c.default.isEdit(o);case 4:i=t.sent,a=i.data,n=a.code,r=a.msg,s=a.data,0===n?e.isEdit=!(!s||"1"!==s.is_edit):e.$message.error(r),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},delAllHide:function(){this.confirmVisible=!0},confirmAlert:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,i,a,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.flag){t.next=2;break}return t.abrupt("return");case 2:return e.flag=!1,t.prev=3,e.loading=!0,o={project_id:e.$route.query.projectId},t.next=8,c.default.delHideSpecialHouse(o);case 8:i=t.sent,a=i.data,n=a.code,r=a.msg,0===n?(e.$message.success("该楼盘下所有的隐藏特价房已删除"),e.confirmVisible=!1,e.initSpecialInfoList()):4001===n?(e.$message.warning(r),e.confirmVisible=!1):e.$message.error(r),e.loading=!1,e.flag=!0,t.next=22;break;case 17:t.prev=17,t.t0=t.catch(3),e.loading=!1,e.flag=!0,console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[3,17]])})))()},handleShortCut:function(){this.getEditAuth&&2==this.getEditAuth&&this.editPageInfo()},goToListPage:function(){"operation"===this.$route.query.role?window.location.href="/index.php?r=yw-projects/index":"expand"===this.$route.query.role&&this.$router.push({path:"/building/ExpandTaskList"})},isOperation:function(){"operation"===this.$route.query.role?this.breadText="楼盘列表":"expand"===this.$route.query.role&&(this.breadText="楼盘任务列表")},initSpecialInfoList:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o={project_id:e.$route.query.projectId,task_id:e.$route.query.taskId},t.next=4,c.default.initSpecialInfoData(o);case 4:i=t.sent,0===(a=i.data).code?(e.projectDiscountInfo=a.data.project_discount_info.data,e.modle.projectDiscountSpecialHouse=a.data.project_discount_special_house.data,e.projectDiscountInfo.end_datetime&&(e.projectDiscountInfo.end_datetime.field_value=(0,l.filterDate)(e.projectDiscountInfo.end_datetime.field_value,"YYYY-MM-DD")),e.projectDiscountInfo.discount_end_datetime&&(e.projectDiscountInfo.discount_end_datetime.field_value=(0,l.filterDate)(e.projectDiscountInfo.discount_end_datetime.field_value,"YYYY-MM-DD"))):e.$message(a.msg),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},editPageInfo:function(){this.$emit("specialChangeStatus",!0)}}};t.default=d},"9d6b":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"special-price-box"},[o("el-breadcrumb",{staticClass:"bread-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",[o("a",{attrs:{href:"/"}},[e._v("首页")])]),o("el-breadcrumb-item",[o("a",{on:{click:e.goToListPage}},[e._v(e._s(e.breadText))])]),o("el-breadcrumb-item",[e._v("优惠折扣特价")])],1),o("div",{staticClass:"head-line"},[o("h4",[e._v(e._s(e.$route.query.projectName+e.$route.query.buildingType)+" -- 优惠折扣特价")]),e.getEditAuth&&2==e.getEditAuth?o("div",[o("auto-set-dynamic"),e.isEdit?o("el-button",{attrs:{type:"primary"},on:{click:e.editPageInfo}},[e._v(" 编辑 ")]):e._e()],1):e._e()]),e._m(0),o("div",{staticClass:"form-content-box"},[o("el-form",{attrs:{model:e.projectDiscountInfo,"label-width":"100px"}},[e.projectDiscountInfo.pay_title?o("el-form-item",{attrs:{label:"优惠概述:"}},[o("p",[e._v(e._s(e.projectDiscountInfo.pay_title.field_value))])]):e._e(),e.projectDiscountInfo.pay_info?o("el-form-item",{attrs:{label:"当期折扣概述:"}},[o("p",[e._v(e._s(e.projectDiscountInfo.pay_info.field_value))])]):e._e(),e.projectDiscountInfo.old_pay_info?o("el-form-item",{attrs:{label:"往期折扣描述:"}},[o("p",{staticClass:"special-text"},[e._v(e._s(e.projectDiscountInfo.old_pay_info.field_value))])]):e._e(),e.projectDiscountInfo.discount_end_datetime?o("el-form-item",{attrs:{label:"优惠结束时间:"}},[o("p",[e._v(e._s(e.projectDiscountInfo.discount_end_datetime.field_value?e.projectDiscountInfo.discount_end_datetime.field_value+" 23 : 59 : 59":""))])]):e._e()],1)],1),e._m(1),o("div",{staticClass:"form-content-box"},[o("el-form",{ref:"formList",attrs:{"label-width":"100px",model:e.projectDiscountInfo}},[e.projectDiscountInfo.special_price_house_desc?o("el-form-item",{attrs:{label:"特价房概述:"}},[o("p",[e._v(e._s(e.projectDiscountInfo.special_price_house_desc.field_value))])]):e._e(),e.projectDiscountInfo.end_datetime?o("el-form-item",{attrs:{label:"结束时间:"}},[o("p",[e._v(e._s(e.projectDiscountInfo.end_datetime.field_value?e.projectDiscountInfo.end_datetime.field_value+" 23 : 59 : 59":""))])]):e._e()],1)],1),o("div",{staticClass:"modal-title-box"},[o("h3",{staticClass:"title-content"},[e._v("特价房信息")]),e.getEditAuth&&2==e.getEditAuth?o("el-button",{attrs:{type:"danger"},on:{click:e.delAllHide}},[e._v("一键删除隐藏特价房")]):e._e()],1),o("div",{staticClass:"special-room-info form-content-box"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.modle.projectDiscountSpecialHouse}},[e.modle.projectDiscountSpecialHouse[0]&&e.modle.projectDiscountSpecialHouse[0].house_num?o("el-table-column",{attrs:{label:"房号"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(t.row.house_num.field_value))])]}}],null,!1,3046026831)}):e._e(),e.modle.projectDiscountSpecialHouse[0]&&e.modle.projectDiscountSpecialHouse[0].acreage?o("el-table-column",{attrs:{label:"面积(㎡)"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(t.row.acreage.field_value))])]}}],null,!1,273806676)}):e._e(),e.modle.projectDiscountSpecialHouse[0]&&e.modle.projectDiscountSpecialHouse[0].price?o("el-table-column",{attrs:{label:"原总价(万元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(t.row.price.field_value))])]}}],null,!1,2952938703)}):e._e(),e.modle.projectDiscountSpecialHouse[0]&&e.modle.projectDiscountSpecialHouse[0].special_price?o("el-table-column",{attrs:{label:"特价(万元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(t.row.special_price.field_value))])]}}],null,!1,559208721)}):e._e(),e.modle.projectDiscountSpecialHouse[0]&&e.modle.projectDiscountSpecialHouse[0].is_show?o("el-table-column",{attrs:{label:"是否显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("p",[e._v(e._s(2===t.row.is_show.field_value?"隐藏":"显示"))])]}}],null,!1,3824935445)}):e._e()],1)],1),o("confirm-dialog",{attrs:{title:"提示",content:"您确定要批量删除所有隐藏特价房吗？删除后数据无法恢复，请谨慎操作！",confirmBtn:"确定",visible:e.confirmVisible,width:"350px"},on:{cancel:function(t){e.confirmVisible=!1},confirm:e.confirmAlert}})],1)},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-title-box"},[t("h3",{staticClass:"title-content"},[this._v("优惠信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-title-box"},[t("h3",{staticClass:"title-content"},[this._v("特价房信息")])])}]},a56a:function(e,t,o){"use strict";o.r(t);var i=o("dbdd"),a=o("2193");for(var n in a)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return a[e]}))}(n);o("6039");var r=o("2877"),c=Object(r.a)(a.default,i.a,i.b,!1,null,"263e709c",null);t.default=c.exports},a9c4:function(e,t,o){"use strict";o.r(t);var i=o("9d6b"),a=o("364f");for(var n in a)["default"].indexOf(n)<0&&function(e){o.d(t,e,(function(){return a[e]}))}(n);o("162a");var r=o("2877"),c=Object(r.a)(a.default,i.a,i.b,!1,null,"c74c52cc",null);t.default=c.exports},d626:function(e,t,o){var i=o("7acb");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,o("499e").default)("e7105334",i,!0,{sourceMap:!1,shadowMode:!1})},dbdd:function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return a}));var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageLoading,expression:"pageLoading"}],staticClass:"special-price-box"},[o("el-breadcrumb",{staticClass:"bread-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[o("el-breadcrumb-item",[o("a",{attrs:{href:"/"}},[e._v("首页")])]),o("el-breadcrumb-item",[o("a",{on:{click:e.goToListPage}},[e._v(e._s(e.breadText))])]),o("el-breadcrumb-item",[e._v("优惠折扣特价")]),o("el-breadcrumb-item",[e._v("编辑")])],1),o("div",{staticClass:"head-line"},[o("h4",[e._v(e._s(e.$route.query.projectName+e.$route.query.buildingType)+" -- 优惠折扣特价")])]),e._m(0),o("div",{staticClass:"form-content-box"},[o("el-form",{attrs:{model:e.projectDiscountInfo,"label-width":"120px"}},[e.projectDiscountInfo.pay_title?o("el-form-item",{attrs:{label:"优惠概述:"}},[o("el-input",{attrs:{maxlength:"8",placeholder:"请输入优惠概述"},model:{value:e.projectDiscountInfo.pay_title.field_value,callback:function(t){e.$set(e.projectDiscountInfo.pay_title,"field_value",t)},expression:"projectDiscountInfo.pay_title.field_value"}})],1):e._e(),e.projectDiscountInfo.pay_info?o("el-form-item",{attrs:{label:"当期折扣概述:"}},[o("el-input",{attrs:{type:"textarea",maxlength:"50",placeholder:"请输入当期折扣概述"},model:{value:e.projectDiscountInfo.pay_info.field_value,callback:function(t){e.$set(e.projectDiscountInfo.pay_info,"field_value",t)},expression:"projectDiscountInfo.pay_info.field_value"}}),o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 1.无优惠不要填写，空格也要删除 "),o("br"),e._v(" 2.具体填写规则本着降低用户阅读成本为基础，例如5万抵10万，可直接写优惠5万（当有具体其他规则时，补充完整） "),o("br"),e._v(" 3. 当出现不同的限制条件时，由于字数限制或其他原因无法全部展示时，选择出现较多的情况填写 "),o("br"),e._v(" 4.优惠信息过时后将该条优惠信息加到【往期优惠】字段里 ")]),o("i",{staticClass:"el-icon-warning",attrs:{"aria-hidden":"true"}})])],1):e._e(),e.projectDiscountInfo.old_pay_info?o("el-form-item",{attrs:{label:"往期折扣描述:"}},[o("el-input",{attrs:{type:"textarea",maxlength:"255",placeholder:"请输入往期折扣描述"},model:{value:e.projectDiscountInfo.old_pay_info.field_value,callback:function(t){e.$set(e.projectDiscountInfo.old_pay_info,"field_value",t)},expression:"projectDiscountInfo.old_pay_info.field_value"}})],1):e._e(),e.projectDiscountInfo.discount_end_datetime?o("el-form-item",{attrs:{label:"优惠结束时间:"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd","picker-options":e.expireTimeOption},model:{value:e.projectDiscountInfo.discount_end_datetime.field_value,callback:function(t){e.$set(e.projectDiscountInfo.discount_end_datetime,"field_value",t)},expression:"projectDiscountInfo.discount_end_datetime.field_value"}}),e._v(" 23 : 59 : 59 ")],1):e._e()],1)],1),e._m(1),o("div",{staticClass:"form-content-box"},[o("el-form",{ref:"formList",attrs:{"label-width":"120px",model:e.projectDiscountInfo}},[e.projectDiscountInfo.special_price_house_desc?o("el-form-item",{class:e.isRequired?"is-required":"",attrs:{label:"特价房概述:",prop:"special_price_house_desc.field_value",rules:[{validator:function(t,o,i){return e.descIsRequired(t,o,i)},message:"请输入特价房描述",trigger:"blur"}]}},[o("el-input",{attrs:{maxlength:"20",placeholder:"请输入特价房概述"},model:{value:e.projectDiscountInfo.special_price_house_desc.field_value,callback:function(t){e.$set(e.projectDiscountInfo.special_price_house_desc,"field_value",t)},expression:"projectDiscountInfo.special_price_house_desc.field_value"}}),o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 总规则：注意不要违反广告法，这是最重要的基础原则，然后在内容上简洁明了，突出重点。 ")]),o("i",{staticClass:"el-icon-warning",attrs:{"aria-hidden":"true"}})])],1):e._e(),e.projectDiscountInfo.end_datetime?o("el-form-item",{attrs:{label:"结束时间:"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd","picker-options":e.expireTimeOption},model:{value:e.projectDiscountInfo.end_datetime.field_value,callback:function(t){e.$set(e.projectDiscountInfo.end_datetime,"field_value",t)},expression:"projectDiscountInfo.end_datetime.field_value"}}),e._v(" 23 : 59 : 59 ")],1):e._e()],1)],1),o("div",{staticClass:"modal-title-box header-title-box"},[o("h3",{staticClass:"title-content"},[e._v("特价房信息")]),o("el-tooltip",{attrs:{placement:"top"}},[o("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 录入规则： "),o("br"),e._v(" · 若获取到特价房的完整信息（包括房间号、户型建面、原总价、现特价总价、结束时间），正确录入即可。 "),o("br"),e._v(" · 若只获取到部分信息，如：房间号、户型建面、优惠单价，则需要自行计算总价（户型建面x优惠单价），再进行录入。 "),o("br"),e._v(" · 若始终获取不全信息，无法录入特价房，则录入到优惠信息中，类似这种，与商务沟通后，依然拿不到房间号，就录入到优惠当中。 "),o("br"),e._v(" 注意点！！！ "),o("br"),e._v(" · 在录入总价时，特别注意总价的单位是万元，一定记住加小数点，默认小数点后四位。 "),o("br"),e._v(" · 特价房到期后会自动隐藏，再次进行特价房录入时，建议不要删除之前的特价房，因为你不知道是否会在后期再用到，教训深刻。 "),o("br"),e._v(" · 在特价房录入房间号时，如果需要展示楼栋和单元号时，参考开发商的格式，中间用“-”连接。 ")]),o("i",{staticClass:"el-icon-warning title-tip",attrs:{"aria-hidden":"true"}})])],1),o("div",{staticClass:"special-room-info form-content-box"},[o("el-form",{ref:"formListRules",attrs:{model:e.modle,"validate-on-rule-change":!1}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.modle.projectDiscountSpecialHouse}},[e.modle.projectDiscountSpecialHouse[0]&&e.modle.projectDiscountSpecialHouse[0].house_num?o("el-table-column",{attrs:{label:"房号"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form-item",{attrs:{prop:"projectDiscountSpecialHouse."+t.$index+".house_num.field_value",rules:[{required:!0,message:"请输入房号",trigger:"blur"}]}},[o("el-input",{attrs:{minlength:"1",size:"medium",maxlength:"15"},on:{input:function(o){return e.inputVal(t.row)}},model:{value:t.row.house_num.field_value,callback:function(o){e.$set(t.row.house_num,"field_value",o)},expression:"scope.row.house_num.field_value"}})],1)]}}],null,!1,3521456279)}):e._e(),e.modle.projectDiscountSpecialHouse[0]&&e.modle.projectDiscountSpecialHouse[0].acreage?o("el-table-column",{attrs:{label:"面积(㎡)"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form-item",{attrs:{prop:"projectDiscountSpecialHouse."+t.$index+".acreage.field_value",rules:[{required:!0,message:"请输入面积",trigger:"blur"}]}},[o("jl-number-input",{attrs:{minVal:"1",maxVal:"99999.99",reg:"twoNum"},model:{value:t.row.acreage.field_value,callback:function(o){e.$set(t.row.acreage,"field_value",o)},expression:"scope.row.acreage.field_value"}})],1)]}}],null,!1,1026567850)}):e._e(),e.modle.projectDiscountSpecialHouse[0]&&e.modle.projectDiscountSpecialHouse[0].price?o("el-table-column",{attrs:{label:"原总价(万元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form-item",[o("jl-number-input",{attrs:{minVal:"1",maxVal:"99999.9999",reg:"fourNum"},model:{value:t.row.price.field_value,callback:function(o){e.$set(t.row.price,"field_value",o)},expression:"scope.row.price.field_value"}})],1)]}}],null,!1,576848391)}):e._e(),e.modle.projectDiscountSpecialHouse[0]&&e.modle.projectDiscountSpecialHouse[0].special_price?o("el-table-column",{attrs:{label:"特价(万元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form-item",{attrs:{prop:"projectDiscountSpecialHouse."+t.$index+".special_price.field_value",rules:[{required:!0,message:"请输入特价",trigger:"blur"}]}},[o("jl-number-input",{attrs:{minVal:"1",maxVal:"99999.9999",reg:"fourNum"},model:{value:t.row.special_price.field_value,callback:function(o){e.$set(t.row.special_price,"field_value",o)},expression:"scope.row.special_price.field_value"}})],1)]}}],null,!1,1359263915)}):e._e(),e.modle.projectDiscountSpecialHouse[0]&&e.modle.projectDiscountSpecialHouse[0].is_show?o("el-table-column",{attrs:{label:"是否显示",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form-item",[o("el-radio-group",{on:{change:e.isValidate},model:{value:t.row.is_show.field_value,callback:function(o){e.$set(t.row.is_show,"field_value",o)},expression:"scope.row.is_show.field_value"}},[o("el-radio",{attrs:{label:1}},[e._v(" 显示 ")]),o("el-radio",{attrs:{label:2}},[e._v(" 隐藏 ")])],1)],1)]}}],null,!1,3061268880)}):e._e(),e.modle.projectDiscountSpecialHouse[0]?o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form-item",[o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.removeLine(t.row,t.$index,e.modle.projectDiscountSpecialHouse)}}},[e._v(" 删除 ")])],1)]}}],null,!1,210964079)}):e._e()],1)],1),o("el-button",{staticClass:"btn-add-speical-room",attrs:{type:"primary"},on:{click:e.addSpeicalRoom}},[e._v(" 增加特价房 ")])],1),o("div",{staticClass:"footer"},[o("el-button",{on:{click:e.cancel}},[e._v("取消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveDataList("formList","formListRules")}}},[e._v(" 提交 ")])],1)],1)},a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-title-box"},[t("h3",{staticClass:"title-content"},[this._v("优惠信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"modal-title-box"},[t("h3",{staticClass:"title-content"},[this._v("特价房信息")])])}]}}]);