(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-701441c6"],{"33ce":function(a,t,e){var i=e("b7e4");"string"==typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);(0,e("499e").default)("63c1346e",i,!0,{sourceMap:!1,shadowMode:!1})},4299:function(a,t,e){"use strict";var i=e("4ea4");e("99af"),e("7db0"),e("a434"),e("d3b7"),e("ac1f"),e("25f0"),e("5319"),e("841c"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e("96cf");var n=i(e("1da1")),o=i(e("4543")),s={name:"payment-information",data:function(){return{tableData:[],current_month_money:"",current_week_money:"",current_day_money:"",is_show_add:2,pages:{defaultPageSize:0,indexPage:1,pageTotal:0},bank_list:[],verify_list:[],payback_list:[],verify_time:[],arrival_time:[],seach_options:{bank_type:"",bank_flow_number:"",payment_company:"",arrival_time_begin:"",arrival_time_end:"",verify_time_begin:"",verify_time_end:"",gathering_company_name:"",gathering_company_options:[],verify_status:"",payback_type:"",dealId:""},see_self:!1,see_has_refund:!1,is_add_dialog:!1,is_add_btn_disabled:!0,add_bank_options:{id:"",bank_name:"",bank_flow_number:"",payment_account:"",payment_company:"",gathering_company_name:"",gathering_company_name_options:[],gathering_company_account:"",gathering_company_account_options:[],arrival_time:"",arrival_money:""},add_bank_dialog_title:"",cityOptions:[],loading:!1,codeIndex:"",is_addcash_dialog:!1,is_addcash_btn_disabled:!0,formCash:{id:"",city:"",subject:[{codeOptions:[],code:"",money:"",id:""}],radioVal:"10",abstract:""},pay_url:"",code_options:[],delete_cash:[],flag:!0,addCashAccount:{options:[],id:""},urlId:"",updateTime:"",cityListData:[],cityListId:"",cityIsBare:!1,conpanyNumberVal:"",conpanyNumberList:[],arrvialMoney:"",roleFlag:"",updateCashFlow:!1,dialogText:"添加到现金流"}},mounted:function(){this.getCityList(),this.getHistorySearchParam()},methods:{getCityList:function(){var a=this;return(0,n.default)(regeneratorRuntime.mark((function t(){var e,i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={type:"2",param:"noAll"},t.prev=1,t.next=4,o.default.getDetailCityListData(e);case 4:i=t.sent,0===(n=i.data).code&&(a.cityListData=n.data),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},getCompanyNumber:function(a){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i,n,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===a){e.next=13;break}return i={q:a},e.prev=2,e.next=5,o.default.getCompanyNumberData(i);case 5:n=e.sent,0===(s=n.data).code&&(t.conpanyNumberList=s.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))()},getChangeVal:function(a,t){"companyName"===t?this.changeVal=this.seach_options.gathering_company_options.find((function(t){return t.id===a})):"companyNumber"===t&&(this.changeNumberVal=this.conpanyNumberList.find((function(t){return t.id===a})))},getHistorySearchParam:function(){var a=localStorage.getItem("searchListData")?JSON.parse(localStorage.getItem("searchListData")):{};this.seach_options.bank_type=a.bankType,this.seach_options.bank_flow_number=a.bankFlowNumber,this.seach_options.payment_company=a.paymentCompany,this.seach_options.dealId=a.dealId,this.arrival_time=a.arrivalTime,this.verify_time=a.verifyTime,a.gatheringCompanyName&&(this.seach_options.gathering_company_options.push(a.gatheringCompanyName),this.changeVal=a.gatheringCompanyName,this.seach_options.gathering_company_name=a.gatheringCompanyName.id),a.campanyNum&&(this.conpanyNumberList.push(a.campanyNum),this.changeNumberVal=a.campanyNum,this.conpanyNumberVal=a.campanyNum.text),this.seach_options.verify_status=a.verifyStatus,this.seach_options.payback_type=a.paybackType,this.cityListId=a.cityId,this.see_self=a.seeSelf,this.see_has_refund=a.seeHasRefund,this.cityIsBare=a.cityIsBare,this.arrvialMoney=a.arrvialMoney,this.search(1)},updateRateVal:function(a){this.arrvialMoney=a.target.value},jumpBankFlow:function(a){this.$router.push({path:"/payment/updateBankFlow",query:{flowId:a.row.id}})},payBackDetail:function(){this.$router.push({path:"/payment/payBackDetail"})},closeAddCash:function(){this.codeIndex="",this.formCash.city="",this.formCash.abstract="",this.formCash.subject=[{codeOptions:[],code:"",money:"",id:""}],this.is_addcash_btn_disabled=!0},nextWriteOff:function(a){for(var t=this,e={id:this.formCash.id,city_id:this.formCash.city,abstract:this.formCash.abstract,update_datetime_validate:this.updateTime,role_flag:this.roleFlag,receipt_type:this.formCash.radioVal},i=[],n=0;n<this.formCash.subject.length;n++){var o={id:this.formCash.subject[n].id,class_id:this.formCash.subject[n].code,actual_money:this.formCash.subject[n].money};i.push(o)}e.cash_data=i;for(var s=[],r=0;r<this.delete_cash.length;r++){var d={id:this.delete_cash[r].id,class_id:this.delete_cash[r].code,actual_money:this.delete_cash[r].money};s.push(d)}e.delete_cash=s,this.flag&&(this.flag=!1,this.axios.post("/backend-api/expand/ex-bank-flow/edit-cash-flow",e).then((function(e){t.flag=!0,200===e.status&&0===e.data.code?(t.is_addcash_dialog=!1,"go"===a?t.$router.push({path:"/payment/writeoffPayment",query:{flowId:t.formCash.id}}):t.search()):alert(e.data.msg)})))},focusCode:function(a){this.codeIndex=a},changeCompanyName:function(){this.add_bank_options.gathering_company_account="",this.add_bank_options.gathering_company_account_options=[],this.add_bank_options.gathering_company_account_options=this.addCashAccount.options,this.add_bank_options.gathering_company_account_options=this.addCashAccount.id},selectCompanyName:function(a){var t=this;if(""!==a){this.loading=!0;var e={q:a};this.axios.get("/backend-api/select2/bank/get-company-name",{params:e}).then((function(a){t.loading=!1,200===a.status&&(t.add_bank_options.gathering_company_name_options=a.data.data)}))}},focusCompanyName:function(){var a=this;this.axios.get("/backend-api/select2/bank/get-company-name").then((function(t){200===t.status&&(a.add_bank_options.gathering_company_name_options=t.data.data)}))},selectSeachCompanyName:function(a){var t=this;if(""!==a){this.loading=!0;var e={q:a};this.axios.get("/backend-api/select2/bank/get-company-name",{params:e}).then((function(a){t.loading=!1,200===a.status&&(t.seach_options.gathering_company_options=a.data.data)}))}},selectCompanyAccount:function(a){var t=this;if(""!==a){this.loading=!0;var e={q:a,companyId:this.add_bank_options.gathering_company_name};this.axios.get("/backend-api/select2/bank/get-account-number",{params:e}).then((function(a){t.loading=!1,200===a.status&&(t.add_bank_options.gathering_company_account_options=a.data.data)}))}},focusCompanyAccount:function(){var a=this,t={q:"",companyId:this.add_bank_options.gathering_company_name};this.axios.get("/backend-api/select2/bank/get-account-number",{params:t}).then((function(t){200===t.status&&(a.add_bank_options.gathering_company_account_options=t.data.data)}))},selectCode:function(a){var t=this;if(""!==a){this.loading=!0;var e={q:a};this.axios.get("/backend-api/select2/select2/get-second-level-sn-name",{params:e}).then((function(a){t.loading=!1,200===a.status&&(t.formCash.subject[t.codeIndex].codeOptions=a.data)}))}},inputSubjectMoney:function(a,t){this.formCash.subject[a].money=this.regularAmount(t)},addSubject:function(a){this.formCash.subject.length<10&&this.formCash.subject.push({codeOptions:[],code:"",money:"",id:""})},deleteSubject:function(a){var t=this.formCash.subject.splice(a,1);this.delete_cash.push(t[0])},regularAmount:function(a){var t=a.replace(/[^\d.]/g,"");return(t=(t=t.replace(/\.{2,}/g,"")).replace(".","$#$").replace(/\./g,"").replace("$#$",".")).replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3")},inputMoney:function(a){this.add_bank_options.arrival_money=this.regularAmount(a)},confirmAddCash:function(){var a=this,t={id:this.add_bank_options.id,bank_name:this.add_bank_options.bank_name,bank_flow_number:this.add_bank_options.bank_flow_number,payment_account:this.add_bank_options.payment_account,payment_company:this.add_bank_options.payment_company,cw_company_config_id:this.add_bank_options.gathering_company_name,cw_accounts_id:this.add_bank_options.gathering_company_account,arrival_time:this.add_bank_options.arrival_time?this.add_bank_options.arrival_time:"",arrival_money:this.add_bank_options.arrival_money};this.flag&&(this.flag=!1,this.axios.post("/backend-api/expand/ex-bank-flow/edit",t).then((function(t){a.flag=!0,200===t.status&&0===t.data.code?(a.is_add_dialog=!1,a.search()):alert(t.data.msg)})))},closeAddBank:function(){for(var a in this.arrival_time="",this.add_bank_options)this.add_bank_options[a]=""},addCashShow:function(){var a=this;this.add_bank_dialog_title="手动添加银行回款",this.axios.get("/backend-api/select2/bank/get-last-flow-data").then((function(t){if(200===t.status&&0===t.data.code){var e=t.data.data,i={id:e.cw_accounts_id,text:e.gathering_company_account};a.addCashAccount.options=[],a.addCashAccount.options.push(i),a.addCashAccount.id=e.cw_accounts_id,a.add_bank_options.gathering_company_account_options=[],a.add_bank_options.gathering_company_account_options.push(i),a.add_bank_options.gathering_company_account=e.cw_accounts_id;var n={id:e.cw_company_config_id,text:e.gathering_company_name};a.add_bank_options.gathering_company_name_options=[],a.add_bank_options.gathering_company_name_options.push(n),a.add_bank_options.gathering_company_name=e.cw_company_config_id,a.add_bank_options.id="",a.add_bank_options.bank_name=e.bank_name,a.add_bank_options.bank_flow_number=e.bank_flow_number,a.add_bank_options.payment_account=e.payment_account,a.add_bank_options.payment_company=e.payment_company,a.add_bank_options.arrival_money=e.arrival_money,a.add_bank_options.arrival_time=e.arrival_time}})),this.is_add_dialog=!0},writeOff:function(a){var t=this;if(1*a.row.jump_verify_page==1)this.$router.push({path:"/payment/writeoffPayment",query:{flowId:a.row.id}});else{this.updateCashFlow=!1,this.formCash.id=a.row.id,1*a.row.city_id!=-2?this.formCash.city=a.row.city_id:this.formCash.city="";var e={id:a.row.id};this.axios.get("/backend-api/expand/ex-bank-flow/edit-cash-flow",{params:e}).then((function(e){if(200===e.status&&0===e.data.code){t.is_addcash_dialog=!0,t.dialogText="添加到现金流",t.formCash.subject=[];var i={codeOptions:"",code:"",money:a.row.arrival_money,id:""};t.formCash.subject.push(i);var n=e.data.data;t.updateTime=n.update_datetime_validate,t.roleFlag=n.role_flag}else alert(e.data.msg)}))}},editOrder:function(a){var t={id:a.row.cw_accounts_id,text:a.row.gathering_company_account};this.addCashAccount.options=[],this.addCashAccount.options.push(t),this.addCashAccount.id=a.row.cw_accounts_id,this.add_bank_options.gathering_company_account_options=[],this.add_bank_options.gathering_company_account_options.push(t),this.add_bank_options.gathering_company_account=a.row.cw_accounts_id;var e={id:a.row.cw_company_config_id,text:a.row.gathering_company_name};this.add_bank_options.gathering_company_name_options=[],this.add_bank_options.gathering_company_name_options.push(e),this.add_bank_options.gathering_company_name=a.row.cw_company_config_id,this.add_bank_options.id=a.row.id,this.add_bank_options.bank_name=a.row.bank_name,this.add_bank_options.bank_flow_number=a.row.bank_flow_number,this.add_bank_options.payment_account=a.row.payment_account,this.add_bank_options.payment_company=a.row.payment_company,this.add_bank_options.arrival_money=a.row.arrival_money,this.add_bank_options.arrival_time=a.row.arrival_time,this.add_bank_dialog_title="修改银行回款",this.is_add_dialog=!0},deleteOrder:function(a){var t=this,e={id:a.row.id},i="您是想把".concat(a.row.arrival_time," ").concat(a.row.payment_company,"到账的").concat(a.row.arrival_money," 删除吗？");this.$confirm(i,"删除订单",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(){t.axios.get("/backend-api/expand/ex-bank-flow/delete",{params:e}).then((function(a){200===a.status&&0===a.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.search())}))})).catch((function(){}))},editCash:function(a){var t=this;this.updateCashFlow=!0,this.dialogText="修改现金流";var e={id:a.row.id};this.axios.get("/backend-api/expand/ex-bank-flow/edit-cash-flow",{params:e}).then((function(a){if(200===a.status&&0===a.data.code){var e=a.data.data;t.updateTime=e.update_datetime_validate,t.roleFlag=e.role_flag,t.is_addcash_dialog=!0,t.formCash.id=e.id,t.formCash.city=e.city_id,t.formCash.abstract=e.abstract,t.formCash.subject=[],t.formCash.radioVal=e.receipt_type.toString();for(var i=0;i<e.cash_data.length;i++){var n={codeOptions:t.code_options,code:e.cash_data[i].class_id,money:e.cash_data[i].actual_money,id:e.cash_data[i].id};t.formCash.subject.push(n)}}else alert(a.data.msg)}))},refund:function(a){window.open(this.pay_url,"_blank")},seeWriteOff:function(a){var t=this.$router.resolve({path:"/payment/writeoffPayment",query:{flowId:a.row.id}});window.open(t.href,"_blank")},search:function(a){var t={bankType:this.seach_options.bank_type,bankFlowNumber:this.seach_options.bank_flow_number,paymentCompany:this.seach_options.payment_company,arrivalTime:this.arrival_time||[],verifyTime:this.verify_time||[],gatheringCompanyName:this.changeVal,verifyStatus:this.seach_options.verify_status,paybackType:this.seach_options.payback_type,cityId:this.cityListId,campanyNum:this.changeNumberVal,seeSelf:this.see_self,seeHasRefund:this.see_has_refund,cityIsBare:this.cityIsBare,arrvialMoney:this.arrvialMoney,dealId:this.seach_options.dealId};localStorage.setItem("searchListData",JSON.stringify(t)),this.arrival_time=this.arrival_time||[],this.verify_time=this.verify_time||[];var e={bank_type:this.seach_options.bank_type,bank_flow_number:this.seach_options.bank_flow_number,payment_company:this.seach_options.payment_company,arrival_time_begin:this.arrival_time[0]?this.arrival_time[0]:"",arrival_time_end:this.arrival_time[1]?this.arrival_time[1]:"",verify_time_begin:this.verify_time[0]?this.verify_time[0]:"",verify_time_end:this.verify_time[1]?this.verify_time[1]:"",cw_company_config_id:this.seach_options.gathering_company_name,verify_status:this.seach_options.verify_status,payback_type:this.seach_options.payback_type,see_self:this.see_self?1:2,see_has_refund:this.see_has_refund?1:2,page:a||this.pages.indexPage,city_id:this.cityListId,gathering_company_account:this.conpanyNumberVal,see_city_is_empty:this.cityIsBare?1:2,arrival_money:this.arrvialMoney,deal_id:this.seach_options.dealId};this.initData(e)},reset:function(){for(var a in this.verify_time=[],this.arrival_time=[],this.see_self=!1,this.see_has_refund=!1,this.pages.indexPage=1,this.seach_options)this.seach_options[a]="";this.seach_options.gathering_company_options=[],this.cityListId="",this.cityIsBare=!1,this.conpanyNumberVal="",this.arrvialMoney="",localStorage.removeItem("searchListData"),this.initData()},pageChange:function(a){this.pages.indexPage=a,this.search()},initData:function(a){var t=this,e=a||{};e.id=this.urlId?this.urlId:"",this.axios.get("/backend-api/expand/ex-bank-flow/index",{params:e}).then((function(a){if(200===a.status&&0===a.data.code){var e=a.data.data;t.tableData=e.list,t.current_month_money=e.current_month_money,t.current_week_money=e.current_week_money,t.current_day_money=e.current_day_money,t.is_show_add=e.add_bank_flow_show_status,t.pages=e.pages,t.pay_url=e.pay_url}}))},getCity:function(){var a=this;this.axios.get("/backend-api/select2/bank/get-city-dropdown-list",{params:{type:"2"}}).then((function(t){0===t.data.code&&(a.cityOptions=t.data.data)})).catch((function(a){console.log(a)}))}},created:function(){var a=this;this.urlId=this.$route.query.id,this.initData(),this.getCity(),this.axios.get("/backend-api/expand/ex-bank-flow/constants").then((function(t){200===t.status&&0===t.data.code&&(a.bank_list=t.data.data.bank_type,a.verify_list=t.data.data.verify_status,a.payback_list=t.data.data.payback_type)})),this.axios.get("/backend-api/select2/select2/get-second-level-sn-name").then((function(t){200===t.status&&(a.code_options=t.data)}))},watch:{add_bank_options:{handler:function(a){1*a.arrival_money>0&&""!==a.gathering_company_name&&""!==a.gathering_company_account&&(""!==a.arrival_time||null!==a.arrival_time)?this.is_add_btn_disabled=!1:this.is_add_btn_disabled=!0},deep:!0},formCash:{handler:function(a){if(this.is_addcash_btn_disabled=!1,2===this.roleFlag&&""!==a.city)this.is_addcash_btn_disabled=!1;else{for(var t=a.subject,e=0;e<t.length;e++)if(""===t[e].code||""===t[e].money){this.is_addcash_btn_disabled=!0;break}""===a.city&&(this.is_addcash_btn_disabled=!0)}},deep:!0}}};t.default=s},a35d:function(a,t,e){"use strict";e.r(t);var i=e("a3bb"),n=e("fedf");for(var o in n)["default"].indexOf(o)<0&&function(a){e.d(t,a,(function(){return n[a]}))}(o);e("efc3");var s=e("2877"),r=Object(s.a)(n.default,i.a,i.b,!1,null,"6d5a67de",null);t.default=r.exports},a3bb:function(a,t,e){"use strict";e.d(t,"a",(function(){return i})),e.d(t,"b",(function(){return n}));var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"payment-information"},[e("el-breadcrumb",{staticClass:"bread-crumb-box",attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",[e("a",{attrs:{href:"/"}},[a._v("首页")])]),e("el-breadcrumb-item",[a._v("银行回款信息")])],1),e("div",{staticClass:"v-box"},[a._m(0),e("div",{staticClass:"bd"},[e("ul",{staticClass:"s-query search"},[e("li",[e("div",{staticClass:"th"},[a._v("银行名称：")]),e("div",{staticClass:"td"},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:a.seach_options.bank_type,callback:function(t){a.$set(a.seach_options,"bank_type",t)},expression:"seach_options.bank_type"}},a._l(a.bank_list,(function(a){return e("el-option",{key:a.key,attrs:{label:a.value,value:a.key}})})),1)],1)]),e("li",[e("div",{staticClass:"th"},[a._v("银行流水号：")]),e("div",{staticClass:"td"},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:a.seach_options.bank_flow_number,callback:function(t){a.$set(a.seach_options,"bank_flow_number","string"==typeof t?t.trim():t)},expression:"seach_options.bank_flow_number"}})],1)]),e("li",[e("div",{staticClass:"th"},[a._v("付款公司：")]),e("div",{staticClass:"td"},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:a.seach_options.payment_company,callback:function(t){a.$set(a.seach_options,"payment_company","string"==typeof t?t.trim():t)},expression:"seach_options.payment_company"}})],1)]),e("li",{staticClass:"w-auto"},[e("div",{staticClass:"th"},[a._v("到账时间：")]),e("div",{staticClass:"td"},[e("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:a.arrival_time,callback:function(t){a.arrival_time=t},expression:"arrival_time"}})],1)]),e("li",{staticClass:"w-auto"},[e("div",{staticClass:"th"},[a._v("核销时间：")]),e("div",{staticClass:"td"},[e("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:a.verify_time,callback:function(t){a.verify_time=t},expression:"verify_time"}})],1)]),e("li",[e("div",{staticClass:"th"},[a._v("公司名称：")]),e("div",{staticClass:"td"},[e("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":a.selectSeachCompanyName,loading:a.loading},on:{change:function(t){return a.getChangeVal(t,"companyName")}},model:{value:a.seach_options.gathering_company_name,callback:function(t){a.$set(a.seach_options,"gathering_company_name","string"==typeof t?t.trim():t)},expression:"seach_options.gathering_company_name"}},a._l(a.seach_options.gathering_company_options,(function(a){return e("el-option",{key:a.id,attrs:{label:a.text,value:a.id}})})),1)],1)]),e("li",[e("div",{staticClass:"th"},[a._v("核销状态：")]),e("div",{staticClass:"td"},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:a.seach_options.verify_status,callback:function(t){a.$set(a.seach_options,"verify_status",t)},expression:"seach_options.verify_status"}},a._l(a.verify_list,(function(a){return e("el-option",{key:a.key,attrs:{label:a.value,value:a.key}})})),1)],1)]),e("li",[e("div",{staticClass:"th"},[a._v("回款类型：")]),e("div",{staticClass:"td"},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:a.seach_options.payback_type,callback:function(t){a.$set(a.seach_options,"payback_type",t)},expression:"seach_options.payback_type"}},a._l(a.payback_list,(function(a){return e("el-option",{key:a.key,attrs:{label:a.value,value:a.key}})})),1)],1)]),e("li",[e("div",{staticClass:"th"},[a._v("城市ID：")]),e("div",{staticClass:"td"},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:a.cityListId,callback:function(t){a.cityListId=t},expression:"cityListId"}},a._l(a.cityListData,(function(a){return e("el-option",{key:a.id,attrs:{label:a.text,value:a.id}})})),1)],1)]),e("li",[e("div",{staticClass:"th"},[a._v("成交ID：")]),e("div",{staticClass:"td"},[e("jl-number-input",{attrs:{reg:"number",placeholder:"精确搜索"},model:{value:a.seach_options.dealId,callback:function(t){a.$set(a.seach_options,"dealId","string"==typeof t?t.trim():t)},expression:"seach_options.dealId"}})],1)]),e("li",[e("div",{staticClass:"th"},[a._v("公司账户名称：")]),e("div",{staticClass:"td"},[e("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入公司账号","remote-method":a.getCompanyNumber},on:{change:function(t){return a.getChangeVal(t,"companyNumber")}},model:{value:a.conpanyNumberVal,callback:function(t){a.conpanyNumberVal="string"==typeof t?t.trim():t},expression:"conpanyNumberVal"}},a._l(a.conpanyNumberList,(function(a){return e("el-option",{key:a.id,attrs:{label:a.text,value:a.text}})})),1)],1)]),e("li",[e("div",{staticClass:"th"},[a._v("到账金额：")]),e("div",{staticClass:"td"},[e("jl-number-input",{attrs:{value:a.arrvialMoney,reg:"twoNum",placeholder:"请输入到账金额"},nativeOn:{input:function(t){return a.updateRateVal(t)}}})],1)]),e("li",{staticClass:"w-auto"},[e("div",{staticClass:"th"}),e("div",{staticClass:"td"},[e("el-checkbox",{model:{value:a.see_self,callback:function(t){a.see_self=t},expression:"see_self"}},[a._v("只看自己的核销记录")]),e("el-checkbox",{model:{value:a.see_has_refund,callback:function(t){a.see_has_refund=t},expression:"see_has_refund"}},[a._v("只看有退款的")]),e("el-checkbox",{model:{value:a.cityIsBare,callback:function(t){a.cityIsBare=t},expression:"cityIsBare"}},[a._v("城市为空")])],1)])]),e("div",{staticClass:"btn-area"},[e("button",{staticClass:"btn btn-reset",on:{click:a.reset}},[a._v("重置")]),e("button",{staticClass:"btn btn-search",on:{click:function(t){return a.search(1)}}},[a._v("搜索")])])])]),e("div",{staticClass:"v-box"},[e("div",{staticClass:"hd"},[1===a.is_show_add?e("div",{staticClass:"add-information"},[e("button",{staticClass:"btn",on:{click:a.addCashShow}},[a._v("新增")])]):a._e(),e("p",{staticClass:"table-tit"},[a._v(" 本月回款"+a._s(a.current_month_money)+"元，本周回款"+a._s(a.current_week_money)+"元，当日回款"+a._s(a.current_day_money)+"元 "),e("el-button",{attrs:{type:"text"},on:{click:a.payBackDetail}},[a._v("回款统计详情")])],1)]),e("div",{staticClass:"bd"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:a.tableData,border:""}},[e("el-table-column",{attrs:{prop:"bank_name",label:"银行名称",width:"180",resizable:!1,align:"center"}}),e("el-table-column",{attrs:{prop:"city_id_name",label:"城市",width:"120",align:"center",resizable:!1}}),e("el-table-column",{attrs:{prop:"id",label:"流水id",width:"180",align:"center",resizable:!1}}),e("el-table-column",{attrs:{prop:"bank_flow_number",label:"银行流水号",width:"220",align:"center",resizable:!1}}),e("el-table-column",{attrs:{prop:"payment_company",label:"付款公司",width:"180",align:"center",resizable:!1}}),e("el-table-column",{attrs:{prop:"payment_account",label:"付款账户",width:"220",align:"center",resizable:!1}}),e("el-table-column",{attrs:{prop:"gathering_company_name",label:"公司名称",width:"220",align:"center",resizable:!1}}),e("el-table-column",{attrs:{prop:"gathering_company_account",label:"公司账户名称",width:"220",align:"center",resizable:!1}}),e("el-table-column",{attrs:{prop:"arrival_time",label:"到账时间",width:"200",align:"center",resizable:!1}}),e("el-table-column",{attrs:{label:"到账金额",width:"150",align:"center",resizable:!1},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(a._s(a._f("currency")(t.row.arrival_money)))]}}])}),e("el-table-column",{attrs:{label:"退款金额",width:"150",align:"center",resizable:!1},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(a._s(a._f("currency")(t.row.refund_money)))]}}])}),e("el-table-column",{attrs:{label:"净收入",width:"150",align:"center",resizable:!1},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(a._s(a._f("currency")(t.row.net_income)))]}}])}),e("el-table-column",{attrs:{label:"已核销金额",width:"150",align:"center",resizable:!1},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(a._s(a._f("currency")(t.row.verified_money)))]}}])}),e("el-table-column",{attrs:{label:"待核销金额",width:"150",align:"center",resizable:!1},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(a._s(a._f("currency")(t.row.unverified_money)))]}}])}),e("el-table-column",{attrs:{label:"差额入库",width:"150",align:"center",resizable:!1},scopedSlots:a._u([{key:"default",fn:function(t){return[a._v(a._s(a._f("currency")(t.row.margin_money)))]}}])}),e("el-table-column",{attrs:{prop:"verify_status_str",label:"核销状态",width:"150",align:"center",resizable:!1}}),e("el-table-column",{attrs:{prop:"verify_time",label:"核销时间",width:"180",align:"center",resizable:!1}}),e("el-table-column",{attrs:{prop:"payback_type_str",label:"回款类型",width:"150",align:"center",resizable:!1}}),e("el-table-column",{attrs:{"min-width":"250",label:"操作",align:"center",fixed:"right",resizable:!1},scopedSlots:a._u([{key:"default",fn:function(t){return[1===t.row.refund_show_status?e("span",{staticClass:"operation delet",on:{click:function(e){return a.refund(t)}}},[a._v("退款")]):a._e(),1===t.row.verify_show_status?e("span",{staticClass:"operation",on:{click:function(e){return a.writeOff(t)}}},[a._v("核销回款")]):a._e(),1===t.row.edit_cash_show_status?e("span",{staticClass:"operation",on:{click:function(e){return a.editCash(t)}}},[a._v("修改现金流")]):a._e(),2===t.row.verify_show_status?e("span",{staticClass:"operation",on:{click:function(e){return a.seeWriteOff(t)}}},[a._v("查看核销")]):a._e(),1===t.row.edit_btn_show_status?e("span",{staticClass:"operation",on:{click:function(e){return a.jumpBankFlow(t)}}},[a._v("修改")]):a._e()]}}])})],1),1*a.pages.pageTotal>0?e("div",{staticClass:"page"},[e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:1*a.pages.pageTotal,"page-size":1*a.pages.defaultPageSize,"current-page":1*a.pages.indexPage},on:{"current-change":a.pageChange}})],1):a._e()],1)]),e("el-dialog",{staticClass:"add-bank",attrs:{visible:a.is_add_dialog,width:"650px"},on:{"update:visible":function(t){a.is_add_dialog=t},close:a.closeAddBank}},[e("h2",{staticClass:"line",attrs:{slot:"title"},slot:"title"},[a._v(a._s(a.add_bank_dialog_title))]),e("ul",{staticClass:"s-query"},[e("li",[e("div",{staticClass:"th"},[a._v("银行名称：")]),e("div",{staticClass:"td"},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:a.add_bank_options.bank_name,callback:function(t){a.$set(a.add_bank_options,"bank_name","string"==typeof t?t.trim():t)},expression:"add_bank_options.bank_name"}})],1)]),e("li",[e("div",{staticClass:"th"},[a._v("银行流水号：")]),e("div",{staticClass:"td"},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:a.add_bank_options.bank_flow_number,callback:function(t){a.$set(a.add_bank_options,"bank_flow_number","string"==typeof t?t.trim():t)},expression:"add_bank_options.bank_flow_number"}})],1)]),e("li",[e("div",{staticClass:"th"},[a._v("付款账号：")]),e("div",{staticClass:"td"},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:a.add_bank_options.payment_account,callback:function(t){a.$set(a.add_bank_options,"payment_account","string"==typeof t?t.trim():t)},expression:"add_bank_options.payment_account"}})],1)]),e("li",[e("div",{staticClass:"th"},[a._v("付款公司：")]),e("div",{staticClass:"td"},[e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:a.add_bank_options.payment_company,callback:function(t){a.$set(a.add_bank_options,"payment_company","string"==typeof t?t.trim():t)},expression:"add_bank_options.payment_company"}})],1)]),e("li",[e("div",{staticClass:"th required"},[a._v("公司名称：")]),e("div",{staticClass:"td"},[e("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":a.selectCompanyName,loading:a.loading},on:{change:a.changeCompanyName,focus:a.focusCompanyName},model:{value:a.add_bank_options.gathering_company_name,callback:function(t){a.$set(a.add_bank_options,"gathering_company_name","string"==typeof t?t.trim():t)},expression:"add_bank_options.gathering_company_name"}},a._l(a.add_bank_options.gathering_company_name_options,(function(a){return e("el-option",{key:a.id,attrs:{label:a.text,value:a.id}})})),1)],1)]),e("li",[e("div",{staticClass:"th required"},[a._v("公司账户：")]),e("div",{staticClass:"td"},[e("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":a.selectCompanyAccount,loading:a.loading,disabled:""===a.add_bank_options.gathering_company_name},on:{focus:a.focusCompanyAccount},model:{value:a.add_bank_options.gathering_company_account,callback:function(t){a.$set(a.add_bank_options,"gathering_company_account","string"==typeof t?t.trim():t)},expression:"add_bank_options.gathering_company_account"}},a._l(a.add_bank_options.gathering_company_account_options,(function(a){return e("el-option",{key:a.id,attrs:{label:a.text,value:a.id}})})),1)],1)]),e("li",[e("div",{staticClass:"th required"},[a._v("到账时间：")]),e("div",{staticClass:"td"},[e("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:a.add_bank_options.arrival_time,callback:function(t){a.$set(a.add_bank_options,"arrival_time",t)},expression:"add_bank_options.arrival_time"}})],1)]),e("li",[e("div",{staticClass:"th required"},[a._v("到账金额（元）：")]),e("div",{staticClass:"td"},[e("el-input",{attrs:{placeholder:"请输入数字"},on:{input:function(t){return a.inputMoney(a.add_bank_options.arrival_money)}},model:{value:a.add_bank_options.arrival_money,callback:function(t){a.$set(a.add_bank_options,"arrival_money","string"==typeof t?t.trim():t)},expression:"add_bank_options.arrival_money"}})],1)])]),e("div",{staticClass:"btn-area",attrs:{slot:"footer"},slot:"footer"},[e("button",{staticClass:"btn cancel",on:{click:function(t){a.is_add_dialog=!1}}},[a._v("取消")]),e("el-button",{staticClass:"btn confirm",attrs:{disabled:a.is_add_btn_disabled},on:{click:a.confirmAddCash}},[a._v("确定")])],1)]),e("el-dialog",{staticClass:"add-cash",attrs:{width:"740px",visible:a.is_addcash_dialog},on:{"update:visible":function(t){a.is_addcash_dialog=t},close:a.closeAddCash}},[e("h2",{staticClass:"line",attrs:{slot:"title"},slot:"title"},[a._v(a._s(a.dialogText))]),e("div",{staticClass:"dialog_body"},[e("ul",{staticClass:"s-query"},[e("li",[e("div",{staticClass:"th required"},[a._v("城市：")]),e("div",{staticClass:"td"},[e("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:a.formCash.city,callback:function(t){a.$set(a.formCash,"city",t)},expression:"formCash.city"}},a._l(a.cityOptions,(function(a){return e("el-option",{key:a.id,attrs:{label:a.text,value:a.id}})})),1)],1)])]),1===a.roleFlag?e("div",a._l(a.formCash.subject,(function(t,i){return e("ul",{key:i,staticClass:"s-query"},[e("li",{staticClass:"w-280"},[e("div",{staticClass:"th required"},[a._v(a._s(i+1)+"、二级科目编码：")]),e("div",{staticClass:"td"},[e("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":a.selectCode,loading:a.loading},on:{focus:function(t){return a.focusCode(i)}},model:{value:t.code,callback:function(e){a.$set(t,"code","string"==typeof e?e.trim():e)},expression:"item.code"}},a._l(t.codeOptions,(function(a){return e("el-option",{key:a.id,attrs:{label:a.text,value:a.id}})})),1)],1)]),e("li",{staticClass:"w-240"},[e("div",{staticClass:"th required"},[a._v("金额（元）：")]),e("div",{staticClass:"td"},[e("el-input",{attrs:{placeholder:"请输入内容"},on:{input:function(e){return a.inputSubjectMoney(i,t.money)}},model:{value:t.money,callback:function(e){a.$set(t,"money",e)},expression:"item.money"}})],1)]),e("li",{staticClass:"w-auto"},[a.formCash.subject.length>1?e("span",{staticClass:"color-red",on:{click:function(t){return a.deleteSubject(i)}}},[a._v("删除")]):a._e(),i===a.formCash.subject.length-1&&10!==a.formCash.subject.length?e("span",{staticClass:"color-blue",on:{click:a.addSubject}},[a._v("添加一行")]):a._e()])])})),0):a._e(),2===a.roleFlag?e("div",{staticClass:"channel-role"},[e("el-radio",{attrs:{label:"10"},model:{value:a.formCash.radioVal,callback:function(t){a.$set(a.formCash,"radioVal",t)},expression:"formCash.radioVal"}},[a._v(" 应收回款 (有成交单) ")]),e("el-radio",{attrs:{label:"20"},model:{value:a.formCash.radioVal,callback:function(t){a.$set(a.formCash,"radioVal",t)},expression:"formCash.radioVal"}},[a._v(" 预收回款 (无成交单) ")])],1):a._e(),e("ul",{staticClass:"s-query"},[e("li",{staticClass:"w-100vw"},[e("div",{staticClass:"th"},[a._v("摘要：")]),e("div",{staticClass:"td"},[e("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:a.formCash.abstract,expression:"formCash.abstract",modifiers:{trim:!0}}],staticClass:"text-area",attrs:{maxlength:"300"},domProps:{value:a.formCash.abstract},on:{input:function(t){t.target.composing||a.$set(a.formCash,"abstract",t.target.value.trim())},blur:function(t){return a.$forceUpdate()}}})])])])]),a.updateCashFlow?e("div",{staticClass:"btn-area wirite-off",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"btn go-write-off",attrs:{disabled:a.is_addcash_btn_disabled},on:{click:a.nextWriteOff}},[a._v("确定")]),e("button",{staticClass:"btn cancel-write-off",on:{click:function(t){a.is_addcash_dialog=!1}}},[a._v("取消")])],1):e("div",{staticClass:"btn-area wirite-off",attrs:{slot:"footer"},slot:"footer"},[2===a.roleFlag?e("div",[e("el-button",{staticClass:"btn next-write-off",attrs:{disabled:a.is_addcash_btn_disabled},on:{click:a.nextWriteOff}},[a._v("加入现金流，下次核销")]),e("el-button",{staticClass:"btn go-write-off",attrs:{disabled:a.is_addcash_btn_disabled},on:{click:function(t){return a.nextWriteOff("go")}}},[a._v("加入现金流，去核销")]),e("button",{staticClass:"btn cancel-write-off",on:{click:function(t){a.is_addcash_dialog=!1}}},[a._v(" 取消 ")])],1):a._e(),1===a.roleFlag?e("div",[e("el-button",{staticClass:"btn go-write-off",attrs:{disabled:a.is_addcash_btn_disabled},on:{click:a.nextWriteOff}},[a._v("加入现金流")]),e("button",{staticClass:"btn cancel-write-off",on:{click:function(t){a.is_addcash_dialog=!1}}},[a._v(" 取消 ")])],1):a._e()])])],1)},n=[function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"hd"},[t("h2",{staticClass:"line"},[this._v("搜索条件")])])}]},b7e4:function(a,t,e){(t=e("24fb")(!1)).push([a.i,'.payment-information[data-v-6d5a67de]{padding:0 20px}.payment-information[data-v-6d5a67de] .el-table colgroup.gutter,.payment-information[data-v-6d5a67de] .el-table th.gutter{display:table-cell!important}.payment-information .channel-role[data-v-6d5a67de]{padding-left:51px;margin:20px 0;-webkit-box-sizing:border-box;box-sizing:border-box}.payment-information .line[data-v-6d5a67de]{position:relative;padding-left:14px;margin-bottom:10px}.payment-information .line[data-v-6d5a67de]:before{position:absolute;left:0;top:10px;content:"";width:6px;height:24px;background-color:#4682b4}.payment-information[data-v-6d5a67de] input{background:none}.payment-information button[data-v-6d5a67de]{background:#fff}.payment-information .search[data-v-6d5a67de]{overflow:hidden}.payment-information .search>li[data-v-6d5a67de]{height:42px;width:330px}.payment-information .search>li.w-auto[data-v-6d5a67de]{width:auto}.payment-information .operation[data-v-6d5a67de]{display:inline-block;font-size:12px;cursor:pointer;padding:0 6px;margin-bottom:5px;border-radius:4px;color:#fff;background-color:#409eff;border-color:#409eff}.payment-information .operation.delet[data-v-6d5a67de]{color:#fff;background-color:#f56c6c;border-color:#f56c6c}.payment-information .btn-area .btn-reset[data-v-6d5a67de]{color:#333;border:1px solid #333;margin-right:15px;cursor:pointer}.payment-information .btn-area .btn-search[data-v-6d5a67de]{background:#337ab7;color:#fff;border:1px solid #337ab7;margin-left:15px;cursor:pointer}.payment-information .v-box .table-tit[data-v-6d5a67de]{overflow:hidden;font-size:14px;line-height:46px}.payment-information .v-box .add-information[data-v-6d5a67de]{float:right;margin-right:25px;position:relative;top:5px}.payment-information .v-box .add-information button[data-v-6d5a67de]{color:#333;border:1px solid #333;margin-right:15px;cursor:pointer}.payment-information .page[data-v-6d5a67de]{margin-top:20px;text-align:center}.payment-information .page[data-v-6d5a67de] .el-pagination{display:inline-block}.payment-information[data-v-6d5a67de] .add-bank .el-select{width:100%}.payment-information[data-v-6d5a67de] .add-bank .btn-area{text-align:right}.payment-information[data-v-6d5a67de] .add-bank .btn-area .cancel{color:#333;border:1px solid #333;margin-right:10px;cursor:pointer}.payment-information[data-v-6d5a67de] .add-bank .btn-area .confirm{background:#337ab7;color:#fff;border:1px solid #337ab7;margin-left:10px}.payment-information[data-v-6d5a67de] .add-bank .el-dialog__header>h2{border-bottom:1px solid #edeff0;height:46px;line-height:46px}.payment-information[data-v-6d5a67de] .add-bank .el-dialog__body{padding:10px 50px}.payment-information[data-v-6d5a67de] .add-bank .el-dialog__body>.s-query{overflow:hidden}.payment-information[data-v-6d5a67de] .add-bank .el-dialog__body>.s-query li{float:none;width:auto}.payment-information[data-v-6d5a67de] .add-bank .el-dialog__body>.s-query li .th{width:130px;margin-right:15px}.payment-information[data-v-6d5a67de] .add-bank .el-dialog__body>.s-query .el-date-editor.el-input{width:100%}.payment-information[data-v-6d5a67de] .add-cash .el-dialog__header>h2{border-bottom:1px solid #edeff0;height:46px;line-height:46px}.payment-information[data-v-6d5a67de] .add-cash .el-dialog__body{padding-top:0;padding-bottom:0;max-height:500px;overflow:auto}.payment-information[data-v-6d5a67de] .add-cash .dialog_body .s-query{overflow:hidden}.payment-information[data-v-6d5a67de] .add-cash .dialog_body .s-query li+li{margin-left:15px}.payment-information[data-v-6d5a67de] .add-cash .dialog_body .s-query li .th{width:auto}.payment-information[data-v-6d5a67de] .add-cash .dialog_body .s-query li>span{display:inline-block;margin:0 5px;cursor:pointer}.payment-information[data-v-6d5a67de] .add-cash .dialog_body .s-query li .color-blue{color:#337ab7}.payment-information[data-v-6d5a67de] .add-cash .dialog_body .s-query li .color-red{color:red}.payment-information[data-v-6d5a67de] .add-cash .dialog_body .s-query li .td textarea{height:120px}.payment-information[data-v-6d5a67de] .add-cash .dialog_body .s-query li.w-240{width:240px}.payment-information[data-v-6d5a67de] .add-cash .dialog_body .s-query li.w-280{width:280px}.payment-information[data-v-6d5a67de] .add-cash .dialog_body .s-query li.w-auto{width:auto}.payment-information[data-v-6d5a67de] .add-cash .dialog_body .s-query li.w-100vw{width:100%}.payment-information[data-v-6d5a67de] .add-cash .wirite-off{position:relative;text-align:right}.payment-information[data-v-6d5a67de] .add-cash .wirite-off .next-write-off{color:#333;border:1px solid #333;margin-right:15px}.payment-information[data-v-6d5a67de] .add-cash .wirite-off .go-write-off{background:#337ab7;color:#fff;border:1px solid #337ab7;margin-left:15px}.payment-information[data-v-6d5a67de] .add-cash .wirite-off .cancel-write-off{position:absolute;left:0;color:#333;border:1px solid #333;margin-right:15px;cursor:pointer}.payment-information[data-v-6d5a67de] .add-cash .text-area{-webkit-appearance:none;background-color:#fff;border-radius:4px;border:1px solid #dcdfe6;-webkit-box-sizing:border-box;box-sizing:border-box;color:#606266;display:inline-block;font-size:inherit;height:40px;line-height:40px;outline:0;padding:0 15px;-webkit-transition:border-color .2s cubic-bezier(.645,.045,.355,1);transition:border-color .2s cubic-bezier(.645,.045,.355,1);width:100%}.payment-information[data-v-6d5a67de] .add-cash .text-area:focus{border-color:#409eff;outline:0}',""]),a.exports=t},efc3:function(a,t,e){"use strict";e("33ce")},fedf:function(a,t,e){"use strict";e.r(t);var i=e("4299"),n=e.n(i);for(var o in i)["default"].indexOf(o)<0&&function(a){e.d(t,a,(function(){return i[a]}))}(o);t.default=n.a}}]);