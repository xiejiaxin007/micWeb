(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ca7f1ab4"],{"0708":function(e,t,a){"use strict";var r=a("4ea4");a("c975"),a("baa5"),a("d81d"),a("b0c0"),a("b64b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var o=r(a("1da1")),n=r(a("3ddd")),l={name:"Evaluate",data:function(){return{developerName:"",projectName:"",projectId:"",developerId:"",state:"",stateList:[{id:"1",text:"正常"},{id:"2",text:"已删除"}],updateTime:"",currentPage:1,totalNum:0,tableList:[],deleteDialog:!1,deleteDialogText:"",operationDeveloperId:"",operationIsDelete:"",Loading:!1,pageSize:20,imgShow:!1,imgPath:"",flag:!0}},mounted:function(){this.searchData(1)},methods:{searchData:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.flag){a.next=2;break}return a.abrupt("return");case 2:return e&&(t.currentPage=e),t.flag=!1,a.prev=4,t.loading=!0,r={page:t.currentPage,developer_name:t.developerName,developer_id:t.developerId,project_name:t.projectName,project_id:t.projectId,is_delete:t.state,time_min:t.updateTime?t.updateTime[0]/1e3:"",time_max:t.updateTime?t.updateTime[1]/1e3:""},a.next=9,n.default.developerList({params:r});case 9:o=a.sent,0===(l=o.data).code?(t.tableList=l.data.list,t.totalNum=l.data.total_count?parseInt(l.data.total_count):"0",t.loading=!1,t.flag=!0):(t.flag=!0,t.$message(l.msg),t.loading=!1),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(4),t.flag=!0,console.log(a.t0);case 18:case"end":return a.stop()}}),a,null,[[4,14]])})))()},resetSearch:function(){this.developerName="",this.projectName="",this.developerId="",this.projectId="",this.state="",this.updateTime="",this.searchData(1)},addModifyKfs:function(e,t){var a={operation:e};"0"===e&&(a.developerId=t),this.$router.push({path:"/developer/developerAddModify",query:a})},deleteDialogShow:function(e,t){this.deleteDialogText="1"===t?"点击删除即可删除本条数据":"点击恢复即可恢复本条数据",this.operationDeveloperId=e,this.operationIsDelete=t,this.deleteDialog=!0},deleteDeveloper:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,r,o,l,i,s,c,d,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a={developer_id:e.operationDeveloperId},"1"!==e.operationIsDelete){t.next=12;break}return t.next=5,n.default.delDeveloper(a);case 5:r=t.sent,o=r.data,l=o.code,i=o.msg,0===l?(e.$message(i),e.searchData()):e.$message(i),t.next=19;break;case 12:return t.next=14,n.default.recoveryDeveloper(a);case 14:s=t.sent,c=s.data,d=c.code,u=c.msg,0===d?(e.$message(u),e.searchData()):e.$message(u);case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),console.log(t.t0);case 24:e.deleteDialog=!1;case 25:case"end":return t.stop()}}),t,null,[[0,21]])})))()},pageChange:function(){this.searchData()},zoomImg:function(e){e&&(this.imgPath=e,this.imgShow=!0)},downloadTemplate:function(){window.location.href="https://comjia-1.oss-cn-beijing.aliyuncs.com/developer/template/1584590801PhYesSmanagement.xlsx"},exportFile:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a={page:e.currentPage,developer_name:e.developerName,developer_id:e.developerId,project_name:e.projectName,project_id:e.projectId,is_delete:e.state,time_min:e.updateTime?e.updateTime[0]/1e3:"",time_max:e.updateTime?e.updateTime[1]/1e3:"",export:"1"},r="/backend-api/kfs-developer/developer-list?",Object.keys(a).map((function(e,t){r+=0!==t?"&"+e+"="+a[e]:e+"="+a[e]})),window.location.href=r}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t)})))()},beforeUpdata:function(e){var t=this,a=e.file.size/1024/1024<=20,r=e.file.name.substring(e.file.name.lastIndexOf(".")).toLowerCase();if(-1!==".xlsx、.xls、.csv、.CSV、.XLSX、.XLS".indexOf(r))if(a){var o=new FileReader;o.readAsDataURL(e.file),o.onload=function(){var e=o.result;t.importExcelFile(e)}}else this.$message.error("文件大小不超过20M！");else this.$message.error("只能上传".concat(".xlsx、.xls、.csv、.CSV、.XLSX、.XLS","格式文件！"))},importExcelFile:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=e.substring(e.indexOf(",")+1),a.prev=1,r={file_data:e},a.next=5,n.default.importDeveloper(r);case 5:o=a.sent,0===(l=o.data).code?t.$message(l.msg):t.$message.error(l.msg),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))()},tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: #f9f9f9;color: #333;"}}};t.default=l},"0999":function(e,t,a){"use strict";a.r(t);var r=a("0708"),o=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t.default=o.a},"0a66":function(e,t,a){"use strict";a("ec35")},"0a99":function(e,t,a){"use strict";a("468f")},"0ccb":function(e,t,a){var r=a("50c4"),o=a("1148"),n=a("1d80"),l=Math.ceil,i=function(e){return function(t,a,i){var s,c,d=String(n(t)),u=d.length,p=void 0===i?" ":String(i),f=r(a);return f<=u||""==p?d:(s=f-u,(c=o.call(p,l(s/p.length))).length>s&&(c=c.slice(0,s)),e?d+c:c+d)}};e.exports={start:i(!1),end:i(!0)}},"13d5":function(e,t,a){"use strict";var r=a("23e7"),o=a("d58f").left,n=a("a640"),l=a("ae40"),i=a("2d00"),s=a("605d"),c=n("reduce"),d=l("reduce",{1:0});r({target:"Array",proto:!0,forced:!c||!d||!s&&i>79&&i<83},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14dc":function(e,t,a){(t=a("24fb")(!1)).push([e.i,".ksf-personal-tab .search-wrap[data-v-839224ec]{padding-top:20px}.ksf-personal-tab .data-stat[data-v-839224ec]{margin-bottom:10px}.ksf-personal-tab .data-stat .total-num[data-v-839224ec]{line-height:40px}.ksf-personal-tab .data-stat .operation-area[data-v-839224ec]{float:right}.ksf-personal-tab .data-stat .operation-area .upload-file[data-v-839224ec]{display:inline-block}.ksf-personal-tab .pagination[data-v-839224ec]{text-align:center;margin:25px 0 10px}.ksf-personal-tab .el-select[data-v-839224ec]{width:100%}.ksf-personal-tab .delete-txt[data-v-839224ec]{color:#f64a4a}.ksf-personal-tab .mobile-input[data-v-839224ec]{width:250px}.ksf-personal-tab[data-v-839224ec] .kfs-operation-dialog .el-dialog{overflow:hidden}.ksf-personal-tab .personal-table-box .table-wrap[data-v-839224ec] .el-table td,.ksf-personal-tab .personal-table-box .table-wrap[data-v-839224ec] .el-table th{min-width:0!important}",""]),e.exports=t},"16f0":function(e,t,a){var r=a("9aca");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,a("499e").default)("85fdf2fe",r,!0,{sourceMap:!1,shadowMode:!1})},"19b6":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ksf-personal-tab"},[a("div",{staticClass:"v-box form-table-box search-wrap"},[a("div",{staticClass:"bd"},[a("div",{staticClass:"order-search"},[a("ul",{staticClass:"s-query clearfix"},[a("li",[a("div",{staticClass:"th"},[e._v("楼盘：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("开发商：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.developerName,callback:function(t){e.developerName=t},expression:"developerName"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("员工姓名：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.employeeName,callback:function(t){e.employeeName=t},expression:"employeeName"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("手机号：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("角色权限：")]),a("div",{staticClass:"td"},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.auth,callback:function(t){e.auth=t},expression:"auth"}},e._l(e.authList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]),a("li",[a("div",{staticClass:"th"},[e._v("楼盘ID：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.projectId,callback:function(t){e.projectId=t},expression:"projectId"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("状态：")]),a("div",{staticClass:"td"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},e._l(e.stateList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]),a("li",[a("div",{staticClass:"th"},[e._v("员工ID：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.employeeId,callback:function(t){e.employeeId=t},expression:"employeeId"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("是否接单：")]),a("div",{staticClass:"td"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.canAlloc,callback:function(t){e.canAlloc=t},expression:"canAlloc"}},e._l(e.radioList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]),a("li",[a("div",{staticClass:"th"},[e._v("是否居理咨询师：")]),a("div",{staticClass:"td"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.isConsultant,callback:function(t){e.isConsultant=t},expression:"isConsultant"}},e._l(e.radioList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)])])]),a("div",{staticClass:"btn-area"},[a("el-button",{on:{click:e.resetSearch}},[e._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchData(1)}}},[e._v("搜索")])],1)])]),a("div",{staticClass:"v-box form-table-box personal-table-box"},[a("div",{staticClass:"bd"},[a("div",{staticClass:"search-result"},[a("div",{staticClass:"data-stat"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"total-num"},[e._v("当前条件下共"+e._s(e.totalNum)+"条数据")])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"operation-area"},[a("el-button",{attrs:{type:"primary"},on:{click:e.downloadTemplate}},[e._v("下载模版")]),a("el-button",{attrs:{type:"primary"},on:{click:e.exportFile}},[e._v("导出")]),a("el-upload",{ref:"uploadBtn",staticClass:"upload-file",attrs:{action:"","http-request":e.beforeUpdata,"show-file-list":!1}},[a("el-button",{attrs:{size:"primary"}},[e._v("批量导入 ")])],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.operationDialog(1)}}},[e._v("新增人员")])],1)])],1)],1),a("div",{staticClass:"table-wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tableFixedWrap",attrs:{border:"",data:e.tableList,size:"small","row-class-name":"row","cell-class-name":"column","highlight-current-row":!0,"header-cell-style":e.tableHeaderColor}},[a("el-table-column",{attrs:{"min-width":"60",prop:"id",label:"员工ID",align:"center"}}),a("el-table-column",{attrs:{"min-width":"100",prop:"developer_name",label:"开发商",align:"center"}}),a("el-table-column",{attrs:{"min-width":"150",prop:"project_name",label:"楼盘名称",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",prop:"employee_name",label:"员工姓名",align:"center"}}),a("el-table-column",{attrs:{"min-width":"100",prop:"mobile",label:"手机号",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",prop:"auth",label:"角色权限",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",prop:"can_alloc",label:"是否接单",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",prop:"is_consultant",label:"是否居理咨询师",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",prop:"status_name",label:"状态",align:"center"}}),a("el-table-column",{attrs:{"min-width":"100",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium",disabled:"0"===t.row.status},on:{click:function(a){return e.operationDialog(0,t.row.id)}}},[e._v("编辑")]),"1"===t.row.status?a("el-button",{staticClass:"delete-txt",attrs:{type:"text",size:"medium"},on:{click:function(a){return e.deleteDialogShow(t.row.id,"1")}}},[e._v("删除")]):a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.deleteDialogShow(t.row.id,"2")}}},[e._v("恢复")])]}}])})],1),a("div",{staticClass:"pagination"},[e.totalNum-e.pageSize>0?a("el-pagination",{attrs:{background:"","page-size":e.pageSize,layout:"prev, pager, next","current-page":e.currentPage,total:e.totalNum},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.pageChange}}):e._e()],1)],1)])])]),a("el-dialog",{attrs:{title:"系统提示",visible:e.deleteDialog,width:"400px",center:""},on:{"update:visible":function(t){e.deleteDialog=t}}},[a("span",[e._v(e._s(e.deleteDialogText))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteEmployee}},[e._v("确 定")])],1)]),a("el-dialog",{staticClass:"kfs-operation-dialog",attrs:{title:"开发商人员管理",visible:e.operationData.isShow,width:"520px",center:"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){return e.$set(e.operationData,"isShow",t)},close:function(t){return e.resetForm("operationData")}}},[a("div",{staticClass:"operation-employee-dialog"},[a("el-form",{ref:"operationData",staticClass:"operation-dialog",attrs:{model:e.operationData,rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"开发商：",prop:"developerId"}},[a("el-select",{attrs:{filterable:"","collapse-tags":"",remote:"","reserve-keyword":"",placeholder:"请选择",loading:e.loading,"remote-method":e.getDeveloperList},model:{value:e.operationData.developerId,callback:function(t){e.$set(e.operationData,"developerId",t)},expression:"operationData.developerId"}},e._l(e.developerList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"员工姓名：",prop:"employeeName"}},[a("el-input",{model:{value:e.operationData.employeeName,callback:function(t){e.$set(e.operationData,"employeeName",t)},expression:"operationData.employeeName"}})],1),a("el-form-item",{attrs:{label:"楼盘：",prop:"projectList"}},[a("el-select",{attrs:{filterable:"",remote:"",multiple:"","reserve-keyword":"","multiple-limit":e.multipleLimit,placeholder:"请选择",loading:e.loading,"remote-method":e.getProjectList},on:{"remove-tag":e.removeProjectTag},model:{value:e.operationData.projectList,callback:function(t){e.$set(e.operationData,"projectList",t)},expression:"operationData.projectList"}},e._l(e.projectList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.text,value:t.text},nativeOn:{click:function(a){return e.clickProject(t)}}})})),1)],1),a("el-form-item",{attrs:{label:"手机号：",prop:"mobile"}},[a("el-input",{class:[e.operationData.isAddDialog?"":"mobile-input"],model:{value:e.operationData.mobile,callback:function(t){e.$set(e.operationData,"mobile",t)},expression:"operationData.mobile"}}),e.operationData.isAddDialog?e._e():a("el-button",{attrs:{type:"text"},on:{click:e.resetPassword}},[e._v("重置密码")])],1),a("el-form-item",{attrs:{label:"角色权限：",prop:"auth"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.operationData.auth,callback:function(t){e.$set(e.operationData,"auth",t)},expression:"operationData.auth"}},e._l(e.authList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"是否接单：",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.operationData.canAlloc,callback:function(t){e.$set(e.operationData,"canAlloc",t)},expression:"operationData.canAlloc"}},e._l(e.radioList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"是否居理咨询师：",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.operationData.isConsultant,callback:function(t){e.$set(e.operationData,"isConsultant",t)},expression:"operationData.isConsultant"}},e._l(e.radioList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.resetForm("operationData")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("operationData")}}},[e._v("提 交")])],1)])],1)},o=[]},"266e1":function(e,t,a){"use strict";a.r(t);var r=a("b0474"),o=a("a160");for(var n in o)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(n);a("53bd");var l=a("2877"),i=Object(l.a)(o.default,r.a,r.b,!1,null,"c6f47460",null);t.default=i.exports},"2ace":function(e,t,a){"use strict";var r=a("4ea4");a("99af"),a("d81d"),a("13d5"),a("b680"),a("b64b"),a("d3b7"),a("25f0"),a("4d90"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var o=r(a("1da1")),n=r(a("3ddd")),l={name:"kfs-balance",data:function(){var e=function(e,t,a){if("0"===t||"0."===t)return a(new Error("仅可输入大于0的两位小数"));a()};return{developerId:"",projectId:"",kfsId:"",currentPage:1,totalNum:0,tableList:[],developerList:[],projectList:[],loading:!1,pageSize:20,operationIndex:"",rechargeData:{isShow:!1,rowData:{},date:"",money:"",rate:"",increase:""},refundData:{isShow:!1,rowData:{},date:"",money:"",reduce:"0",afterRefund:""},rateList:[{value:0,label:"0%"},{value:.05,label:"5%"},{value:.1,label:"10%"},{value:.2,label:"20%"}],rechargeRules:{date:[{message:"充值日期不能为空",required:!0,trigger:"blur"}],money:[{message:"充值金额不能为空",required:!0,trigger:"blur"},{validator:e,trigger:"blur"}],rate:[{message:"返点不能为空",required:!0,trigger:"change"}]},refundRules:{date:[{message:"退款日期不能为空",required:!0,trigger:"change"}],money:[{message:"退款金额不能为空",required:!0,trigger:"blur"},{validator:e,trigger:"blur"}]},flag:!0,timer:!1,pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},watch:{"refundData.money":{handler:function(e,t){var a=this;if(this.refundData.isShow&&"0"!==e&&"0."!==e){if(e-this.refundData.rowData.returnable_amount>0){if(!this.flag)return;return this.flag=!1,this.$message({message:"退款金额不能超过此账户的实际可退金额",duration:3e3,onClose:function(){a.flag=!0}}),void(this.timer&&clearTimeout(this.timer))}this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){a.getAcountReduce(e)}),1500)}},deep:!0}},computed:{increase:function(){var e=this.rechargeData.money*(1+this.rechargeData.rate);return(Math.round(100*e)/100).toFixed(2)}},mounted:function(){this.searchData(1),this.getDeveloperList(""),this.getProjectList(""),this.getNowTime()},methods:{searchData:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.currentPage=e,t.flag){a.next=3;break}return a.abrupt("return");case 3:return t.flag=!1,a.prev=4,t.loading=!0,r={page:String(e),page_size:t.pageSize,developer_id:t.developerId,project_id:t.projectId,developer_like_id:t.kfsId,export:"0"},a.next=9,n.default.balanceList(r);case 9:o=a.sent,"0"===(l=o.data).code?(t.tableList=l.data.list,t.totalNum=l.data.total_count?parseInt(l.data.total_count):0,t.loading=!1,t.flag=!0):(t.$message(l.msg),t.loading=!1,t.flag=!0),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(4),console.log(a.t0),t.flag=!0;case 18:case"end":return a.stop()}}),a,null,[[4,14]])})))()},resetSearch:function(){this.developerId="",this.projectId="",this.kfsId="",this.currentPage=1,this.searchData(1)},getDeveloperList:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,r={q:e},a.next=5,n.default.getDeveloperInfoList({params:r});case 5:o=a.sent,"0"===(l=o.data).code?(t.developerList=l.data.list,t.loading=!1):(t.$message(l.msg),t.loading=!1),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),t.loading=!1,console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getProjectList:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,r={name:e,developer_id:"",not_in_id:[]},a.next=5,n.default.getProjectList(r);case 5:o=a.sent,"0"===(l=o.data).code?(t.projectList=l.data.list,t.loading=!1):(t.$message(l.msg),t.loading=!1),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),t.loading=!1,console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},toDetail:function(e){var t={developerId:e.developer_id,developerName:e.developer_name,projectId:e.project_id,projectName:e.project_name};this.$router.push({path:"/developer/detailBalance",query:t})},rechargeDialog:function(e,t){this.rechargeData.isShow=!0,this.operationIndex=e,this.rechargeData.rowData=t},refundDialog:function(e,t){this.refundData.isShow=!0,this.operationIndex=e,this.refundData.rowData=t,this.refundData.afterRefund=t.amount,this.refundData.reduce="0"},getNowTime:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth(),r=e.getDate();a=(a+=1).toString().padStart(2,"0"),r=r.toString().padStart(2,"0");var o="".concat(t,"-").concat(a,"-").concat(r);this.$set(this.refundData,"date",o),this.$set(this.rechargeData,"date",o)},getAcountReduce:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={developer_id:t.refundData.rowData.developer_id,project_id:t.refundData.rowData.project_id,op_date:t.refundData.date,op_amount:e},a.next=4,n.default.checkRefundInfoApi(r);case 4:o=a.sent,0===(l=o.data).code?(t.flag=!0,t.loading=!1,t.refundData.reduce=l.data.account_reduce,t.refundData.afterRefund=l.data.account_balance):(t.$message(l.msg),t.loading=!1,t.flag=!0),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(0),t.flag=!0,t.loading=!1,console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[0,9]])})))()},resetForm:function(e){this.$refs[e].resetFields(),"rechargeData"===e?this.rechargeData.isShow=!1:this.refundData.isShow=!1},exportFile:function(){try{var e={page:String(this.currentPage),page_size:this.pageSize,developer_id:this.developerId,project_id:this.projectId,developer_like_id:this.kfsId,export:"1"},t="/backend-api/kfs_dsp/kfs-balance/get-account-amount-list?";Object.keys(e).map((function(a,r){t+=0!==r?"&"+a+"="+e[a]:a+"="+e[a]})),window.location.href=t}catch(e){console.log(e)}},pageChange:function(e){this.searchData(e)},submitRecharge:function(e){var t=this;this.flag&&this.$refs[e].validate(function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(a){var r,o,l,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=19;break}return t.flag=!1,t.loading=!0,e.prev=3,r={developer_id:t.rechargeData.rowData.developer_id,project_id:t.rechargeData.rowData.project_id,op_date:t.rechargeData.date,op_amount:t.rechargeData.money,rebate:100*t.rechargeData.rate},e.next=7,n.default.recharge(r);case 7:o=e.sent,0===(l=o.data).code?(t.$message(l.msg),t.flag=!0,t.loading=!1,t.rechargeData.isShow=!1,(i=t.rechargeData.rowData).returnable_amount=l.data.returnable_amount,i.amount=l.data.account_balance_amount,t.$set(t.tableList,t.operationIndex,i)):(t.$message(msg),t.loading=!1,t.flag=!0),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),t.flag=!0,t.loading=!1,console.log(e.t0);case 17:e.next=21;break;case 19:return t.flag=!0,e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}())},submitRefund:function(e){var t=this;this.flag&&this.$refs[e].validate(function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(a){var r,o,l,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=19;break}return t.flag=!1,t.loading=!0,e.prev=3,r={developer_id:t.refundData.rowData.developer_id,project_id:t.refundData.rowData.project_id,op_date:t.refundData.date,op_amount:t.refundData.money},e.next=7,n.default.refund(r);case 7:o=e.sent,0===(l=o.data).code?(t.$message(l.msg),t.flag=!0,t.loading=!1,t.refundData.isShow=!1,(i=t.refundData.rowData).returnable_amount=l.data.returnable_amount,i.amount=l.data.account_balance_amount,t.$set(t.tableList,t.operationIndex,i)):(t.$message(msg),t.loading=!1,t.flag=!0),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),t.flag=!0,t.loading=!1,console.log(e.t0);case 17:e.next=21;break;case 19:return t.flag=!0,e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}())},tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: #f9f9f9;color: #333;"}}};t.default=l},"36fa":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("23f7"),o={allocList:function(e){return r.axios.post("/backend-api/kfs-order-rule/list",e)},delRule:function(e){return r.axios.post("/backend-api/kfs-order-rule/delete-rule",e)}};t.default=o},"3ddd":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a("23f7"),o={developerList:function(e){return r.axios.get("/backend-api/kfs-developer/developer-list",e)},delDeveloper:function(e){return r.axios.post("/backend-api/kfs-developer/del-developer",e)},importDeveloper:function(e){return r.axios.post("/backend-api/kfs-developer/import-developer",e)},projectList:function(e){return r.axios.post("/backend-api/kfs-developer/get-project-list",e)},addDeveloper:function(e){return r.axios.post("/backend-api/kfs-developer/add-developer",e)},initDeveloperData:function(e){return r.axios.post("/backend-api/kfs-developer/init-developer-data",e)},editDeveloper:function(e){return r.axios.post("/backend-api/kfs-developer/edit-developer",e)},developerEmployeeList:function(e){return r.axios.get("/backend-api/kfs-developer/developer-employee-list",e)},delEmployee:function(e){return r.axios.post("/backend-api/kfs-developer/delete-developer-employee",e)},developerSelectList:function(e){return r.axios.get("/backend-api/select2/select2/get-developer-select",e)},addDeveloperEmployee:function(e){return r.axios.post("/backend-api/kfs-developer/add-developer-employee",e)},editInitDeveloperEmployee:function(e){return r.axios.get("/backend-api/kfs-developer/init-developer-employee",e)},editDeveloperEmployee:function(e){return r.axios.post("/backend-api/kfs-developer/edit-developer-employee",e)},resetPassword:function(e){return r.axios.post("/backend-api/kfs-developer/reset-password",e)},importDeveloperEmployee:function(e){return r.axios.post("/backend-api/kfs-developer/import-developer-employee",e)},balanceList:function(e){return r.axios.get("/backend-api/kfs_dsp/kfs-balance/get-account-amount-list",{params:e})},recharge:function(e){return r.axios.post("/backend-api/kfs_dsp/kfs-balance/add-recharge-record",e)},refund:function(e){return r.axios.post("/backend-api/kfs_dsp/kfs-balance/add-refund-record",e)},checkRefundInfoApi:function(e){return r.axios.post("/backend-api/kfs_dsp/kfs-balance/check-refund-info",e)},balanceDetail:function(e){return r.axios.get("/backend-api/kfs_dsp/kfs-balance/get-balance-detail-list",{params:e})},delBalance:function(e){return r.axios.post("/backend-api/kfs_dsp/kfs-balance/del-record",e)},getDeveloperInfoList:function(){return r.axios.post("/backend-api/kfs_dsp/kfs-balance/get-developer-info-list")},getProjectList:function(e){return r.axios.post("/backend-api/kfs_dsp/kfs-balance/get-project-list",e)},recoveryDeveloper:function(e){return r.axios.post("/backend-api/kfs-developer/recovery-developer",e)},recoveryEmployee:function(e){return r.axios.post("/backend-api/kfs-developer/recovery-employee",e)}};t.default=o},"3e34":function(e,t,a){"use strict";a.r(t);var r=a("9669"),o=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t.default=o.a},"468f":function(e,t,a){var r=a("14dc");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,a("499e").default)("ec854b06",r,!0,{sourceMap:!1,shadowMode:!1})},"4b8d":function(e,t,a){(t=a("24fb")(!1)).push([e.i,".developer-management-box[data-v-a3628426]{padding:0 30px}.developer-management-box .tabBox[data-v-a3628426]{background:#fff;margin-bottom:20px}.developer-management-box .tabBox[data-v-a3628426] .el-tabs__nav{left:45px;bottom:0}.developer-management-box .tabBox[data-v-a3628426] .el-tabs__item{font-size:16px}.developer-management-box .tabBox[data-v-a3628426] .el-tabs__header{margin:0;padding-top:15px}",""]),e.exports=t},"4ca6":function(e,t,a){(t=a("24fb")(!1)).push([e.i,".ksf-balance-tab[data-v-ecc20444] .el-table .cell{font-size:14px;color:#333}.ksf-balance-tab[data-v-ecc20444] .el-dialog .el-dialog__body{padding:0 25px}.ksf-balance-tab[data-v-ecc20444] .el-dialog .el-form-item{margin-bottom:16px}.ksf-balance-tab .search-wrap[data-v-ecc20444]{padding-top:20px}.ksf-balance-tab .data-stat[data-v-ecc20444]{margin-bottom:10px}.ksf-balance-tab .data-stat .total-num[data-v-ecc20444]{line-height:40px}.ksf-balance-tab .data-stat .operation-area[data-v-ecc20444]{float:right}.ksf-balance-tab .data-stat .operation-area .upload-file[data-v-ecc20444]{display:inline-block}.ksf-balance-tab .pagination[data-v-ecc20444]{text-align:center;margin:25px 0 10px}.ksf-balance-tab .el-select[data-v-ecc20444]{width:100%}",""]),e.exports=t},"4d90":function(e,t,a){"use strict";var r=a("23e7"),o=a("0ccb").start;r({target:"String",proto:!0,forced:a("9a0c")},{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"53bd":function(e,t,a){"use strict";a("16f0")},"5cbf":function(e,t,a){"use strict";a.r(t);var r=a("bb24"),o=a("e043");for(var n in o)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(n);a("ac75");var l=a("2877"),i=Object(l.a)(o.default,r.a,r.b,!1,null,"ecc20444",null);t.default=i.exports},"72ed":function(e,t,a){"use strict";var r=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var o=r(a("1da1")),n=r(a("36fa")),l={name:"alloc-rule",data:function(){return{developerName:"",projectName:"",projectId:"",isOpen:"",updateTime:"",currentPage:1,totalNum:0,tableList:[],radioList:[{value:"1",name:"是"},{value:"2",name:"否"}],deleteDialog:!1,delRuleId:"",loading:!1,pageSize:20,flag:!0}},created:function(){this.searchData(1)},methods:{operationRule:function(e){this.$router.push({path:"/developer/orderRuleManage",query:{id:e}})},searchData:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.flag){a.next=2;break}return a.abrupt("return");case 2:return t.flag=!1,a.prev=3,t.loading=!0,e&&(t.currentPage=e),r={page:t.currentPage,project_name:t.projectName,developer_name:t.developerName,project_id:t.projectId,update_datetime_min:t.updateTime?t.updateTime[0]/1e3:"",update_datetime_max:t.updateTime?t.updateTime[1]/1e3:"",is_open:t.isOpen},a.next=9,n.default.allocList(r);case 9:o=a.sent,0===(l=o.data).code?(t.tableList=l.data.list,t.totalNum=l.data.totalCount?parseInt(l.data.totalCount):"0",t.loading=!1,t.flag=!0):(t.$message(l.msg),t.flag=!0),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(3),console.log(a.t0),t.flag=!0;case 18:case"end":return a.stop()}}),a,null,[[3,14]])})))()},resetSearch:function(){this.developerName="",this.projectName="",this.projectId="",this.isOpen="",this.updateTime="",this.searchData(1)},deleteDialogShow:function(e){this.delRuleId=e,this.deleteDialog=!0},deleteRule:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,r,o,l,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={id:e.delRuleId},t.next=4,n.default.delRule(a);case 4:r=t.sent,o=r.data,l=o.code,i=o.msg,0===l?(e.$message(i),e.searchData()):e.$message(i),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:e.deleteDialog=!1;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()},tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: #f9f9f9;color: #333;"}}};t.default=l},"73e5":function(e,t,a){"use strict";a("bad2")},"77ed":function(e,t,a){"use strict";a.r(t);var r=a("9b4a"),o=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t.default=o.a},"8cd6":function(e,t,a){var r=a("4ca6");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,a("499e").default)("7065db14",r,!0,{sourceMap:!1,shadowMode:!1})},9669:function(e,t,a){"use strict";var r=a("4ea4");a("c740"),a("4160"),a("c975"),a("baa5"),a("d81d"),a("a434"),a("b0c0"),a("b64b"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var o=r(a("1da1")),n=r(a("3ddd")),l=a("7223"),i={name:"ksf-personal",data:function(){return{developerName:"",projectName:"",employeeName:"",mobile:"",auth:"",projectId:"",employeeId:"",state:"",stateList:[],currentPage:1,export:"1",totalNum:"0",tableList:[],authList:[],canAlloc:"",isConsultant:"",radioList:[{value:"1",name:"是"},{value:"2",name:"否"}],deleteDialog:!1,deleteDialogText:"",operationIsDelete:"",operationEmployeeId:"",loading:!1,pageSize:20,operationData:{isShow:!1,isAddDialog:!1,developerId:"",employeeId:"",employeeName:"",projectList:[],projectIdList:[],mobile:"",auth:"",canAlloc:"",isConsultant:""},multipleLimit:20,developerList:[],projectList:[],rules:{developerId:[{message:"请选择开发商名称",required:!0,trigger:"change"}],employeeName:[{message:"请输入员工姓名",required:!0,trigger:"blur"}],projectList:[{message:"请选择对应楼盘",required:!0,trigger:"change"}],mobile:[{message:"请输入正确手机号",required:!0,trigger:"blur"},{validator:function(e,t,a){if(!l.commonFun.verifyTelNum(t)&&""!==t)return a(new Error("手机号格式错误"));a()},trigger:"blur"}],auth:[{message:"请选择角色权限",required:!0,trigger:"change"}]},flag:!0}},mounted:function(){this.searchData(1),this.getDeveloperList()},methods:{removeProjectTag:function(e){var t=this.operationData.projectIdList.findIndex((function(t,a){return t.text==e}));this.operationData.projectIdList.splice(t,1)},clickProject:function(e){var t=this,a=!1;this.operationData.projectIdList.forEach((function(r,o){r.text===e.text&&(t.operationData.projectIdList.splice(o,1),a=!0)})),a||this.operationData.projectIdList.push(e)},searchData:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.flag){a.next=2;break}return a.abrupt("return");case 2:return t.flag=!1,a.prev=3,t.loading=!0,e&&(t.currentPage=e),r={page:t.currentPage,developer_name:t.developerName,employee_name:t.employeeName,mobile:t.mobile,auth:t.auth,project_name:t.projectName,project_id:t.projectId,status:t.state,employee_id:t.employeeId,can_alloc:t.canAlloc,is_consultant:t.isConsultant,export:"0"},a.next=9,n.default.developerEmployeeList({params:r});case 9:o=a.sent,0===(l=o.data).code?(t.tableList=l.data.list,t.authList=l.data.auth,t.stateList=l.data.status,t.totalNum=l.data.total?parseInt(l.data.total):"0",t.loading=!1,t.flag=!0):(t.$message(l.msg),t.flag=!0),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(3),console.log(a.t0),t.flag=!0;case 18:case"end":return a.stop()}}),a,null,[[3,14]])})))()},resetSearch:function(){this.developerName="",this.projectName="",this.employeeName="",this.mobile="",this.auth="",this.projectId="",this.employeeId="",this.canAlloc="",this.isConsultant="",this.state="",this.searchData(1)},getDeveloperList:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,r={q:e},a.next=5,n.default.developerSelectList({params:r});case 5:o=a.sent,0===(l=o.data).code?(t.developerList=l.list,t.loading=!1):(t.$message(l.msg),t.loading=!1),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),t.loading=!1,console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getProjectList:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.operationData.developerId){a.next=3;break}return t.$message("请先选择开发商"),a.abrupt("return");case 3:return t.loading=!0,a.prev=4,r={name:e,developer_id:t.operationData.developerId},a.next=8,n.default.projectList(r);case 8:o=a.sent,0===(l=o.data).code&&(t.projectList=l.data.list,t.loading=!1),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[4,13]])})))()},operationDialog:function(e,t){this.operationData.isShow=!0,e?(this.operationData.developerId="",this.operationData.employeeId="",this.operationData.employeeName="",this.operationData.projectList=[],this.operationData.projectIdList=[],this.operationData.mobile="",this.operationData.auth="",this.operationData.canAlloc="1",this.operationData.isConsultant="2",this.operationData.isAddDialog=!0):(this.operationData.isAddDialog=!1,this.operationEmployeeId=t,this.initEditData())},initEditData:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,r,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,a={id:e.operationEmployeeId},t.next=5,n.default.editInitDeveloperEmployee({params:a});case 5:r=t.sent,0===(o=r.data).code?(e.operationData.employeeId=o.data.id,e.operationData.developerId=o.data.developer?o.data.developer.value:"",e.operationData.employeeName=o.data.employee_name,e.operationData.mobile=o.data.mobile,e.operationData.auth=o.data.auth,e.operationData.canAlloc=String(o.data.can_alloc),e.operationData.isConsultant=String(o.data.is_consultant),l=[],e.operationData.projectIdList=[],o.data.projects.forEach((function(t,a){l.push(t.name),e.operationData.projectIdList.push({id:t.value,text:t.name})})),e.operationData.projectList=l,e.loading=!1,e.getProjectList()):e.$message(msg),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},submitForm:function(e){var t=this;this.flag&&(this.flag=!1,this.$refs[e].validate(function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(a){var r,o,l,i,s,c,d,u,p,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=32;break}if(r=[],t.operationData.projectIdList.forEach((function(e){t.operationData.projectList.forEach((function(t){e.text===t&&r.push(e.id)}))})),e.prev=3,o={developer_id:t.operationData.developerId,project_id:r,employee_name:t.operationData.employeeName,auth:t.operationData.auth,mobile:t.operationData.mobile,can_alloc:t.operationData.canAlloc,is_consultant:t.operationData.isConsultant},!t.operationData.isAddDialog){e.next=15;break}return e.next=8,n.default.addDeveloperEmployee(o);case 8:l=e.sent,i=l.data,s=i.code,c=i.msg,0===s?(t.$message(c),t.operationData.isShow=!1,t.resetSearch(),t.flag=!0,t.searchData()):(t.$message(c),t.flag=!0),e.next=23;break;case 15:return o.id=t.operationData.employeeId,e.next=18,n.default.editDeveloperEmployee(o);case 18:d=e.sent,u=d.data,p=u.code,f=u.msg,0===p?(t.$message(f),t.operationData.isShow=!1,t.resetSearch(),t.flag=!0,t.searchData()):(t.$message(f),t.flag=!0);case 23:t.getDeveloperList(),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(3),t.flag=!0,console.log(e.t0);case 30:e.next=34;break;case 32:return t.flag=!0,e.abrupt("return",!1);case 34:case"end":return e.stop()}}),e,null,[[3,26]])})));return function(t){return e.apply(this,arguments)}}()))},resetForm:function(e){this.$refs[e].resetFields(),this.operationData.isShow=!1,this.getDeveloperList()},deleteDialogShow:function(e,t){this.deleteDialogText="1"===t?"点击删除即可删除本条数据":"点击恢复即可恢复本条数据",this.operationEmployeeId=e,this.operationIsDelete=t,this.deleteDialog=!0},deleteEmployee:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,r,o,l,i,s,c,d,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,a={id:e.operationEmployeeId},"1"!==e.operationIsDelete){t.next=12;break}return t.next=5,n.default.delEmployee(a);case 5:r=t.sent,o=r.data,l=o.code,i=o.msg,0===l?(e.$message(i),e.searchData()):e.$message(i),t.next=19;break;case 12:return t.next=14,n.default.recoveryEmployee({employee_id:e.operationEmployeeId});case 14:s=t.sent,c=s.data,d=c.code,u=c.msg,0===d?(e.$message(u),e.searchData()):e.$message(u);case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),console.log(t.t0);case 24:e.deleteDialog=!1;case 25:case"end":return t.stop()}}),t,null,[[0,21]])})))()},resetPassword:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={id:e.operationData.employeeId},t.next=4,n.default.resetPassword(a);case 4:r=t.sent,o=r.data.msg,e.$message(o),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},pageChange:function(){this.searchData()},downloadTemplate:function(){window.location.href="https://comjia-1.oss-cn-beijing.aliyuncs.com/developer/template/1585205957hZPJXDpersonal.xlsx"},exportFile:function(){var e=this;return(0,o.default)(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a={page:e.currentPage,developer_name:e.developerName,employee_name:e.employeeName,mobile:e.mobile,auth:e.auth,project_name:e.projectName,project_id:e.projectId,status:e.state,employee_id:e.employeeId,can_alloc:e.canAlloc,is_consultant:e.isConsultant,export:"1"},r="/backend-api/kfs-developer/developer-employee-list?",Object.keys(a).map((function(e,t){r+=0!==t?"&"+e+"="+a[e]:e+"="+a[e]})),window.location.href=r}catch(e){console.log(e)}case 1:case"end":return t.stop()}}),t)})))()},beforeUpdata:function(e){var t=this,a=e.file.size/1024/1024<=20,r=e.file.name.substring(e.file.name.lastIndexOf(".")).toLowerCase();if(-1!==".xlsx、.xls、.csv、.CSV、.XLSX、.XLS".indexOf(r))if(a){var o=new FileReader;o.readAsDataURL(e.file),o.onload=function(){var e=o.result;t.importExcelFile(e)}}else this.$message.error("文件大小不超过20M！");else this.$message.error("只能上传".concat(".xlsx、.xls、.csv、.CSV、.XLSX、.XLS","格式文件！"))},importExcelFile:function(e){var t=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var r,o,l;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=e.substring(e.indexOf(",")+1),a.prev=1,r={source:e},a.next=5,n.default.importDeveloperEmployee(r);case 5:o=a.sent,0===(l=o.data).code?t.$message(l.msg):t.$message.error(l.msg),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))()},tableHeaderColor:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(0===t)return"background-color: #f9f9f9;color: #333;"}},watch:{"operationData.developerId":{handler:function(e,t){e&&this.getProjectList(),t&&(this.operationData.projectList=[]),""!=t&&e!=t&&(this.operationData.projectIdList=[])},deep:!0}}};t.default=i},"9a0c":function(e,t,a){var r=a("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},"9aca":function(e,t,a){(t=a("24fb")(!1)).push([e.i,".alloc-rule-tab[data-v-c6f47460] .search-wrap{padding-top:20px}.alloc-rule-tab[data-v-c6f47460] .search-wrap .el-date-editor{width:100%;height:40px;-webkit-box-sizing:border-box;box-sizing:border-box}.alloc-rule-tab[data-v-c6f47460] .search-wrap .el-date-editor .el-range-separator{font-size:12px}.alloc-rule-tab[data-v-c6f47460] .search-wrap .el-date-editor .date-tip-logo{display:none}.alloc-rule-tab[data-v-c6f47460] .search-wrap .el-range-input{background-color:#fff;font-size:12px;line-height:32px}.alloc-rule-tab .data-stat[data-v-c6f47460]{margin-bottom:10px}.alloc-rule-tab .data-stat .total-num[data-v-c6f47460]{line-height:40px}.alloc-rule-tab .data-stat .operation-area[data-v-c6f47460]{float:right}.alloc-rule-tab .data-stat .operation-area .upload-file[data-v-c6f47460]{display:inline-block}.alloc-rule-tab .pagination[data-v-c6f47460]{text-align:center;margin:25px 0 10px}.alloc-rule-tab .el-select[data-v-c6f47460]{width:100%}.alloc-rule-tab .delete-txt[data-v-c6f47460]{color:#f64a4a}.alloc-rule-tab[data-v-c6f47460] .kfs-operation-dialog .el-dialog{overflow:hidden}",""]),e.exports=t},"9b4a":function(e,t,a){"use strict";var r=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(a("5530")),n=r(a("c7f0")),l=r(a("dd78")),i=r(a("5cbf")),s=r(a("266e1")),c=a("2f62"),d={name:"developerManagement",data:function(){return{activeName:"first",active:this.$route.query.active}},components:{KfsManagementTab:n.default,KfsPersonal:l.default,KfsBalance:i.default,AllocRule:s.default},created:function(){"1"===this.active?this.activeName="first":"2"===this.active?this.activeName="second":"3"===this.active?this.activeName="third":"4"!==this.active&&"operation_manager"!==this.role&&"operation_specialist"!==this.role||(this.activeName="fourth")},methods:{},computed:(0,o.default)({},(0,c.mapState)({role:function(e){return e.trackCommon.info.role}})),watch:{role:{deep:!0,handler:function(e){"operation_manager"!==e&&"operation_specialist"!==e||(this.activeName="fourth")}}}};t.default=d},a160:function(e,t,a){"use strict";a.r(t);var r=a("72ed"),o=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t.default=o.a},ac75:function(e,t,a){"use strict";a("8cd6")},b0474:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"alloc-rule-tab"},[a("div",{staticClass:"v-box form-table-box search-wrap"},[a("div",{staticClass:"bd"},[a("div",{staticClass:"order-search"},[a("ul",{staticClass:"s-query clearfix"},[a("li",[a("div",{staticClass:"th"},[e._v("楼盘：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("开发商：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.developerName,callback:function(t){e.developerName=t},expression:"developerName"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("是否开启：")]),a("div",{staticClass:"td"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},e._l(e.radioList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]),a("li",[a("div",{staticClass:"th"},[e._v("更新时间：")]),a("div",{staticClass:"td"},[a("el-date-picker",{staticClass:"form-date-range-box",attrs:{clearable:"","default-time":["00:00:00","23:59:59"],type:"datetimerange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.updateTime,callback:function(t){e.updateTime=t},expression:"updateTime"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("楼盘ID：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{clearable:"",placeholder:"请输入内容"},model:{value:e.projectId,callback:function(t){e.projectId=t},expression:"projectId"}})],1)])])]),a("div",{staticClass:"btn-area"},[a("el-button",{on:{click:e.resetSearch}},[e._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchData(1)}}},[e._v("搜索")])],1)])]),a("div",{staticClass:"v-box form-table-box"},[a("div",{staticClass:"bd"},[a("div",{staticClass:"search-result"},[a("div",{staticClass:"data-stat"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"total-num"},[e._v("当前条件下共"+e._s(e.totalNum)+"条数据")])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"operation-area"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.operationRule("0")}}},[e._v("新增规则")])],1)])],1)],1),a("div",{staticClass:"table-wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tableFixedWrap",attrs:{border:"",data:e.tableList,size:"small","row-class-name":"row","cell-class-name":"column","highlight-current-row":!0,"header-cell-style":e.tableHeaderColor}},[a("el-table-column",{attrs:{"min-width":"100",prop:"developer_name",label:"开发商",align:"center"}}),a("el-table-column",{attrs:{"min-width":"150",prop:"project_name",label:"楼盘名称",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",prop:"port_name",label:"分配留电口",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",prop:"channel_name",label:"分配渠道",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",prop:"is_open_text",label:"是否开启",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",prop:"developer_rate",label:"分配给开发商比例",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",prop:"update_datetime",label:"更新时间",align:"center"}}),a("el-table-column",{attrs:{"min-width":"100",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.operationRule(t.row.id)}}},[e._v("编辑")]),a("el-button",{staticClass:"delete-txt",attrs:{type:"text",size:"medium"},on:{click:function(a){return e.deleteDialogShow(t.row.id)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination"},[e.totalNum-e.pageSize>0?a("el-pagination",{attrs:{background:"","page-size":e.pageSize,layout:"prev, pager, next","current-page":e.currentPage,total:e.totalNum},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.searchData}}):e._e()],1)],1)])])]),a("el-dialog",{attrs:{title:"系统提示",visible:e.deleteDialog,width:"400px",center:""},on:{"update:visible":function(t){e.deleteDialog=t}}},[a("span",[e._v("点击删除即可删除本条数据")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteRule}},[e._v("确 定")])],1)])],1)},o=[]},b141:function(e,t,a){(t=a("24fb")(!1)).push([e.i,".ksf-management-tab .search-wrap[data-v-a6f30dd4]{padding-top:20px}.ksf-management-tab .search-wrap[data-v-a6f30dd4] .order-search .el-date-editor{width:100%;height:40px;-webkit-box-sizing:border-box;box-sizing:border-box}.ksf-management-tab .search-wrap[data-v-a6f30dd4] .order-search .el-date-editor .el-range-separator{font-size:12px}.ksf-management-tab .search-wrap[data-v-a6f30dd4] .order-search .el-date-editor .date-tip-logo{display:none}.ksf-management-tab .search-wrap[data-v-a6f30dd4] .order-search .el-range-input{background-color:#fff;font-size:12px;line-height:32px}.ksf-management-tab .data-stat[data-v-a6f30dd4]{margin-bottom:10px}.ksf-management-tab .data-stat .total-num[data-v-a6f30dd4]{line-height:40px}.ksf-management-tab .data-stat .operation-area[data-v-a6f30dd4]{float:right}.ksf-management-tab .data-stat .operation-area .upload-file[data-v-a6f30dd4]{display:inline-block}.ksf-management-tab .delete-txt[data-v-a6f30dd4]{color:#f64a4a}.ksf-management-tab .pagination[data-v-a6f30dd4]{text-align:center;margin:25px 0 10px}.ksf-management-tab .img-mask[data-v-a6f30dd4]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:99;background-color:rgba(0,0,0,.8)}.ksf-management-tab .img-mask>img[data-v-a6f30dd4]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);max-width:100%;max-height:100%}",""]),e.exports=t},bad2:function(e,t,a){var r=a("4b8d");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,a("499e").default)("91289362",r,!0,{sourceMap:!1,shadowMode:!1})},bb24:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ksf-balance-tab"},[a("div",{staticClass:"v-box form-table-box search-wrap"},[a("div",{staticClass:"bd"},[a("div",{staticClass:"order-search"},[a("ul",{staticClass:"s-query clearfix"},[a("li",[a("div",{staticClass:"th"},[e._v("品牌开发商：")]),a("div",{staticClass:"td"},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请选择",loading:e.loading},model:{value:e.developerId,callback:function(t){e.developerId=t},expression:"developerId"}},e._l(e.developerList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]),a("li",[a("div",{staticClass:"th"},[e._v("楼盘名称：")]),a("div",{staticClass:"td"},[a("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请选择",loading:e.loading},model:{value:e.projectId,callback:function(t){e.projectId=t},expression:"projectId"}},e._l(e.projectList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)]),a("li",[a("div",{staticClass:"th"},[e._v("开发商ID：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.kfsId,callback:function(t){e.kfsId=t},expression:"kfsId"}})],1)])])]),a("div",{staticClass:"btn-area"},[a("el-button",{on:{click:e.resetSearch}},[e._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchData(1)}}},[e._v("搜索")])],1)])]),a("div",{staticClass:"v-box form-table-box"},[a("div",{staticClass:"bd"},[a("div",{staticClass:"search-result"},[a("div",{staticClass:"data-stat"},[a("el-row",[a("el-col",{attrs:{span:16}},[a("p",{staticClass:"total-num"},[e._v("当前条件下共"+e._s(e.totalNum)+"条数据")])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"operation-area"},[a("el-button",{attrs:{type:"primary"},on:{click:e.exportFile}},[e._v("导出")])],1)])],1)],1),a("div",{staticClass:"table-wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tableFixedWrap",attrs:{border:"",data:e.tableList,size:"small","row-class-name":"row","cell-class-name":"column","highlight-current-row":!0,"header-cell-style":e.tableHeaderColor}},[a("el-table-column",{attrs:{"min-width":"100",prop:"developer_id",label:"开发商ID",align:"center"}}),a("el-table-column",{attrs:{"min-width":"100",prop:"developer_name",label:"品牌开发商",align:"center"}}),a("el-table-column",{attrs:{"min-width":"150",prop:"project_name",label:"楼盘名称",align:"center"}}),a("el-table-column",{attrs:{"min-width":"100",prop:"amount",label:"账户余额",align:"center"}}),a("el-table-column",{attrs:{"min-width":"120",prop:"returnable_amount",label:"可退金额(已扣除返点)",align:"center"}}),a("el-table-column",{attrs:{"min-width":"100",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.toDetail(t.row)}}},[e._v("查看")]),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.rechargeDialog(t.$index,t.row)}}},[e._v("充值")]),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.refundDialog(t.$index,t.row)}}},[e._v("退款")])]}}])})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","page-size":e.pageSize,layout:"prev, pager, next","current-page":e.currentPage,"hide-on-single-page":e.totalNum<=0,total:e.totalNum},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.pageChange}})],1)],1)])])]),a("el-dialog",{attrs:{title:"充值",visible:e.rechargeData.isShow,width:"420px",center:""},on:{"update:visible":function(t){return e.$set(e.rechargeData,"isShow",t)},close:function(t){return e.resetForm("rechargeData")}}},[a("div",{staticClass:"recharge-dialog"},[a("el-form",{ref:"rechargeData",attrs:{model:e.rechargeData,rules:e.rechargeRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"开发商：",prop:"developerName"}},[a("span",[e._v(e._s(e.rechargeData.rowData.developer_name))])]),a("el-form-item",{attrs:{label:"楼盘名称：",prop:"projectName"}},[a("span",[e._v(e._s(e.rechargeData.rowData.project_name))])]),a("el-form-item",{attrs:{label:"充值日期：",prop:"date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":e.pickerOptions,format:"yyyy-MM-dd",clearable:!1,"value-format":"yyyy-MM-dd"},model:{value:e.rechargeData.date,callback:function(t){e.$set(e.rechargeData,"date",t)},expression:"rechargeData.date"}})],1),a("el-form-item",{attrs:{label:"充值金额：",prop:"money"}},[a("jl-number-input",{attrs:{reg:"twoNum"},model:{value:e.rechargeData.money,callback:function(t){e.$set(e.rechargeData,"money",t)},expression:"rechargeData.money"}})],1),a("el-form-item",{attrs:{label:"返点比例：",prop:"rate"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.rechargeData.rate,callback:function(t){e.$set(e.rechargeData,"rate",t)},expression:"rechargeData.rate"}},e._l(e.rateList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"账户余额增加：",prop:"moneyIncreace"}},[e._v(" "+e._s(e.increase)+"元 ")])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.resetForm("rechargeData")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitRecharge("rechargeData")}}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"退款",visible:e.refundData.isShow,width:"420px",center:""},on:{"update:visible":function(t){return e.$set(e.refundData,"isShow",t)},close:function(t){return e.resetForm("refundData")}}},[a("div",{staticClass:"refund-dialog"},[a("el-form",{ref:"refundData",attrs:{model:e.refundData,rules:e.refundRules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"开发商：",prop:"developerName"}},[a("span",[e._v(e._s(e.refundData.rowData.developer_name))])]),a("el-form-item",{attrs:{label:"楼盘名称：",prop:"projectName"}},[a("span",[e._v(e._s(e.refundData.rowData.project_name))])]),a("el-form-item",{attrs:{label:"退款日期：",prop:"date"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","picker-options":e.pickerOptions,format:"yyyy-MM-dd",clearable:!1,"value-format":"yyyy-MM-dd"},model:{value:e.refundData.date,callback:function(t){e.$set(e.refundData,"date",t)},expression:"refundData.date"}})],1),a("el-form-item",{attrs:{label:"退款金额：",prop:"money"}},[a("jl-number-input",{attrs:{reg:"twoNum"},model:{value:e.refundData.money,callback:function(t){e.$set(e.refundData,"money",t)},expression:"refundData.money"}})],1),a("el-form-item",{attrs:{label:"账户余额减少：",prop:"moneyReduce"}},[e._v(" "+e._s(e.refundData.reduce)+"元 ")]),a("el-form-item",{attrs:{label:"退款后账户余额",prop:"afterRefund"}},[e._v(" "+e._s(e.refundData.afterRefund)+"元 ")])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return e.resetForm("refundData")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitRefund("refundData")}}},[e._v("确 定")])],1)])],1)},o=[]},bce2:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"developer-management-box"},[a("el-breadcrumb",{staticClass:"bread-crumb-box",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[e._v("首页")])]),a("el-breadcrumb-item",[e._v("开发商管理")])],1),a("div",{staticClass:"tabBox"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},["operation_manager"!==e.role&&"operation_specialist"!==e.role?a("el-tab-pane",{attrs:{label:"开发商管理",name:"first",lazy:!0}},[a("kfs-management-tab")],1):e._e(),"operation_manager"!==e.role&&"operation_specialist"!==e.role?a("el-tab-pane",{attrs:{label:"开发商人员管理",name:"second",lazy:!0}},[a("kfs-personal")],1):e._e(),"operation_manager"!==e.role&&"operation_specialist"!==e.role?a("el-tab-pane",{attrs:{label:"开发商余额管理",name:"third",lazy:!0}},[a("kfs-balance")],1):e._e(),a("el-tab-pane",{attrs:{label:"开发商订单分配规则管理",name:"fourth",lazy:!0}},[a("alloc-rule")],1)],1)],1)],1)},o=[]},c0d1:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ksf-management-tab"},[a("div",{staticClass:"v-box form-table-box search-wrap"},[a("div",{staticClass:"bd"},[a("div",{staticClass:"order-search"},[a("ul",{staticClass:"s-query clearfix"},[a("li",[a("div",{staticClass:"th"},[e._v("品牌开发商：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.developerName,callback:function(t){e.developerName=t},expression:"developerName"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("楼盘名称：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.projectName,callback:function(t){e.projectName=t},expression:"projectName"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("楼盘ID：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.projectId,callback:function(t){e.projectId=t},expression:"projectId"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("开发商ID：")]),a("div",{staticClass:"td"},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.developerId,callback:function(t){e.developerId=t},expression:"developerId"}})],1)]),a("li",[a("div",{staticClass:"th"},[e._v("状态：")]),a("div",{staticClass:"td"},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},e._l(e.stateList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.id}})})),1)],1)]),a("li",[a("div",{staticClass:"th"},[e._v("更新时间：")]),a("div",{staticClass:"td"},[a("el-date-picker",{staticClass:"form-date-range-box",attrs:{clearable:"","default-time":["00:00:00","23:59:59"],type:"datetimerange","value-format":"timestamp","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.updateTime,callback:function(t){e.updateTime=t},expression:"updateTime"}})],1)])])]),a("div",{staticClass:"btn-area"},[a("el-button",{on:{click:e.resetSearch}},[e._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.searchData(1)}}},[e._v("搜索")])],1)])]),a("div",{staticClass:"v-box form-table-box"},[a("div",{staticClass:"bd"},[a("div",{staticClass:"search-result"},[a("div",{staticClass:"data-stat"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("p",{staticClass:"total-num"},[e._v("当前条件下共"+e._s(e.totalNum)+"条数据")])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"operation-area"},[a("el-button",{attrs:{type:"primary"},on:{click:e.downloadTemplate}},[e._v("下载模版")]),a("el-button",{attrs:{type:"primary"},on:{click:e.exportFile}},[e._v("导出")]),a("el-upload",{ref:"uploadBtn",staticClass:"upload-file",attrs:{action:"","http-request":e.beforeUpdata,"show-file-list":!1}},[a("el-button",{attrs:{size:"primary"}},[e._v("批量导入 ")])],1),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addModifyKfs("1")}}},[e._v("新增开发商")])],1)])],1)],1),a("div",{staticClass:"table-wrap"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.Loading,expression:"Loading"}],ref:"tableFixedWrap",attrs:{border:"",data:e.tableList,size:"small","row-class-name":"row","cell-class-name":"column","highlight-current-row":!0,"header-cell-style":e.tableHeaderColor}},[a("el-table-column",{attrs:{"min-width":"60",prop:"developer_id",label:"开发商ID",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",prop:"developer_name",label:"品牌开发商",align:"center"}}),a("el-table-column",{attrs:{"min-width":"80",label:"开发商logo",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.developer_logo?a("img",{attrs:{src:t.row.developer_logo,alt:"开发商logo",width:"50"},on:{click:function(a){return e.zoomImg(t.row.developer_logo)}}}):a("span",[e._v("无")])]}}])}),a("el-table-column",{attrs:{"min-width":"100",prop:"developer_desc",label:"开发商概述",align:"center"}}),a("el-table-column",{attrs:{"min-width":"150",prop:"project_name",label:"楼盘名称",align:"center"}}),a("el-table-column",{attrs:{"min-width":"100",prop:"update_datetime",label:"更新时间",align:"center"}}),a("el-table-column",{attrs:{"min-width":"100",prop:"is_delete",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s("1"===t.row.is_delete?"正常":"已删除"))])]}}])}),a("el-table-column",{attrs:{"min-width":"80",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium",disabled:"2"===t.row.is_delete},on:{click:function(a){return e.addModifyKfs("0",t.row.developer_id)}}},[e._v("编辑")]),"1"===t.row.is_delete?a("el-button",{staticClass:"delete-txt",attrs:{type:"text",size:"medium"},on:{click:function(a){return e.deleteDialogShow(t.row.developer_id,"1")}}},[e._v("删除")]):a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){return e.deleteDialogShow(t.row.developer_id,"2")}}},[e._v("恢复")])]}}])})],1),a("div",{staticClass:"pagination"},[e.totalNum-e.pageSize>0?a("el-pagination",{attrs:{background:"","page-size":e.pageSize,layout:"prev, pager, next","current-page":e.currentPage,total:e.totalNum},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.pageChange}}):e._e()],1)],1)])])]),a("el-dialog",{attrs:{title:"系统提示",visible:e.deleteDialog,width:"30%",center:""},on:{"update:visible":function(t){e.deleteDialog=t}}},[a("span",[e._v(e._s(e.deleteDialogText))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteDeveloper}},[e._v("确 定")])],1)]),e.imgShow?a("div",{staticClass:"img-mask",on:{click:function(t){e.imgShow=!1}}},[a("img",{attrs:{src:e.imgPath,width:"500",alt:"图片"}})]):e._e()],1)},o=[]},c7f0:function(e,t,a){"use strict";a.r(t);var r=a("c0d1"),o=a("0999");for(var n in o)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(n);a("0a66");var l=a("2877"),i=Object(l.a)(o.default,r.a,r.b,!1,null,"a6f30dd4",null);t.default=i.exports},dbbf:function(e,t,a){"use strict";a.r(t);var r=a("bce2"),o=a("77ed");for(var n in o)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(n);a("73e5");var l=a("2877"),i=Object(l.a)(o.default,r.a,r.b,!1,null,"a3628426",null);t.default=i.exports},dd78:function(e,t,a){"use strict";a.r(t);var r=a("19b6"),o=a("3e34");for(var n in o)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(n);a("0a99");var l=a("2877"),i=Object(l.a)(o.default,r.a,r.b,!1,null,"839224ec",null);t.default=i.exports},e043:function(e,t,a){"use strict";a.r(t);var r=a("2ace"),o=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t.default=o.a},ec35:function(e,t,a){var r=a("b141");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,a("499e").default)("6a803b0d",r,!0,{sourceMap:!1,shadowMode:!1})}}]);